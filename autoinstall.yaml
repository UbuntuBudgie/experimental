# https://github.com/canonical/subiquity
version: 1
identity:
    realname: ''
    hostname: hostname
    password: "$6$SFSJImkPPNDMWnW1$AGxOm4TudWtN155NmI2B/BNdjs7E0.jo2JAf8tJF.KDtIBTlv3n7YJ2EkRb0JoG2VOnSAszrynJUE.U8JSu2j."
    username: ubuntu
locale: en_GB.UTF-8
keyboard:
  layout: gb
source:
  id: ubuntu-budgie-desktop-minimal
packages:
  - remmina
late-commands:
  - curtin in-target --target=/target -- find /var/lib/snapd -name "snapd-desktop*" -delete
  - curtin in-target --target=/target -- rm -y /snap/bin/snap-store*
  - curtin in-target --target=/target -- find /var/lib/snapd -name "ubuntu-budgie-desktop*" -delete
  - curtin in-target --target=/target -- rm -y /snap/bin/ubuntu-budgie-welcome*
  - curtin in-target --target=/target -- rm -y /snap/bin/budgie*
  - curtin in-target --target=/target -- rm -y /snap/bin/snap-store*
  - curtin in-target --target=/target -- find /var/lib/snapd -name "snap-store*" -delete
  - curtin in-target --target=/target -- rm -rf /var/lib/snap-store
  - curtin in-target --target=/target -- rm -rf /var/lib/ubuntu-budgie-welcome
  - curtin in-target --target=/target -- rm -rf /var/lib/snapd-desktop-integration
  - curtin in-target --target=/target -- rm -rf /snap/snap-store
  - curtin in-target --target=/target -- rm -rf /snap/ubuntu-budgie-welcome
  - curtin in-target --target=/target -- rm -rf /snap/snapd-desktop-integration
  - curtin in-target --target=/target -- apt-get -y --quiet=2 remove onboard magnus  || true
  - curtin in-target --target=/target -- apt-get -y --quiet=2 autoremove || true
  - curtin in-target -- apt install -y $(check-language-support -l en)
updates: all
timezone: Europe/London
storage:
    layout:
      name: lvm
      password: password
      match:
        size: largest
