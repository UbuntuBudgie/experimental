/* WeatherShow.c generated by valac 0.40.4, the Vala compiler
 * generated from WeatherShow.vala, do not modify */



#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>
#include <glib/gi18n-lib.h>
#include <gee.h>
#include <gtk/gtk.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
#include <libsoup/soup.h>
#include <json-glib/json-glib.h>
#include <float.h>
#include <math.h>
#include <gdk/gdk.h>
#include <libpeas/peas.h>
#include <plugin.h>
#include <locale.h>
#include <config.h>
#include <gobject/gvaluecollector.h>

#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA (weather_show_applet_get_weatherdata_get_type ())
#define WEATHER_SHOW_APPLET_GET_WEATHERDATA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA, WeatherShowAppletGetWeatherdata))
#define WEATHER_SHOW_APPLET_GET_WEATHERDATA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA, WeatherShowAppletGetWeatherdataClass))
#define WEATHER_SHOW_APPLET_IS_GET_WEATHERDATA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA))
#define WEATHER_SHOW_APPLET_IS_GET_WEATHERDATA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA))
#define WEATHER_SHOW_APPLET_GET_WEATHERDATA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA, WeatherShowAppletGetWeatherdataClass))

typedef struct _WeatherShowAppletGetWeatherdata WeatherShowAppletGetWeatherdata;
typedef struct _WeatherShowAppletGetWeatherdataClass WeatherShowAppletGetWeatherdataClass;
typedef struct _Block1Data Block1Data;
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))
typedef struct _WeatherShowAppletGetWeatherdataPrivate WeatherShowAppletGetWeatherdataPrivate;
#define __vala_SoupBuffer_free0(var) ((var == NULL) ? NULL : (var = (_vala_SoupBuffer_free (var), NULL)))
typedef struct _Block2Data Block2Data;
#define _weather_show_applet_get_weatherdata_unref0(var) ((var == NULL) ? NULL : (var = (weather_show_applet_get_weatherdata_unref (var), NULL)))
#define _json_object_unref0(var) ((var == NULL) ? NULL : (var = (json_object_unref (var), NULL)))
typedef struct _Block3Data Block3Data;
#define __vala_JsonNode_free0(var) ((var == NULL) ? NULL : (var = (_vala_JsonNode_free (var), NULL)))
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))
#define _json_array_unref0(var) ((var == NULL) ? NULL : (var = (json_array_unref (var), NULL)))
typedef struct _WeatherShowAppletParamSpecGetWeatherdata WeatherShowAppletParamSpecGetWeatherdata;

#define WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_SETTINGS (weather_show_applet_weather_show_settings_get_type ())
#define WEATHER_SHOW_APPLET_WEATHER_SHOW_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_SETTINGS, WeatherShowAppletWeatherShowSettings))
#define WEATHER_SHOW_APPLET_WEATHER_SHOW_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_SETTINGS, WeatherShowAppletWeatherShowSettingsClass))
#define WEATHER_SHOW_APPLET_IS_WEATHER_SHOW_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_SETTINGS))
#define WEATHER_SHOW_APPLET_IS_WEATHER_SHOW_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_SETTINGS))
#define WEATHER_SHOW_APPLET_WEATHER_SHOW_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_SETTINGS, WeatherShowAppletWeatherShowSettingsClass))

typedef struct _WeatherShowAppletWeatherShowSettings WeatherShowAppletWeatherShowSettings;
typedef struct _WeatherShowAppletWeatherShowSettingsClass WeatherShowAppletWeatherShowSettingsClass;
typedef struct _WeatherShowAppletWeatherShowSettingsPrivate WeatherShowAppletWeatherShowSettingsPrivate;
enum  {
	WEATHER_SHOW_APPLET_WEATHER_SHOW_SETTINGS_0_PROPERTY,
	WEATHER_SHOW_APPLET_WEATHER_SHOW_SETTINGS_NUM_PROPERTIES
};
static GParamSpec* weather_show_applet_weather_show_settings_properties[WEATHER_SHOW_APPLET_WEATHER_SHOW_SETTINGS_NUM_PROPERTIES];
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))

#define WEATHER_SHOW_APPLET_TYPE_PLUGIN (weather_show_applet_plugin_get_type ())
#define WEATHER_SHOW_APPLET_PLUGIN(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), WEATHER_SHOW_APPLET_TYPE_PLUGIN, WeatherShowAppletPlugin))
#define WEATHER_SHOW_APPLET_PLUGIN_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), WEATHER_SHOW_APPLET_TYPE_PLUGIN, WeatherShowAppletPluginClass))
#define WEATHER_SHOW_APPLET_IS_PLUGIN(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), WEATHER_SHOW_APPLET_TYPE_PLUGIN))
#define WEATHER_SHOW_APPLET_IS_PLUGIN_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), WEATHER_SHOW_APPLET_TYPE_PLUGIN))
#define WEATHER_SHOW_APPLET_PLUGIN_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), WEATHER_SHOW_APPLET_TYPE_PLUGIN, WeatherShowAppletPluginClass))

typedef struct _WeatherShowAppletPlugin WeatherShowAppletPlugin;
typedef struct _WeatherShowAppletPluginClass WeatherShowAppletPluginClass;
typedef struct _WeatherShowAppletPluginPrivate WeatherShowAppletPluginPrivate;
enum  {
	WEATHER_SHOW_APPLET_PLUGIN_0_PROPERTY,
	WEATHER_SHOW_APPLET_PLUGIN_NUM_PROPERTIES
};
static GParamSpec* weather_show_applet_plugin_properties[WEATHER_SHOW_APPLET_PLUGIN_NUM_PROPERTIES];

#define WEATHER_SHOW_APPLET_TYPE_APPLET (weather_show_applet_applet_get_type ())
#define WEATHER_SHOW_APPLET_APPLET(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), WEATHER_SHOW_APPLET_TYPE_APPLET, WeatherShowAppletApplet))
#define WEATHER_SHOW_APPLET_APPLET_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), WEATHER_SHOW_APPLET_TYPE_APPLET, WeatherShowAppletAppletClass))
#define WEATHER_SHOW_APPLET_IS_APPLET(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), WEATHER_SHOW_APPLET_TYPE_APPLET))
#define WEATHER_SHOW_APPLET_IS_APPLET_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), WEATHER_SHOW_APPLET_TYPE_APPLET))
#define WEATHER_SHOW_APPLET_APPLET_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), WEATHER_SHOW_APPLET_TYPE_APPLET, WeatherShowAppletAppletClass))

typedef struct _WeatherShowAppletApplet WeatherShowAppletApplet;
typedef struct _WeatherShowAppletAppletClass WeatherShowAppletAppletClass;

#define WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_POPOVER (weather_show_applet_weather_show_popover_get_type ())
#define WEATHER_SHOW_APPLET_WEATHER_SHOW_POPOVER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_POPOVER, WeatherShowAppletWeatherShowPopover))
#define WEATHER_SHOW_APPLET_WEATHER_SHOW_POPOVER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_POPOVER, WeatherShowAppletWeatherShowPopoverClass))
#define WEATHER_SHOW_APPLET_IS_WEATHER_SHOW_POPOVER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_POPOVER))
#define WEATHER_SHOW_APPLET_IS_WEATHER_SHOW_POPOVER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_POPOVER))
#define WEATHER_SHOW_APPLET_WEATHER_SHOW_POPOVER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_POPOVER, WeatherShowAppletWeatherShowPopoverClass))

typedef struct _WeatherShowAppletWeatherShowPopover WeatherShowAppletWeatherShowPopover;
typedef struct _WeatherShowAppletWeatherShowPopoverClass WeatherShowAppletWeatherShowPopoverClass;
typedef struct _WeatherShowAppletWeatherShowPopoverPrivate WeatherShowAppletWeatherShowPopoverPrivate;
enum  {
	WEATHER_SHOW_APPLET_WEATHER_SHOW_POPOVER_0_PROPERTY,
	WEATHER_SHOW_APPLET_WEATHER_SHOW_POPOVER_NUM_PROPERTIES
};
static GParamSpec* weather_show_applet_weather_show_popover_properties[WEATHER_SHOW_APPLET_WEATHER_SHOW_POPOVER_NUM_PROPERTIES];
typedef struct _WeatherShowAppletAppletPrivate WeatherShowAppletAppletPrivate;
enum  {
	WEATHER_SHOW_APPLET_APPLET_0_PROPERTY,
	WEATHER_SHOW_APPLET_APPLET_UUID_PROPERTY,
	WEATHER_SHOW_APPLET_APPLET_NUM_PROPERTIES
};
static GParamSpec* weather_show_applet_applet_properties[WEATHER_SHOW_APPLET_APPLET_NUM_PROPERTIES];
#define _g_dir_close0(var) ((var == NULL) ? NULL : (var = (g_dir_close (var), NULL)))

struct _Block1Data {
	int _ref_count_;
	GeeHashMap* result_forecast;
	GeeArrayList* sorted_keys;
	gint n_fc;
	gint curr_index;
};

struct _WeatherShowAppletGetWeatherdata {
	GTypeInstance parent_instance;
	volatile int ref_count;
	WeatherShowAppletGetWeatherdataPrivate * priv;
};

struct _WeatherShowAppletGetWeatherdataClass {
	GTypeClass parent_class;
	void (*finalize) (WeatherShowAppletGetWeatherdata *self);
};

struct _Block2Data {
	int _ref_count_;
	WeatherShowAppletGetWeatherdata* self;
	gchar* tempdisplay;
};

struct _Block3Data {
	int _ref_count_;
	Block2Data * _data2_;
	gint icon_index;
};

struct _WeatherShowAppletParamSpecGetWeatherdata {
	GParamSpec parent_instance;
};

struct _WeatherShowAppletWeatherShowSettings {
	GtkGrid parent_instance;
	WeatherShowAppletWeatherShowSettingsPrivate * priv;
};

struct _WeatherShowAppletWeatherShowSettingsClass {
	GtkGridClass parent_class;
};

struct _WeatherShowAppletWeatherShowSettingsPrivate {
	GtkCheckButton** cbuttons;
	gint cbuttons_length1;
	gint _cbuttons_size_;
	gchar** add_args;
	gint add_args_length1;
	gint _add_args_size_;
	gchar* css_template;
	gchar* css_data;
	GtkScale* transparency_slider;
	GtkButton* colorbutton;
	GtkLabel* colorlabel;
	GtkCheckButton* setposbutton;
	GtkEntry* xpos;
	GtkEntry* ypos;
	GtkLabel* xpos_label;
	GtkLabel* ypos_label;
	GtkButton* apply;
	GtkLabel* transparency_label;
	GtkStack* stack;
	GtkButton* button_desktop;
	GtkButton* button_general;
	GtkLabel* currmarker_label1;
	GtkLabel* currmarker_label2;
	GtkCssProvider* css_provider;
	GtkEntry* cityentry;
	GtkMenu* citymenu;
	GdkScreen* screen;
	GtkEntry* langentry;
	gchar** langlist;
	gint langlist_length1;
	gint _langlist_size_;
	GtkListStore* lang_liststore;
	gchar** langcodes;
	gint langcodes_length1;
	gint _langcodes_size_;
	GtkMenuButton* search_button;
	gchar** city_menurefs;
	gint city_menurefs_length1;
	gint _city_menurefs_size_;
	gchar** city_menucodes;
	gint city_menucodes_length1;
	gint _city_menucodes_size_;
	gboolean edit_citymenu;
};

struct _WeatherShowAppletPlugin {
	PeasExtensionBase parent_instance;
	WeatherShowAppletPluginPrivate * priv;
};

struct _WeatherShowAppletPluginClass {
	PeasExtensionBaseClass parent_class;
};

struct _WeatherShowAppletWeatherShowPopover {
	BudgiePopover parent_instance;
	WeatherShowAppletWeatherShowPopoverPrivate * priv;
};

struct _WeatherShowAppletWeatherShowPopoverClass {
	BudgiePopoverClass parent_class;
};

struct _WeatherShowAppletWeatherShowPopoverPrivate {
	GtkEventBox* indicatorBox;
};

struct _WeatherShowAppletApplet {
	BudgieApplet parent_instance;
	WeatherShowAppletAppletPrivate * priv;
};

struct _WeatherShowAppletAppletClass {
	BudgieAppletClass parent_class;
};

struct _WeatherShowAppletAppletPrivate {
	GtkEventBox* indicatorBox;
	WeatherShowAppletWeatherShowPopover* popover;
	BudgiePopoverManager* manager;
	gchar* _uuid;
};


extern GSettings* weather_show_applet_ws_settings;
GSettings* weather_show_applet_ws_settings = NULL;
extern gboolean weather_show_applet_show_ondesktop;
gboolean weather_show_applet_show_ondesktop = FALSE;
extern gboolean weather_show_applet_dynamic_icon;
gboolean weather_show_applet_dynamic_icon = FALSE;
extern gboolean weather_show_applet_show_forecast;
gboolean weather_show_applet_show_forecast = FALSE;
extern gchar* weather_show_applet_lang;
gchar* weather_show_applet_lang = NULL;
extern gchar* weather_show_applet_tempunit;
gchar* weather_show_applet_tempunit = NULL;
extern gchar** weather_show_applet_directions;
extern gint weather_show_applet_directions_length1;
gchar** weather_show_applet_directions = NULL;
gint weather_show_applet_directions_length1 = 0;
static gint _weather_show_applet_directions_size_ = 0;
extern gchar* weather_show_applet_key;
gchar* weather_show_applet_key = NULL;
extern GtkImage* weather_show_applet_indicatorIcon;
GtkImage* weather_show_applet_indicatorIcon = NULL;
extern GdkPixbuf** weather_show_applet_iconpixbufs;
extern gint weather_show_applet_iconpixbufs_length1;
GdkPixbuf** weather_show_applet_iconpixbufs = NULL;
gint weather_show_applet_iconpixbufs_length1 = 0;
static gint _weather_show_applet_iconpixbufs_size_ = 0;
extern GdkPixbuf** weather_show_applet_iconpixbufs_large;
extern gint weather_show_applet_iconpixbufs_large_length1;
GdkPixbuf** weather_show_applet_iconpixbufs_large = NULL;
gint weather_show_applet_iconpixbufs_large_length1 = 0;
static gint _weather_show_applet_iconpixbufs_large_size_ = 0;
extern gchar** weather_show_applet_iconnames;
extern gint weather_show_applet_iconnames_length1;
gchar** weather_show_applet_iconnames = NULL;
gint weather_show_applet_iconnames_length1 = 0;
static gint _weather_show_applet_iconnames_size_ = 0;
extern gchar* weather_show_applet_citycode;
gchar* weather_show_applet_citycode = NULL;
extern GtkBox* weather_show_applet_container;
GtkBox* weather_show_applet_container = NULL;
extern GtkLabel* weather_show_applet_templabel;
GtkLabel* weather_show_applet_templabel = NULL;
extern WeatherShowAppletGetWeatherdata* weather_show_applet_weather_obj;
WeatherShowAppletGetWeatherdata* weather_show_applet_weather_obj = NULL;
extern GtkStack* weather_show_applet_popoverstack;
GtkStack* weather_show_applet_popoverstack = NULL;
extern gint weather_show_applet_fc_stackindex;
gint weather_show_applet_fc_stackindex = 0;
extern gchar** weather_show_applet_fc_stacknames;
extern gint weather_show_applet_fc_stacknames_length1;
gchar** weather_show_applet_fc_stacknames = NULL;
gint weather_show_applet_fc_stacknames_length1 = 0;
static gint _weather_show_applet_fc_stacknames_size_ = 0;
extern GtkGrid** weather_show_applet_popover_subgrids;
extern gint weather_show_applet_popover_subgrids_length1;
GtkGrid** weather_show_applet_popover_subgrids = NULL;
gint weather_show_applet_popover_subgrids_length1 = 0;
static gint _weather_show_applet_popover_subgrids_size_ = 0;
extern GtkGrid* weather_show_applet_popover_mastergrid;
GtkGrid* weather_show_applet_popover_mastergrid = NULL;
extern GdkPixbuf* weather_show_applet_default_icon;
GdkPixbuf* weather_show_applet_default_icon = NULL;
static gpointer weather_show_applet_get_weatherdata_parent_class = NULL;
static GType weather_show_applet_get_weatherdata_type_id = 0;
static gpointer weather_show_applet_weather_show_settings_parent_class = NULL;
static GType weather_show_applet_weather_show_settings_type_id = 0;
static gpointer weather_show_applet_plugin_parent_class = NULL;
static BudgiePluginIface * weather_show_applet_plugin_budgie_plugin_parent_iface = NULL;
static GType weather_show_applet_plugin_type_id = 0;
static gpointer weather_show_applet_weather_show_popover_parent_class = NULL;
static GType weather_show_applet_weather_show_popover_type_id = 0;
static gpointer weather_show_applet_applet_parent_class = NULL;
static GType weather_show_applet_applet_type_id = 0;

GSettings* weather_show_functions_get_settings (const gchar* path);
void weather_show_functions_open_window (const gchar* path);
gchar* weather_show_functions_find_mappedid (const gchar* icon_id);
gchar* weather_show_functions_weekday (gint day);
GeeArrayList* weather_show_functions_sort_timespan (GeeHashMap* span);
gint weather_show_functions_get_stringindex (const gchar* s,
                                             gchar** arr,
                                             int arr_length1);
gchar** weather_show_functions_get_matches (const gchar* lookfor,
                                            int* result_length1);
static void _vala_array_add1 (gchar** * array,
                       int* length,
                       int* size,
                       gchar* value);
gpointer weather_show_applet_get_weatherdata_ref (gpointer instance);
void weather_show_applet_get_weatherdata_unref (gpointer instance);
GParamSpec* weather_show_applet_param_spec_get_weatherdata (const gchar* name,
                                                            const gchar* nick,
                                                            const gchar* blurb,
                                                            GType object_type,
                                                            GParamFlags flags);
void weather_show_applet_value_set_get_weatherdata (GValue* value,
                                                    gpointer v_object);
void weather_show_applet_value_take_get_weatherdata (GValue* value,
                                                     gpointer v_object);
gpointer weather_show_applet_value_get_get_weatherdata (const GValue* value);
GType weather_show_applet_get_weatherdata_get_type (void) G_GNUC_CONST;
gchar* weather_show_applet_to_hrs (gint t);
void weather_show_applet_get_weather (WeatherShowAppletGetWeatherdata* weather_obj);
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
GeeHashMap* weather_show_applet_get_weatherdata_get_forecast (WeatherShowAppletGetWeatherdata* self);
static gboolean ___lambda5_ (Block1Data* _data1_);
static void _vala_array_add2 (GtkGrid** * array,
                       int* length,
                       int* size,
                       GtkGrid* value);
static void _vala_array_add3 (GtkGrid** * array,
                       int* length,
                       int* size,
                       GtkGrid* value);
static gboolean ____lambda5__gsource_func (gpointer self);
gchar* weather_show_applet_get_weatherdata_get_current (WeatherShowAppletGetWeatherdata* self);
static gchar* weather_show_applet_get_weatherdata_fetch_fromsite (WeatherShowAppletGetWeatherdata* self,
                                                           const gchar* wtype,
                                                           const gchar* city);
static void _vala_SoupBuffer_free (SoupBuffer* self);
static gchar* weather_show_applet_get_weatherdata_check_stringvalue (WeatherShowAppletGetWeatherdata* self,
                                                              JsonObject* obj,
                                                              const gchar* val);
static gfloat weather_show_applet_get_weatherdata_check_numvalue (WeatherShowAppletGetWeatherdata* self,
                                                           JsonObject* obj,
                                                           const gchar* val);
static GeeHashMap* weather_show_applet_get_weatherdata_get_categories (WeatherShowAppletGetWeatherdata* self,
                                                                JsonObject* rootobj);
static gchar* weather_show_applet_get_weatherdata_getsnapshot (WeatherShowAppletGetWeatherdata* self,
                                                        const gchar* data);
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
static gchar* weather_show_applet_get_weatherdata_get_dayornight (WeatherShowAppletGetWeatherdata* self,
                                                           const gchar* dn);
static gchar* weather_show_applet_get_weatherdata_get_temperature (WeatherShowAppletGetWeatherdata* self,
                                                            GeeHashMap* categories);
static gchar* weather_show_applet_get_weatherdata_get_windspeed (WeatherShowAppletGetWeatherdata* self,
                                                          GeeHashMap* categories);
static gchar* weather_show_applet_get_weatherdata_get_winddirection (WeatherShowAppletGetWeatherdata* self,
                                                              GeeHashMap* categories);
static gchar* weather_show_applet_get_weatherdata_get_humidity (WeatherShowAppletGetWeatherdata* self,
                                                         GeeHashMap* categories);
static Block3Data* block3_data_ref (Block3Data* _data3_);
static void block3_data_unref (void * _userdata_);
static gboolean ___lambda4_ (Block3Data* _data3_);
static gboolean ____lambda4__gsource_func (gpointer self);
static GeeHashMap* weather_show_applet_get_weatherdata_getspan (WeatherShowAppletGetWeatherdata* self,
                                                         const gchar* data);
static JsonNode* _vala_JsonNode_copy (JsonNode* self);
static void _vala_JsonNode_free (JsonNode* self);
WeatherShowAppletGetWeatherdata* weather_show_applet_get_weatherdata_new (void);
WeatherShowAppletGetWeatherdata* weather_show_applet_get_weatherdata_construct (GType object_type);
static void weather_show_applet_get_weatherdata_finalize (WeatherShowAppletGetWeatherdata * obj);
GType weather_show_applet_weather_show_settings_get_type (void) G_GNUC_CONST;
#define WEATHER_SHOW_APPLET_WEATHER_SHOW_SETTINGS_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_SETTINGS, WeatherShowAppletWeatherShowSettingsPrivate))
WeatherShowAppletWeatherShowSettings* weather_show_applet_weather_show_settings_new (GSettings* settings);
WeatherShowAppletWeatherShowSettings* weather_show_applet_weather_show_settings_construct (GType object_type,
                                                                                           GSettings* settings);
static void weather_show_applet_weather_show_settings_on_button_general_clicked (WeatherShowAppletWeatherShowSettings* self,
                                                                          GtkButton* button);
static void _weather_show_applet_weather_show_settings_on_button_general_clicked_gtk_button_clicked (GtkButton* _sender,
                                                                                              gpointer self);
static void weather_show_applet_weather_show_settings_on_button_desktop_clicked (WeatherShowAppletWeatherShowSettings* self,
                                                                          GtkButton* button);
static void _weather_show_applet_weather_show_settings_on_button_desktop_clicked_gtk_button_clicked (GtkButton* _sender,
                                                                                              gpointer self);
static gchar* weather_show_applet_weather_show_settings_set_initialcity (WeatherShowAppletWeatherShowSettings* self);
static void weather_show_applet_weather_show_settings_update_citylist (WeatherShowAppletWeatherShowSettings* self,
                                                                GtkEditable* entry);
static void _weather_show_applet_weather_show_settings_update_citylist_gtk_editable_changed (GtkEditable* _sender,
                                                                                      gpointer self);
static void weather_show_applet_weather_show_settings_set_initiallang (WeatherShowAppletWeatherShowSettings* self);
static gboolean weather_show_applet_weather_show_settings_update_langsetting (WeatherShowAppletWeatherShowSettings* self,
                                                                       GtkEntryCompletion* e,
                                                                       GtkTreeModel* t,
                                                                       GtkTreeIter* i);
static gboolean _weather_show_applet_weather_show_settings_update_langsetting_gtk_entry_completion_match_selected (GtkEntryCompletion* _sender,
                                                                                                            GtkTreeModel* model,
                                                                                                            GtkTreeIter* iter,
                                                                                                            gpointer self);
static void weather_show_applet_weather_show_settings_toggle_value (WeatherShowAppletWeatherShowSettings* self,
                                                             GtkToggleButton* button);
static void _weather_show_applet_weather_show_settings_toggle_value_gtk_toggle_button_toggled (GtkToggleButton* _sender,
                                                                                        gpointer self);
static gboolean weather_show_applet_weather_show_settings_get_tempstate (WeatherShowAppletWeatherShowSettings* self);
static void weather_show_applet_weather_show_settings_set_tempunit (WeatherShowAppletWeatherShowSettings* self,
                                                             GtkToggleButton* button);
static void _weather_show_applet_weather_show_settings_set_tempunit_gtk_toggle_button_toggled (GtkToggleButton* _sender,
                                                                                        gpointer self);
void weather_show_applet_weather_show_settings_set_initialtransparency (WeatherShowAppletWeatherShowSettings* self);
void weather_show_applet_weather_show_settings_update_transparencysettings (WeatherShowAppletWeatherShowSettings* self,
                                                                            GtkRange* slider);
static void _weather_show_applet_weather_show_settings_update_transparencysettings_gtk_range_value_changed (GtkRange* _sender,
                                                                                                     gpointer self);
static void weather_show_applet_weather_show_settings_set_buttoncolor (WeatherShowAppletWeatherShowSettings* self);
static void weather_show_applet_weather_show_settings_set_color (WeatherShowAppletWeatherShowSettings* self,
                                                          GtkButton* button);
static void _weather_show_applet_weather_show_settings_set_color_gtk_button_clicked (GtkButton* _sender,
                                                                              gpointer self);
static void weather_show_applet_weather_show_settings_update_xysetting (WeatherShowAppletWeatherShowSettings* self,
                                                                 GtkButton* button);
static void _weather_show_applet_weather_show_settings_update_xysetting_gtk_button_clicked (GtkButton* _sender,
                                                                                     gpointer self);
static void weather_show_applet_weather_show_settings_set_initialpos (WeatherShowAppletWeatherShowSettings* self);
static void __lambda6_ (WeatherShowAppletWeatherShowSettings* self);
static void ___lambda6__g_settings_changed (GSettings* _sender,
                                     const gchar* key,
                                     gpointer self);
static void weather_show_applet_weather_show_settings_update_citysettings (WeatherShowAppletWeatherShowSettings* self,
                                                                    GtkMenuItem* m);
static void _vala_array_add4 (gchar** * array,
                       int* length,
                       int* size,
                       gchar* value);
static void _vala_array_add5 (gchar** * array,
                       int* length,
                       int* size,
                       gchar* value);
static void _weather_show_applet_weather_show_settings_update_citysettings_gtk_menu_item_activate (GtkMenuItem* _sender,
                                                                                            gpointer self);
static gint weather_show_applet_weather_show_settings_get_buttonarg (WeatherShowAppletWeatherShowSettings* self,
                                                              GtkToggleButton* button);
static void weather_show_applet_weather_show_settings_finalize (GObject * obj);
GType weather_show_applet_plugin_get_type (void) G_GNUC_CONST;
static BudgieApplet* weather_show_applet_plugin_real_get_panel_widget (BudgiePlugin* base,
                                                                const gchar* uuid);
WeatherShowAppletApplet* weather_show_applet_applet_new (void);
WeatherShowAppletApplet* weather_show_applet_applet_construct (GType object_type);
GType weather_show_applet_applet_get_type (void) G_GNUC_CONST;
WeatherShowAppletPlugin* weather_show_applet_plugin_new (void);
WeatherShowAppletPlugin* weather_show_applet_plugin_construct (GType object_type);
GType weather_show_applet_weather_show_popover_get_type (void) G_GNUC_CONST;
#define WEATHER_SHOW_APPLET_WEATHER_SHOW_POPOVER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_POPOVER, WeatherShowAppletWeatherShowPopoverPrivate))
WeatherShowAppletWeatherShowPopover* weather_show_applet_weather_show_popover_new (GtkEventBox* indicatorBox);
WeatherShowAppletWeatherShowPopover* weather_show_applet_weather_show_popover_construct (GType object_type,
                                                                                         GtkEventBox* indicatorBox);
static void weather_show_applet_weather_show_popover_previous_stack (WeatherShowAppletWeatherShowPopover* self,
                                                              GtkButton* button);
static void _weather_show_applet_weather_show_popover_previous_stack_gtk_button_clicked (GtkButton* _sender,
                                                                                  gpointer self);
static void weather_show_applet_weather_show_popover_next_stack (WeatherShowAppletWeatherShowPopover* self,
                                                          GtkButton* button);
static void _weather_show_applet_weather_show_popover_next_stack_gtk_button_clicked (GtkButton* _sender,
                                                                              gpointer self);
static void weather_show_applet_weather_show_popover_finalize (GObject * obj);
#define WEATHER_SHOW_APPLET_APPLET_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), WEATHER_SHOW_APPLET_TYPE_APPLET, WeatherShowAppletAppletPrivate))
static gboolean weather_show_applet_applet_real_supports_settings (BudgieApplet* base);
static GtkWidget* weather_show_applet_applet_real_get_settings_ui (BudgieApplet* base);
const gchar* weather_show_applet_applet_get_uuid (WeatherShowAppletApplet* self);
static void weather_show_applet_applet_get_icondata (WeatherShowAppletApplet* self);
static void __lambda7_ (WeatherShowAppletApplet* self);
static void ___lambda7__g_settings_changed (GSettings* _sender,
                                     const gchar* key,
                                     gpointer self);
static void __lambda8_ (WeatherShowAppletApplet* self);
static void ___lambda8__g_settings_changed (GSettings* _sender,
                                     const gchar* key,
                                     gpointer self);
static void __lambda9_ (WeatherShowAppletApplet* self);
static void ___lambda9__g_settings_changed (GSettings* _sender,
                                     const gchar* key,
                                     gpointer self);
static void __lambda10_ (WeatherShowAppletApplet* self);
static void ___lambda10__g_settings_changed (GSettings* _sender,
                                      const gchar* key,
                                      gpointer self);
static void __lambda11_ (WeatherShowAppletApplet* self);
static void ___lambda11__g_settings_changed (GSettings* _sender,
                                      const gchar* key,
                                      gpointer self);
void weather_show_applet_applet_initialiseLocaleLanguageSupport (WeatherShowAppletApplet* self);
static gboolean __lambda12_ (WeatherShowAppletApplet* self,
                      GdkEventButton* e);
static gboolean ___lambda12__gtk_widget_button_press_event (GtkWidget* _sender,
                                                     GdkEventButton* event,
                                                     gpointer self);
static gboolean __lambda13_ (WeatherShowAppletApplet* self);
static gboolean ___lambda13__gsource_func (gpointer self);
static void _vala_array_add6 (gchar** * array,
                       int* length,
                       int* size,
                       gchar* value);
static void _vala_array_add7 (GdkPixbuf** * array,
                       int* length,
                       int* size,
                       GdkPixbuf* value);
static void _vala_array_add8 (GdkPixbuf** * array,
                       int* length,
                       int* size,
                       GdkPixbuf* value);
static void weather_show_applet_applet_real_update_popovers (BudgieApplet* base,
                                                      BudgiePopoverManager* manager);
void weather_show_applet_applet_set_uuid (WeatherShowAppletApplet* self,
                                          const gchar* value);
static void weather_show_applet_applet_finalize (GObject * obj);
static void _vala_weather_show_applet_applet_get_property (GObject * object,
                                                    guint property_id,
                                                    GValue * value,
                                                    GParamSpec * pspec);
static void _vala_weather_show_applet_applet_set_property (GObject * object,
                                                    guint property_id,
                                                    const GValue * value,
                                                    GParamSpec * pspec);
void peas_register_types (GTypeModule* module);
GType weather_show_applet_get_weatherdata_register_type (GTypeModule * module);
GType weather_show_applet_weather_show_settings_register_type (GTypeModule * module);
GType weather_show_applet_plugin_register_type (GTypeModule * module);
GType weather_show_applet_weather_show_popover_register_type (GTypeModule * module);
GType weather_show_applet_applet_register_type (GTypeModule * module);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


GSettings*
weather_show_functions_get_settings (const gchar* path)
{
	GSettings* result = NULL;
	GSettings* settings = NULL;
	GSettings* _tmp0_;
	g_return_val_if_fail (path != NULL, NULL);
	_tmp0_ = g_settings_new (path);
	settings = _tmp0_;
	result = settings;
	return result;
}


void
weather_show_functions_open_window (const gchar* path)
{
	gchar* cmd_check = NULL;
	gchar* _tmp0_;
	gchar* output = NULL;
	GError * _inner_error_ = NULL;
	g_return_if_fail (path != NULL);
	_tmp0_ = g_strconcat ("pgrep -f ", path, NULL);
	cmd_check = _tmp0_;
	{
		const gchar* _tmp1_;
		gchar* _tmp2_ = NULL;
		const gchar* _tmp3_;
		_tmp1_ = cmd_check;
		g_spawn_command_line_sync (_tmp1_, &_tmp2_, NULL, NULL, &_inner_error_);
		_g_free0 (output);
		output = _tmp2_;
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			if (_inner_error_->domain == G_SPAWN_ERROR) {
				goto __catch0_g_spawn_error;
			}
			_g_free0 (output);
			_g_free0 (cmd_check);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
		_tmp3_ = output;
		if (g_strcmp0 (_tmp3_, "") == 0) {
			g_spawn_command_line_async (path, &_inner_error_);
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				if (_inner_error_->domain == G_SPAWN_ERROR) {
					goto __catch0_g_spawn_error;
				}
				_g_free0 (output);
				_g_free0 (cmd_check);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return;
			}
		}
	}
	goto __finally0;
	__catch0_g_spawn_error:
	{
		GError* e = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_g_error_free0 (e);
	}
	__finally0:
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		_g_free0 (output);
		_g_free0 (cmd_check);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
	_g_free0 (output);
	_g_free0 (cmd_check);
}


gchar*
weather_show_functions_find_mappedid (const gchar* icon_id)
{
	gchar* result = NULL;
	gchar* _tmp57_;
	g_return_val_if_fail (icon_id != NULL, NULL);
	if (icon_id != NULL) {
		gchar** replacements = NULL;
		gchar* _tmp0_;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		gchar* _tmp5_;
		gchar* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
		gchar* _tmp11_;
		gchar* _tmp12_;
		gchar* _tmp13_;
		gchar* _tmp14_;
		gchar* _tmp15_;
		gchar* _tmp16_;
		gchar* _tmp17_;
		gchar* _tmp18_;
		gchar* _tmp19_;
		gchar* _tmp20_;
		gchar* _tmp21_;
		gchar* _tmp22_;
		gchar* _tmp23_;
		gchar* _tmp24_;
		gchar* _tmp25_;
		gchar* _tmp26_;
		gchar* _tmp27_;
		gchar* _tmp28_;
		gchar* _tmp29_;
		gchar* _tmp30_;
		gchar* _tmp31_;
		gchar* _tmp32_;
		gchar* _tmp33_;
		gchar* _tmp34_;
		gchar* _tmp35_;
		gchar* _tmp36_;
		gchar* _tmp37_;
		gchar* _tmp38_;
		gchar* _tmp39_;
		gchar* _tmp40_;
		gchar* _tmp41_;
		gchar** _tmp42_;
		gint replacements_length1;
		gint replacements_length2;
		gint lenrep = 0;
		gchar** _tmp43_;
		gint _tmp43__length1;
		gint _tmp43__length2;
		gint _tmp44_;
		gchar* _tmp56_;
		_tmp0_ = g_strdup ("221");
		_tmp1_ = g_strdup ("212");
		_tmp2_ = g_strdup ("231");
		_tmp3_ = g_strdup ("230");
		_tmp4_ = g_strdup ("232");
		_tmp5_ = g_strdup ("230");
		_tmp6_ = g_strdup ("301");
		_tmp7_ = g_strdup ("300");
		_tmp8_ = g_strdup ("302");
		_tmp9_ = g_strdup ("300");
		_tmp10_ = g_strdup ("310");
		_tmp11_ = g_strdup ("300");
		_tmp12_ = g_strdup ("312");
		_tmp13_ = g_strdup ("311");
		_tmp14_ = g_strdup ("314");
		_tmp15_ = g_strdup ("313");
		_tmp16_ = g_strdup ("502");
		_tmp17_ = g_strdup ("501");
		_tmp18_ = g_strdup ("503");
		_tmp19_ = g_strdup ("501");
		_tmp20_ = g_strdup ("504");
		_tmp21_ = g_strdup ("501");
		_tmp22_ = g_strdup ("522");
		_tmp23_ = g_strdup ("521");
		_tmp24_ = g_strdup ("531");
		_tmp25_ = g_strdup ("521");
		_tmp26_ = g_strdup ("622");
		_tmp27_ = g_strdup ("621");
		_tmp28_ = g_strdup ("711");
		_tmp29_ = g_strdup ("701");
		_tmp30_ = g_strdup ("721");
		_tmp31_ = g_strdup ("701");
		_tmp32_ = g_strdup ("731");
		_tmp33_ = g_strdup ("701");
		_tmp34_ = g_strdup ("741");
		_tmp35_ = g_strdup ("701");
		_tmp36_ = g_strdup ("751");
		_tmp37_ = g_strdup ("701");
		_tmp38_ = g_strdup ("761");
		_tmp39_ = g_strdup ("701");
		_tmp40_ = g_strdup ("762");
		_tmp41_ = g_strdup ("701");
		_tmp42_ = g_new0 (gchar*, (21 * 2) + 1);
		_tmp42_[0] = _tmp0_;
		_tmp42_[1] = _tmp1_;
		_tmp42_[2] = _tmp2_;
		_tmp42_[3] = _tmp3_;
		_tmp42_[4] = _tmp4_;
		_tmp42_[5] = _tmp5_;
		_tmp42_[6] = _tmp6_;
		_tmp42_[7] = _tmp7_;
		_tmp42_[8] = _tmp8_;
		_tmp42_[9] = _tmp9_;
		_tmp42_[10] = _tmp10_;
		_tmp42_[11] = _tmp11_;
		_tmp42_[12] = _tmp12_;
		_tmp42_[13] = _tmp13_;
		_tmp42_[14] = _tmp14_;
		_tmp42_[15] = _tmp15_;
		_tmp42_[16] = _tmp16_;
		_tmp42_[17] = _tmp17_;
		_tmp42_[18] = _tmp18_;
		_tmp42_[19] = _tmp19_;
		_tmp42_[20] = _tmp20_;
		_tmp42_[21] = _tmp21_;
		_tmp42_[22] = _tmp22_;
		_tmp42_[23] = _tmp23_;
		_tmp42_[24] = _tmp24_;
		_tmp42_[25] = _tmp25_;
		_tmp42_[26] = _tmp26_;
		_tmp42_[27] = _tmp27_;
		_tmp42_[28] = _tmp28_;
		_tmp42_[29] = _tmp29_;
		_tmp42_[30] = _tmp30_;
		_tmp42_[31] = _tmp31_;
		_tmp42_[32] = _tmp32_;
		_tmp42_[33] = _tmp33_;
		_tmp42_[34] = _tmp34_;
		_tmp42_[35] = _tmp35_;
		_tmp42_[36] = _tmp36_;
		_tmp42_[37] = _tmp37_;
		_tmp42_[38] = _tmp38_;
		_tmp42_[39] = _tmp39_;
		_tmp42_[40] = _tmp40_;
		_tmp42_[41] = _tmp41_;
		replacements = _tmp42_;
		replacements_length1 = 21;
		replacements_length2 = 2;
		_tmp43_ = replacements;
		_tmp43__length1 = replacements_length1;
		_tmp43__length2 = replacements_length2;
		_tmp44_ = _tmp43__length1;
		lenrep = _tmp44_;
		{
			gint i = 0;
			i = 0;
			{
				gboolean _tmp45_ = FALSE;
				_tmp45_ = TRUE;
				while (TRUE) {
					gint _tmp47_;
					gint _tmp48_;
					gchar** _tmp49_;
					gint _tmp49__length1;
					gint _tmp49__length2;
					gint _tmp50_;
					const gchar* _tmp51_;
					if (!_tmp45_) {
						gint _tmp46_;
						_tmp46_ = i;
						i = _tmp46_ + 1;
					}
					_tmp45_ = FALSE;
					_tmp47_ = i;
					_tmp48_ = lenrep;
					if (!(_tmp47_ < _tmp48_)) {
						break;
					}
					_tmp49_ = replacements;
					_tmp49__length1 = replacements_length1;
					_tmp49__length2 = replacements_length2;
					_tmp50_ = i;
					_tmp51_ = _tmp49_[(_tmp50_ * _tmp49__length2) + 0];
					if (g_strcmp0 (icon_id, _tmp51_) == 0) {
						gchar** _tmp52_;
						gint _tmp52__length1;
						gint _tmp52__length2;
						gint _tmp53_;
						const gchar* _tmp54_;
						gchar* _tmp55_;
						_tmp52_ = replacements;
						_tmp52__length1 = replacements_length1;
						_tmp52__length2 = replacements_length2;
						_tmp53_ = i;
						_tmp54_ = _tmp52_[(_tmp53_ * _tmp52__length2) + 1];
						_tmp55_ = g_strdup (_tmp54_);
						result = _tmp55_;
						replacements = (_vala_array_free (replacements, replacements_length1 * replacements_length2, (GDestroyNotify) g_free), NULL);
						return result;
					}
				}
			}
		}
		_tmp56_ = g_strdup (icon_id);
		result = _tmp56_;
		replacements = (_vala_array_free (replacements, replacements_length1 * replacements_length2, (GDestroyNotify) g_free), NULL);
		return result;
	}
	_tmp57_ = g_strdup ("802");
	result = _tmp57_;
	return result;
}


gchar*
weather_show_functions_weekday (gint day)
{
	gchar* result = NULL;
	gchar** days = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar** _tmp7_;
	gint days_length1;
	gint _days_size_;
	const gchar* _tmp8_;
	gchar* _tmp9_;
	_tmp0_ = g_strdup (_ ("Monday"));
	_tmp1_ = g_strdup (_ ("Tuesday"));
	_tmp2_ = g_strdup (_ ("Wednesday"));
	_tmp3_ = g_strdup (_ ("Thursday"));
	_tmp4_ = g_strdup (_ ("Friday"));
	_tmp5_ = g_strdup (_ ("Saturday"));
	_tmp6_ = g_strdup (_ ("Sunday"));
	_tmp7_ = g_new0 (gchar*, 7 + 1);
	_tmp7_[0] = _tmp0_;
	_tmp7_[1] = _tmp1_;
	_tmp7_[2] = _tmp2_;
	_tmp7_[3] = _tmp3_;
	_tmp7_[4] = _tmp4_;
	_tmp7_[5] = _tmp5_;
	_tmp7_[6] = _tmp6_;
	days = _tmp7_;
	days_length1 = 7;
	_days_size_ = days_length1;
	_tmp8_ = days[day - 1];
	_tmp9_ = g_strdup (_tmp8_);
	result = _tmp9_;
	days = (_vala_array_free (days, days_length1, (GDestroyNotify) g_free), NULL);
	return result;
}


GeeArrayList*
weather_show_functions_sort_timespan (GeeHashMap* span)
{
	GeeArrayList* result = NULL;
	GeeArrayList* sortlist = NULL;
	GeeArrayList* _tmp0_;
	GeeArrayList* _tmp13_;
	g_return_val_if_fail (span != NULL, NULL);
	_tmp0_ = gee_array_list_new (G_TYPE_INT, NULL, NULL, NULL, NULL, NULL);
	sortlist = _tmp0_;
	{
		GeeIterator* _entry_it = NULL;
		GeeSet* _tmp1_;
		GeeSet* _tmp2_;
		GeeSet* _tmp3_;
		GeeIterator* _tmp4_;
		GeeIterator* _tmp5_;
		_tmp1_ = gee_abstract_map_get_entries ((GeeAbstractMap*) span);
		_tmp2_ = _tmp1_;
		_tmp3_ = _tmp2_;
		_tmp4_ = gee_iterable_iterator ((GeeIterable*) _tmp3_);
		_tmp5_ = _tmp4_;
		_g_object_unref0 (_tmp3_);
		_entry_it = _tmp5_;
		while (TRUE) {
			GeeIterator* _tmp6_;
			GeeMapEntry* entry = NULL;
			GeeIterator* _tmp7_;
			gpointer _tmp8_;
			GeeArrayList* _tmp9_;
			GeeMapEntry* _tmp10_;
			gconstpointer _tmp11_;
			gint _tmp12_;
			_tmp6_ = _entry_it;
			if (!gee_iterator_next (_tmp6_)) {
				break;
			}
			_tmp7_ = _entry_it;
			_tmp8_ = gee_iterator_get (_tmp7_);
			entry = (GeeMapEntry*) _tmp8_;
			_tmp9_ = sortlist;
			_tmp10_ = entry;
			_tmp11_ = gee_map_entry_get_key (_tmp10_);
			_tmp12_ = _tmp11_;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp9_, (gpointer) ((gintptr) ((gint) ((gintptr) _tmp12_))));
			_g_object_unref0 (entry);
		}
		_g_object_unref0 (_entry_it);
	}
	_tmp13_ = sortlist;
	gee_list_sort ((GeeList*) _tmp13_, NULL, NULL, NULL);
	result = sortlist;
	return result;
}


gint
weather_show_functions_get_stringindex (const gchar* s,
                                        gchar** arr,
                                        int arr_length1)
{
	gint result = 0;
	g_return_val_if_fail (s != NULL, 0);
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp0_ = FALSE;
			_tmp0_ = TRUE;
			while (TRUE) {
				gint _tmp2_;
				gint _tmp3_;
				const gchar* _tmp4_;
				if (!_tmp0_) {
					gint _tmp1_;
					_tmp1_ = i;
					i = _tmp1_ + 1;
				}
				_tmp0_ = FALSE;
				_tmp2_ = i;
				if (!(_tmp2_ < arr_length1)) {
					break;
				}
				_tmp3_ = i;
				_tmp4_ = arr[_tmp3_];
				if (g_strcmp0 (s, _tmp4_) == 0) {
					result = i;
					return result;
				}
			}
		}
	}
	result = -1;
	return result;
}


static glong
string_strnlen (gchar* str,
                glong maxlen)
{
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	_tmp0_ = memchr (str, 0, (gsize) maxlen);
	end = _tmp0_;
	_tmp1_ = end;
	if (_tmp1_ == NULL) {
		result = maxlen;
		return result;
	} else {
		gchar* _tmp2_;
		_tmp2_ = end;
		result = (glong) (_tmp2_ - str);
		return result;
	}
}


static gchar*
string_substring (const gchar* self,
                  glong offset,
                  glong len)
{
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp6_;
	gchar* _tmp7_;
	g_return_val_if_fail (self != NULL, NULL);
	if (offset >= ((glong) 0)) {
		_tmp0_ = len >= ((glong) 0);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		string_length = string_strnlen ((gchar*) self, offset + len);
	} else {
		gint _tmp1_;
		gint _tmp2_;
		_tmp1_ = strlen (self);
		_tmp2_ = _tmp1_;
		string_length = (glong) _tmp2_;
	}
	if (offset < ((glong) 0)) {
		glong _tmp3_;
		_tmp3_ = string_length;
		offset = _tmp3_ + offset;
		g_return_val_if_fail (offset >= ((glong) 0), NULL);
	} else {
		glong _tmp4_;
		_tmp4_ = string_length;
		g_return_val_if_fail (offset <= _tmp4_, NULL);
	}
	if (len < ((glong) 0)) {
		glong _tmp5_;
		_tmp5_ = string_length;
		len = _tmp5_ - offset;
	}
	_tmp6_ = string_length;
	g_return_val_if_fail ((offset + len) <= _tmp6_, NULL);
	_tmp7_ = g_strndup (((gchar*) self) + offset, (gsize) len);
	result = _tmp7_;
	return result;
}


static gboolean
string_contains (const gchar* self,
                 const gchar* needle)
{
	gboolean result = FALSE;
	gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (needle != NULL, FALSE);
	_tmp0_ = strstr ((gchar*) self, (gchar*) needle);
	result = _tmp0_ != NULL;
	return result;
}


static void
_vala_array_add1 (gchar** * array,
                  int* length,
                  int* size,
                  gchar* value)
{
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (gchar*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


gchar**
weather_show_functions_get_matches (const gchar* lookfor,
                                    int* result_length1)
{
	gchar** result = NULL;
	GFile* datasrc = NULL;
	GFile* _tmp0_;
	gint len_lookfor = 0;
	gchar* fixed = NULL;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gint _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (lookfor != NULL, NULL);
	_tmp0_ = g_file_new_for_path ("/usr/lib/budgie-desktop/plugins/budgie-weathershow/cities");
	datasrc = _tmp0_;
	len_lookfor = g_utf8_strlen (lookfor, (gssize) -1);
	_tmp1_ = string_substring (lookfor, (glong) 0, (glong) 1);
	_tmp2_ = _tmp1_;
	_tmp3_ = g_utf8_strup (_tmp2_, (gssize) -1);
	_tmp4_ = _tmp3_;
	_tmp5_ = len_lookfor;
	_tmp6_ = string_substring (lookfor, (glong) 1, (glong) (_tmp5_ - 1));
	_tmp7_ = _tmp6_;
	_tmp8_ = g_utf8_strdown (_tmp7_, (gssize) -1);
	_tmp9_ = _tmp8_;
	_tmp10_ = g_strconcat (_tmp4_, _tmp9_, NULL);
	_tmp11_ = _tmp10_;
	_g_free0 (_tmp9_);
	_g_free0 (_tmp7_);
	_g_free0 (_tmp4_);
	_g_free0 (_tmp2_);
	fixed = _tmp11_;
	{
		GFileInputStream* _tmp12_ = NULL;
		GFile* _tmp13_;
		GFileInputStream* _tmp14_;
		GDataInputStream* dis = NULL;
		GDataInputStream* _tmp15_;
		gchar* line = NULL;
		gchar** matches = NULL;
		gchar** _tmp16_;
		gint matches_length1;
		gint _matches_size_;
		gchar** _tmp27_;
		gint _tmp27__length1;
		_tmp13_ = datasrc;
		_tmp14_ = g_file_read (_tmp13_, NULL, &_inner_error_);
		_tmp12_ = _tmp14_;
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			goto __catch1_g_error;
		}
		_tmp15_ = g_data_input_stream_new ((GInputStream*) _tmp12_);
		dis = _tmp15_;
		_tmp16_ = g_new0 (gchar*, 0 + 1);
		matches = _tmp16_;
		matches_length1 = 0;
		_matches_size_ = matches_length1;
		while (TRUE) {
			gchar* _tmp17_ = NULL;
			GDataInputStream* _tmp18_;
			gchar* _tmp19_;
			gchar* _tmp20_;
			const gchar* _tmp21_;
			const gchar* _tmp22_;
			const gchar* _tmp23_;
			_tmp18_ = dis;
			_tmp19_ = g_data_input_stream_read_line (_tmp18_, NULL, NULL, &_inner_error_);
			_tmp17_ = _tmp19_;
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				matches = (_vala_array_free (matches, matches_length1, (GDestroyNotify) g_free), NULL);
				_g_free0 (line);
				_g_object_unref0 (dis);
				_g_object_unref0 (_tmp12_);
				goto __catch1_g_error;
			}
			_tmp20_ = _tmp17_;
			_tmp17_ = NULL;
			_g_free0 (line);
			line = _tmp20_;
			_tmp21_ = line;
			if (!(_tmp21_ != NULL)) {
				_g_free0 (_tmp17_);
				break;
			}
			_tmp22_ = line;
			_tmp23_ = fixed;
			if (string_contains (_tmp22_, _tmp23_)) {
				gchar** _tmp24_;
				gint _tmp24__length1;
				const gchar* _tmp25_;
				gchar* _tmp26_;
				_tmp24_ = matches;
				_tmp24__length1 = matches_length1;
				_tmp25_ = line;
				_tmp26_ = g_strdup (_tmp25_);
				_vala_array_add1 (&matches, &matches_length1, &_matches_size_, _tmp26_);
			}
			_g_free0 (_tmp17_);
		}
		_tmp27_ = matches;
		_tmp27__length1 = matches_length1;
		if (result_length1) {
			*result_length1 = _tmp27__length1;
		}
		result = _tmp27_;
		_g_free0 (line);
		_g_object_unref0 (dis);
		_g_object_unref0 (_tmp12_);
		_g_free0 (fixed);
		_g_object_unref0 (datasrc);
		return result;
	}
	goto __finally1;
	__catch1_g_error:
	{
		GError* e = NULL;
		gchar** _tmp28_;
		gchar** _tmp29_;
		gint _tmp29__length1;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp28_ = g_new0 (gchar*, 0 + 1);
		_tmp29_ = _tmp28_;
		_tmp29__length1 = 0;
		if (result_length1) {
			*result_length1 = _tmp29__length1;
		}
		result = _tmp29_;
		_g_error_free0 (e);
		_g_free0 (fixed);
		_g_object_unref0 (datasrc);
		return result;
	}
	__finally1:
	_g_free0 (fixed);
	_g_object_unref0 (datasrc);
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return NULL;
}


gchar*
weather_show_applet_to_hrs (gint t)
{
	gchar* result = NULL;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	if (t < 10) {
		gchar* _tmp0_;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		gchar* _tmp5_;
		_tmp0_ = g_strdup_printf ("%i", t);
		_tmp1_ = _tmp0_;
		_tmp2_ = g_strconcat ("0", _tmp1_, NULL);
		_tmp3_ = _tmp2_;
		_tmp4_ = g_strconcat (_tmp3_, ":00", NULL);
		_tmp5_ = _tmp4_;
		_g_free0 (_tmp3_);
		_g_free0 (_tmp1_);
		result = _tmp5_;
		return result;
	}
	_tmp6_ = g_strdup_printf ("%i", t);
	_tmp7_ = _tmp6_;
	_tmp8_ = g_strconcat (_tmp7_, ":00", NULL);
	_tmp9_ = _tmp8_;
	_g_free0 (_tmp7_);
	result = _tmp9_;
	return result;
}


static Block1Data*
block1_data_ref (Block1Data* _data1_)
{
	g_atomic_int_inc (&_data1_->_ref_count_);
	return _data1_;
}


static void
block1_data_unref (void * _userdata_)
{
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
		_g_object_unref0 (_data1_->sorted_keys);
		_g_object_unref0 (_data1_->result_forecast);
		g_slice_free (Block1Data, _data1_);
	}
}


static gpointer
_g_object_ref0 (gpointer self)
{
	return self ? g_object_ref (self) : NULL;
}


static void
_vala_array_add2 (GtkGrid** * array,
                  int* length,
                  int* size,
                  GtkGrid* value)
{
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (GtkGrid*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


static void
_vala_array_add3 (GtkGrid** * array,
                  int* length,
                  int* size,
                  GtkGrid* value)
{
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (GtkGrid*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


static gboolean
___lambda5_ (Block1Data* _data1_)
{
	gboolean result = FALSE;
	GtkGrid** _tmp0_;
	gint _tmp0__length1;
	GtkStack* _tmp3_;
	GtkGrid** _tmp4_;
	GtkStack* _tmp12_;
	GtkStack* _tmp13_;
	GtkStack* _tmp14_;
	GtkStack* _tmp15_;
	GtkStack* _tmp16_;
	GtkGrid* currgrid = NULL;
	GtkGrid** _tmp17_;
	gint _tmp17__length1;
	GtkGrid* _tmp18_;
	GtkGrid* _tmp19_;
	_tmp0_ = weather_show_applet_popover_subgrids;
	_tmp0__length1 = weather_show_applet_popover_subgrids_length1;
	{
		GtkGrid** gr_collection = NULL;
		gint gr_collection_length1 = 0;
		gint _gr_collection_size_ = 0;
		gint gr_it = 0;
		gr_collection = _tmp0_;
		gr_collection_length1 = _tmp0__length1;
		for (gr_it = 0; gr_it < _tmp0__length1; gr_it = gr_it + 1) {
			GtkGrid* _tmp1_;
			GtkGrid* gr = NULL;
			_tmp1_ = _g_object_ref0 (gr_collection[gr_it]);
			gr = _tmp1_;
			{
				GtkGrid* _tmp2_;
				_tmp2_ = gr;
				gtk_widget_destroy ((GtkWidget*) _tmp2_);
				_g_object_unref0 (gr);
			}
		}
	}
	_tmp3_ = weather_show_applet_popoverstack;
	gtk_widget_destroy ((GtkWidget*) _tmp3_);
	_tmp4_ = g_new0 (GtkGrid*, 0 + 1);
	weather_show_applet_popover_subgrids = (_vala_array_free (weather_show_applet_popover_subgrids, weather_show_applet_popover_subgrids_length1, (GDestroyNotify) g_object_unref), NULL);
	weather_show_applet_popover_subgrids = _tmp4_;
	weather_show_applet_popover_subgrids_length1 = 0;
	_weather_show_applet_popover_subgrids_size_ = weather_show_applet_popover_subgrids_length1;
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp5_ = FALSE;
			_tmp5_ = TRUE;
			while (TRUE) {
				gint _tmp7_;
				GtkGrid* newpagegrid = NULL;
				GtkGrid* _tmp8_;
				GtkGrid** _tmp9_;
				gint _tmp9__length1;
				GtkGrid* _tmp10_;
				GtkGrid* _tmp11_;
				if (!_tmp5_) {
					gint _tmp6_;
					_tmp6_ = i;
					i = _tmp6_ + 1;
				}
				_tmp5_ = FALSE;
				_tmp7_ = i;
				if (!(_tmp7_ < 4)) {
					break;
				}
				_tmp8_ = (GtkGrid*) gtk_grid_new ();
				g_object_ref_sink (_tmp8_);
				newpagegrid = _tmp8_;
				_tmp9_ = weather_show_applet_popover_subgrids;
				_tmp9__length1 = weather_show_applet_popover_subgrids_length1;
				_tmp10_ = newpagegrid;
				_tmp11_ = _g_object_ref0 (_tmp10_);
				_vala_array_add2 (&weather_show_applet_popover_subgrids, &weather_show_applet_popover_subgrids_length1, &_weather_show_applet_popover_subgrids_size_, _tmp11_);
				_g_object_unref0 (newpagegrid);
			}
		}
	}
	_tmp12_ = (GtkStack*) gtk_stack_new ();
	g_object_ref_sink (_tmp12_);
	_g_object_unref0 (weather_show_applet_popoverstack);
	weather_show_applet_popoverstack = _tmp12_;
	_tmp13_ = weather_show_applet_popoverstack;
	gtk_stack_set_transition_type (_tmp13_, GTK_STACK_TRANSITION_TYPE_SLIDE_LEFT_RIGHT);
	_tmp14_ = weather_show_applet_popoverstack;
	gtk_stack_set_transition_duration (_tmp14_, (guint) 500);
	_tmp15_ = weather_show_applet_popoverstack;
	gtk_widget_set_vexpand ((GtkWidget*) _tmp15_, TRUE);
	_tmp16_ = weather_show_applet_popoverstack;
	gtk_widget_set_hexpand ((GtkWidget*) _tmp16_, TRUE);
	_tmp17_ = weather_show_applet_popover_subgrids;
	_tmp17__length1 = weather_show_applet_popover_subgrids_length1;
	_tmp18_ = _tmp17_[0];
	_tmp19_ = _g_object_ref0 (_tmp18_);
	currgrid = _tmp19_;
	{
		GeeArrayList* _stamp_list = NULL;
		GeeArrayList* _tmp20_;
		GeeArrayList* _tmp21_;
		gint _stamp_size = 0;
		GeeArrayList* _tmp22_;
		gint _tmp23_;
		gint _tmp24_;
		gint _stamp_index = 0;
		_tmp20_ = _data1_->sorted_keys;
		_tmp21_ = _g_object_ref0 (_tmp20_);
		_stamp_list = _tmp21_;
		_tmp22_ = _stamp_list;
		_tmp23_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp22_);
		_tmp24_ = _tmp23_;
		_stamp_size = _tmp24_;
		_stamp_index = -1;
		while (TRUE) {
			gint _tmp25_;
			gint _tmp26_;
			gint _tmp27_;
			gint stamp = 0;
			GeeArrayList* _tmp28_;
			gint _tmp29_;
			gpointer _tmp30_;
			GDateTime* time = NULL;
			gint _tmp31_;
			GDateTime* _tmp32_;
			gchar* hour = NULL;
			GDateTime* _tmp33_;
			gchar* _tmp34_;
			gchar* day = NULL;
			GDateTime* _tmp35_;
			gchar* _tmp36_;
			GtkGrid** _tmp37_;
			gint _tmp37__length1;
			gint _tmp38_;
			GtkGrid* _tmp39_;
			GtkGrid* _tmp40_;
			GtkGrid* _tmp41_;
			GtkGrid* _tmp42_;
			GtkLabel* _tmp43_;
			GtkLabel* _tmp44_;
			GtkGrid* _tmp45_;
			GtkLabel* _tmp46_;
			GtkLabel* _tmp47_;
			GtkImage* weather_image = NULL;
			GtkImage* _tmp48_;
			GtkGrid* _tmp49_;
			GtkImage* _tmp50_;
			gint _tmp51_;
			GtkLabel* timelabel = NULL;
			const gchar* _tmp52_;
			GtkLabel* _tmp53_;
			GtkGrid* _tmp54_;
			GtkLabel* _tmp55_;
			gint _tmp56_;
			GtkLabel* daylabel = NULL;
			const gchar* _tmp57_;
			GtkLabel* _tmp58_;
			GtkGrid* _tmp59_;
			GtkLabel* _tmp60_;
			gint _tmp61_;
			gchar** labelsrc = NULL;
			GeeHashMap* _tmp62_;
			gint _tmp63_;
			gpointer _tmp64_;
			gchar* _tmp65_;
			gchar** _tmp66_;
			gchar** _tmp67_;
			gchar** _tmp68_;
			gint _tmp68__length1;
			gint labelsrc_length1;
			gint _labelsrc_size_;
			gchar* iconname = NULL;
			gchar** _tmp69_;
			gint _tmp69__length1;
			const gchar* _tmp70_;
			gchar* _tmp71_;
			gchar* _tmp72_;
			gchar** _tmp73_;
			gint _tmp73__length1;
			const gchar* _tmp74_;
			gchar* _tmp75_;
			gchar* _tmp76_;
			gint ic_index = 0;
			const gchar* _tmp77_;
			gchar** _tmp78_;
			gint _tmp78__length1;
			gint line_index = 0;
			gchar** _tmp79_;
			gint _tmp79__length1;
			GtkImage* _tmp88_;
			GdkPixbuf** _tmp89_;
			gint _tmp89__length1;
			gint _tmp90_;
			GdkPixbuf* _tmp91_;
			gint _tmp92_;
			gint _tmp93_;
			_tmp25_ = _stamp_index;
			_stamp_index = _tmp25_ + 1;
			_tmp26_ = _stamp_index;
			_tmp27_ = _stamp_size;
			if (!(_tmp26_ < _tmp27_)) {
				break;
			}
			_tmp28_ = _stamp_list;
			_tmp29_ = _stamp_index;
			_tmp30_ = gee_abstract_list_get ((GeeAbstractList*) _tmp28_, _tmp29_);
			stamp = (gint) ((gintptr) _tmp30_);
			_tmp31_ = stamp;
			_tmp32_ = g_date_time_new_from_unix_local ((gint64) _tmp31_);
			time = _tmp32_;
			_tmp33_ = time;
			_tmp34_ = weather_show_applet_to_hrs (g_date_time_get_hour (_tmp33_));
			hour = _tmp34_;
			_tmp35_ = time;
			_tmp36_ = weather_show_functions_weekday (g_date_time_get_day_of_week (_tmp35_));
			day = _tmp36_;
			_tmp37_ = weather_show_applet_popover_subgrids;
			_tmp37__length1 = weather_show_applet_popover_subgrids_length1;
			_tmp38_ = _data1_->curr_index;
			_tmp39_ = _tmp37_[_tmp38_];
			_tmp40_ = _g_object_ref0 (_tmp39_);
			_g_object_unref0 (currgrid);
			currgrid = _tmp40_;
			_tmp41_ = currgrid;
			gtk_grid_set_column_spacing (_tmp41_, (guint) 40);
			_tmp42_ = currgrid;
			_tmp43_ = (GtkLabel*) gtk_label_new ("");
			g_object_ref_sink (_tmp43_);
			_tmp44_ = _tmp43_;
			gtk_grid_attach (_tmp42_, (GtkWidget*) _tmp44_, 0, 0, 1, 1);
			_g_object_unref0 (_tmp44_);
			_tmp45_ = currgrid;
			_tmp46_ = (GtkLabel*) gtk_label_new ("");
			g_object_ref_sink (_tmp46_);
			_tmp47_ = _tmp46_;
			gtk_grid_attach (_tmp45_, (GtkWidget*) _tmp47_, 0, 10, 1, 1);
			_g_object_unref0 (_tmp47_);
			_tmp48_ = (GtkImage*) gtk_image_new ();
			g_object_ref_sink (_tmp48_);
			weather_image = _tmp48_;
			_tmp49_ = currgrid;
			_tmp50_ = weather_image;
			_tmp51_ = _data1_->n_fc;
			gtk_grid_attach (_tmp49_, (GtkWidget*) _tmp50_, _tmp51_, 3, 1, 1);
			_tmp52_ = hour;
			_tmp53_ = (GtkLabel*) gtk_label_new (_tmp52_);
			g_object_ref_sink (_tmp53_);
			timelabel = _tmp53_;
			_tmp54_ = currgrid;
			_tmp55_ = timelabel;
			_tmp56_ = _data1_->n_fc;
			gtk_grid_attach (_tmp54_, (GtkWidget*) _tmp55_, _tmp56_, 2, 1, 1);
			_tmp57_ = day;
			_tmp58_ = (GtkLabel*) gtk_label_new (_tmp57_);
			g_object_ref_sink (_tmp58_);
			daylabel = _tmp58_;
			_tmp59_ = currgrid;
			_tmp60_ = daylabel;
			_tmp61_ = _data1_->n_fc;
			gtk_grid_attach (_tmp59_, (GtkWidget*) _tmp60_, _tmp61_, 1, 1, 1);
			_tmp62_ = _data1_->result_forecast;
			_tmp63_ = stamp;
			_tmp64_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp62_, (gpointer) ((gintptr) _tmp63_));
			_tmp65_ = (gchar*) _tmp64_;
			_tmp67_ = _tmp66_ = g_strsplit (_tmp65_, "\n", 0);
			_tmp68_ = _tmp67_;
			_tmp68__length1 = _vala_array_length (_tmp66_);
			_g_free0 (_tmp65_);
			labelsrc = _tmp68_;
			labelsrc_length1 = _tmp68__length1;
			_labelsrc_size_ = labelsrc_length1;
			_tmp69_ = labelsrc;
			_tmp69__length1 = labelsrc_length1;
			_tmp70_ = _tmp69_[0];
			_tmp71_ = weather_show_functions_find_mappedid (_tmp70_);
			_tmp72_ = _tmp71_;
			_tmp73_ = labelsrc;
			_tmp73__length1 = labelsrc_length1;
			_tmp74_ = _tmp73_[1];
			_tmp75_ = g_strconcat (_tmp72_, _tmp74_, NULL);
			_tmp76_ = _tmp75_;
			_g_free0 (_tmp72_);
			iconname = _tmp76_;
			_tmp77_ = iconname;
			_tmp78_ = weather_show_applet_iconnames;
			_tmp78__length1 = weather_show_applet_iconnames_length1;
			ic_index = weather_show_functions_get_stringindex (_tmp77_, _tmp78_, _tmp78__length1);
			line_index = 4;
			_tmp79_ = labelsrc;
			_tmp79__length1 = labelsrc_length1;
			{
				gchar** l_collection = NULL;
				gint l_collection_length1 = 0;
				gint _l_collection_size_ = 0;
				gint l_it = 0;
				l_collection = _tmp79_ + 2;
				l_collection_length1 = 6 - 2;
				for (l_it = 0; l_it < (6 - 2); l_it = l_it + 1) {
					gchar* _tmp80_;
					gchar* l = NULL;
					_tmp80_ = g_strdup (l_collection[l_it]);
					l = _tmp80_;
					{
						GtkGrid* _tmp81_;
						const gchar* _tmp82_;
						GtkLabel* _tmp83_;
						GtkLabel* _tmp84_;
						gint _tmp85_;
						gint _tmp86_;
						gint _tmp87_;
						_tmp81_ = currgrid;
						_tmp82_ = l;
						_tmp83_ = (GtkLabel*) gtk_label_new (_tmp82_);
						g_object_ref_sink (_tmp83_);
						_tmp84_ = _tmp83_;
						_tmp85_ = _data1_->n_fc;
						_tmp86_ = line_index;
						gtk_grid_attach (_tmp81_, (GtkWidget*) _tmp84_, _tmp85_, _tmp86_, 1, 1);
						_g_object_unref0 (_tmp84_);
						_tmp87_ = line_index;
						line_index = _tmp87_ + 1;
						_g_free0 (l);
					}
				}
			}
			_tmp88_ = weather_image;
			_tmp89_ = weather_show_applet_iconpixbufs_large;
			_tmp89__length1 = weather_show_applet_iconpixbufs_large_length1;
			_tmp90_ = ic_index;
			_tmp91_ = _tmp89_[_tmp90_];
			gtk_image_set_from_pixbuf (_tmp88_, _tmp91_);
			_tmp92_ = _data1_->n_fc;
			_data1_->n_fc = _tmp92_ + 1;
			_tmp93_ = _data1_->n_fc;
			if (_tmp93_ == 4) {
				GtkGrid* _tmp94_;
				GtkGrid** _tmp95_;
				gint _tmp95__length1;
				GtkGrid* _tmp96_;
				GtkGrid* _tmp97_;
				GtkStack* _tmp98_;
				GtkGrid* _tmp99_;
				gint _tmp100_;
				gchar* _tmp101_;
				gchar* _tmp102_;
				gchar* _tmp103_;
				gchar* _tmp104_;
				gint _tmp105_;
				gint _tmp106_;
				GtkStack* _tmp109_;
				GtkGrid* _tmp110_;
				GtkGrid* _tmp111_;
				_tmp94_ = currgrid;
				gtk_grid_set_column_homogeneous (_tmp94_, TRUE);
				_tmp95_ = weather_show_applet_popover_subgrids;
				_tmp95__length1 = weather_show_applet_popover_subgrids_length1;
				_tmp96_ = currgrid;
				_tmp97_ = _g_object_ref0 (_tmp96_);
				_vala_array_add3 (&weather_show_applet_popover_subgrids, &weather_show_applet_popover_subgrids_length1, &_weather_show_applet_popover_subgrids_size_, _tmp97_);
				_tmp98_ = weather_show_applet_popoverstack;
				_tmp99_ = currgrid;
				_tmp100_ = _data1_->curr_index;
				_tmp101_ = g_strdup_printf ("%i", _tmp100_);
				_tmp102_ = _tmp101_;
				_tmp103_ = g_strconcat ("forecast", _tmp102_, NULL);
				_tmp104_ = _tmp103_;
				gtk_stack_add_named (_tmp98_, (GtkWidget*) _tmp99_, _tmp104_);
				_g_free0 (_tmp104_);
				_g_free0 (_tmp102_);
				_tmp105_ = _data1_->curr_index;
				_data1_->curr_index = _tmp105_ + 1;
				_tmp106_ = _data1_->curr_index;
				if (_tmp106_ == 4) {
					GtkGrid* _tmp107_;
					GtkStack* _tmp108_;
					_tmp107_ = weather_show_applet_popover_mastergrid;
					_tmp108_ = weather_show_applet_popoverstack;
					gtk_grid_attach (_tmp107_, (GtkWidget*) _tmp108_, 1, 0, 1, 1);
				}
				_tmp109_ = weather_show_applet_popoverstack;
				gtk_stack_set_visible_child_name (_tmp109_, "forecast0");
				_tmp110_ = currgrid;
				gtk_widget_show_all ((GtkWidget*) _tmp110_);
				_tmp111_ = weather_show_applet_popover_mastergrid;
				gtk_widget_show_all ((GtkWidget*) _tmp111_);
				_data1_->n_fc = 0;
			}
			_g_free0 (iconname);
			labelsrc = (_vala_array_free (labelsrc, labelsrc_length1, (GDestroyNotify) g_free), NULL);
			_g_object_unref0 (daylabel);
			_g_object_unref0 (timelabel);
			_g_object_unref0 (weather_image);
			_g_free0 (day);
			_g_free0 (hour);
			_g_date_time_unref0 (time);
		}
		_g_object_unref0 (_stamp_list);
	}
	result = FALSE;
	_g_object_unref0 (currgrid);
	return result;
}


static gboolean
____lambda5__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda5_ (self);
	return result;
}


void
weather_show_applet_get_weather (WeatherShowAppletGetWeatherdata* weather_obj)
{
	gboolean _tmp0_;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_;
	GError * _inner_error_ = NULL;
	g_return_if_fail (weather_obj != NULL);
	_tmp0_ = weather_show_applet_show_forecast;
	if (_tmp0_) {
		Block1Data* _data1_;
		GeeHashMap* _tmp1_;
		GeeHashMap* _tmp2_;
		GeeArrayList* _tmp3_;
		_data1_ = g_slice_new0 (Block1Data);
		_data1_->_ref_count_ = 1;
		_tmp1_ = weather_show_applet_get_weatherdata_get_forecast (weather_obj);
		_data1_->result_forecast = _tmp1_;
		_tmp2_ = _data1_->result_forecast;
		_tmp3_ = weather_show_functions_sort_timespan (_tmp2_);
		_data1_->sorted_keys = _tmp3_;
		weather_show_applet_fc_stackindex = 0;
		_data1_->n_fc = 0;
		_data1_->curr_index = 0;
		g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ____lambda5__gsource_func, block1_data_ref (_data1_), block1_data_unref);
		block1_data_unref (_data1_);
		_data1_ = NULL;
	}
	_tmp5_ = weather_show_applet_show_ondesktop;
	if (_tmp5_ == TRUE) {
		_tmp4_ = TRUE;
	} else {
		gboolean _tmp6_;
		_tmp6_ = weather_show_applet_dynamic_icon;
		_tmp4_ = _tmp6_ == TRUE;
	}
	if (_tmp4_) {
		gchar* result_current = NULL;
		gchar* _tmp7_;
		gboolean _tmp8_;
		_tmp7_ = weather_show_applet_get_weatherdata_get_current (weather_obj);
		result_current = _tmp7_;
		_tmp8_ = weather_show_applet_show_ondesktop;
		if (_tmp8_ == TRUE) {
			gchar* username = NULL;
			const gchar* _tmp9_;
			gchar* _tmp10_;
			gchar* src = NULL;
			const gchar* _tmp11_;
			gchar* _tmp12_;
			GFile* datasrc = NULL;
			const gchar* _tmp13_;
			GFile* _tmp14_;
			GFile* _tmp15_;
			GFileOutputStream* file_stream = NULL;
			GFile* _tmp17_;
			GFileOutputStream* _tmp18_;
			GDataOutputStream* data_stream = NULL;
			GFileOutputStream* _tmp19_;
			GDataOutputStream* _tmp20_;
			GDataOutputStream* _tmp21_;
			const gchar* _tmp22_;
			_tmp9_ = g_get_user_name ();
			_tmp10_ = g_strdup (_tmp9_);
			username = _tmp10_;
			_tmp11_ = username;
			_tmp12_ = g_strconcat ("/tmp/", _tmp11_, "_weatherdata", NULL);
			src = _tmp12_;
			_tmp13_ = src;
			_tmp14_ = g_file_new_for_path (_tmp13_);
			datasrc = _tmp14_;
			_tmp15_ = datasrc;
			if (g_file_query_exists (_tmp15_, NULL)) {
				GFile* _tmp16_;
				_tmp16_ = datasrc;
				g_file_delete (_tmp16_, NULL, &_inner_error_);
				if (G_UNLIKELY (_inner_error_ != NULL)) {
					_g_object_unref0 (datasrc);
					_g_free0 (src);
					_g_free0 (username);
					_g_free0 (result_current);
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
					g_clear_error (&_inner_error_);
					return;
				}
			}
			_tmp17_ = datasrc;
			_tmp18_ = g_file_create (_tmp17_, G_FILE_CREATE_NONE, NULL, &_inner_error_);
			file_stream = _tmp18_;
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				_g_object_unref0 (datasrc);
				_g_free0 (src);
				_g_free0 (username);
				_g_free0 (result_current);
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return;
			}
			_tmp19_ = file_stream;
			_tmp20_ = g_data_output_stream_new ((GOutputStream*) _tmp19_);
			data_stream = _tmp20_;
			_tmp21_ = data_stream;
			_tmp22_ = result_current;
			g_data_output_stream_put_string (_tmp21_, _tmp22_, NULL, &_inner_error_);
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				_g_object_unref0 (data_stream);
				_g_object_unref0 (file_stream);
				_g_object_unref0 (datasrc);
				_g_free0 (src);
				_g_free0 (username);
				_g_free0 (result_current);
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return;
			}
			_g_object_unref0 (data_stream);
			_g_object_unref0 (file_stream);
			_g_object_unref0 (datasrc);
			_g_free0 (src);
			_g_free0 (username);
		}
		_g_free0 (result_current);
	}
}


static void
_vala_SoupBuffer_free (SoupBuffer* self)
{
	g_boxed_free (soup_buffer_get_type (), self);
}


static gchar*
weather_show_applet_get_weatherdata_fetch_fromsite (WeatherShowAppletGetWeatherdata* self,
                                                    const gchar* wtype,
                                                    const gchar* city)
{
	gchar* result = NULL;
	gchar* website = NULL;
	gchar* _tmp0_;
	gchar* langstring = NULL;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* url = NULL;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	const gchar* _tmp5_;
	gchar* _tmp6_;
	SoupSession* session = NULL;
	SoupSession* _tmp7_;
	SoupMessage* message = NULL;
	const gchar* _tmp8_;
	SoupMessage* _tmp9_;
	SoupSession* _tmp10_;
	SoupMessage* _tmp11_;
	gchar* output = NULL;
	SoupMessage* _tmp12_;
	SoupMessageBody* _tmp13_;
	SoupBuffer* _tmp14_;
	SoupBuffer* _tmp15_;
	guint8* _tmp16_;
	gint _tmp16__length1;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gint len_output = 0;
	const gchar* _tmp19_;
	gint _tmp20_;
	gint _tmp21_;
	gint _tmp22_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (wtype != NULL, NULL);
	g_return_val_if_fail (city != NULL, NULL);
	_tmp0_ = g_strdup ("http://api.openweathermap.org/data/2.5/");
	website = _tmp0_;
	_tmp1_ = weather_show_applet_lang;
	_tmp2_ = g_strconcat ("&", "lang=", _tmp1_, NULL);
	langstring = _tmp2_;
	_tmp3_ = website;
	_tmp4_ = weather_show_applet_key;
	_tmp5_ = langstring;
	_tmp6_ = g_strconcat (_tmp3_, wtype, "?id=", city, "&APPID=", _tmp4_, "&", _tmp5_, NULL);
	url = _tmp6_;
	_tmp7_ = soup_session_new ();
	session = _tmp7_;
	_tmp8_ = url;
	_tmp9_ = soup_message_new ("GET", _tmp8_);
	message = _tmp9_;
	_tmp10_ = session;
	_tmp11_ = message;
	soup_session_send_message (_tmp10_, _tmp11_);
	_tmp12_ = message;
	_tmp13_ = _tmp12_->response_body;
	_tmp14_ = soup_message_body_flatten (_tmp13_);
	_tmp15_ = _tmp14_;
	_tmp16_ = _tmp15_->data;
	_tmp16__length1 = (gint) _tmp15_->length;
	_tmp17_ = g_strdup ((const gchar*) _tmp16_);
	_tmp18_ = _tmp17_;
	__vala_SoupBuffer_free0 (_tmp15_);
	output = _tmp18_;
	_tmp19_ = output;
	_tmp20_ = strlen (_tmp19_);
	_tmp21_ = _tmp20_;
	len_output = _tmp21_;
	_tmp22_ = len_output;
	if (_tmp22_ != 0) {
		result = output;
		_g_object_unref0 (message);
		_g_object_unref0 (session);
		_g_free0 (url);
		_g_free0 (langstring);
		_g_free0 (website);
		return result;
	} else {
		gchar* _tmp23_;
		_tmp23_ = g_strdup ("no data");
		result = _tmp23_;
		_g_free0 (output);
		_g_object_unref0 (message);
		_g_object_unref0 (session);
		_g_free0 (url);
		_g_free0 (langstring);
		_g_free0 (website);
		return result;
	}
	_g_free0 (output);
	_g_object_unref0 (message);
	_g_object_unref0 (session);
	_g_free0 (url);
	_g_free0 (langstring);
	_g_free0 (website);
}


static gchar*
weather_show_applet_get_weatherdata_check_stringvalue (WeatherShowAppletGetWeatherdata* self,
                                                       JsonObject* obj,
                                                       const gchar* val)
{
	gchar* result = NULL;
	gchar* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (obj != NULL, NULL);
	g_return_val_if_fail (val != NULL, NULL);
	if (json_object_has_member (obj, val)) {
		const gchar* _tmp0_;
		gchar* _tmp1_;
		_tmp0_ = json_object_get_string_member (obj, val);
		_tmp1_ = g_strdup (_tmp0_);
		result = _tmp1_;
		return result;
	}
	_tmp2_ = g_strdup ("");
	result = _tmp2_;
	return result;
}


static gfloat
weather_show_applet_get_weatherdata_check_numvalue (WeatherShowAppletGetWeatherdata* self,
                                                    JsonObject* obj,
                                                    const gchar* val)
{
	gfloat result = 0.0F;
	g_return_val_if_fail (self != NULL, 0.0F);
	g_return_val_if_fail (obj != NULL, 0.0F);
	g_return_val_if_fail (val != NULL, 0.0F);
	if (json_object_has_member (obj, val)) {
		gfloat info = 0.0F;
		info = (gfloat) json_object_get_double_member (obj, val);
		result = info;
		return result;
	}
	result = (gfloat) 1000;
	return result;
}


static GeeHashMap*
weather_show_applet_get_weatherdata_get_categories (WeatherShowAppletGetWeatherdata* self,
                                                    JsonObject* rootobj)
{
	GeeHashMap* result = NULL;
	GeeHashMap* map = NULL;
	GeeHashMap* _tmp0_;
	JsonArray* _tmp1_;
	JsonObject* _tmp2_;
	JsonObject* _tmp3_;
	JsonObject* _tmp4_;
	JsonObject* _tmp5_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (rootobj != NULL, NULL);
	_tmp0_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, json_object_get_type (), (GBoxedCopyFunc) json_object_ref, (GDestroyNotify) json_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
	map = _tmp0_;
	_tmp1_ = json_object_get_array_member (rootobj, "weather");
	_tmp2_ = json_array_get_object_element (_tmp1_, (guint) 0);
	gee_abstract_map_set ((GeeAbstractMap*) map, "weather", _tmp2_);
	_tmp3_ = json_object_get_object_member (rootobj, "wind");
	gee_abstract_map_set ((GeeAbstractMap*) map, "wind", _tmp3_);
	_tmp4_ = json_object_get_object_member (rootobj, "main");
	gee_abstract_map_set ((GeeAbstractMap*) map, "main", _tmp4_);
	_tmp5_ = json_object_get_object_member (rootobj, "sys");
	gee_abstract_map_set ((GeeAbstractMap*) map, "sys", _tmp5_);
	result = map;
	return result;
}


static Block2Data*
block2_data_ref (Block2Data* _data2_)
{
	g_atomic_int_inc (&_data2_->_ref_count_);
	return _data2_;
}


static void
block2_data_unref (void * _userdata_)
{
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
		WeatherShowAppletGetWeatherdata* self;
		self = _data2_->self;
		_g_free0 (_data2_->tempdisplay);
		_weather_show_applet_get_weatherdata_unref0 (self);
		g_slice_free (Block2Data, _data2_);
	}
}


static gpointer
_json_object_ref0 (gpointer self)
{
	return self ? json_object_ref (self) : NULL;
}


static const gchar*
string_to_string (const gchar* self)
{
	const gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	result = self;
	return result;
}


static Block3Data*
block3_data_ref (Block3Data* _data3_)
{
	g_atomic_int_inc (&_data3_->_ref_count_);
	return _data3_;
}


static void
block3_data_unref (void * _userdata_)
{
	Block3Data* _data3_;
	_data3_ = (Block3Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data3_->_ref_count_)) {
		WeatherShowAppletGetWeatherdata* self;
		self = _data3_->_data2_->self;
		block2_data_unref (_data3_->_data2_);
		_data3_->_data2_ = NULL;
		g_slice_free (Block3Data, _data3_);
	}
}


static gboolean
___lambda4_ (Block3Data* _data3_)
{
	Block2Data* _data2_;
	WeatherShowAppletGetWeatherdata* self;
	gboolean result = FALSE;
	GdkPixbuf* pbuf = NULL;
	GdkPixbuf** _tmp0_;
	gint _tmp0__length1;
	gint _tmp1_;
	GdkPixbuf* _tmp2_;
	GdkPixbuf* _tmp3_;
	GtkImage* _tmp4_;
	GtkLabel* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	_data2_ = _data3_->_data2_;
	self = _data2_->self;
	_tmp0_ = weather_show_applet_iconpixbufs;
	_tmp0__length1 = weather_show_applet_iconpixbufs_length1;
	_tmp1_ = _data3_->icon_index;
	_tmp2_ = _tmp0_[_tmp1_];
	_tmp3_ = _g_object_ref0 (_tmp2_);
	pbuf = _tmp3_;
	_tmp4_ = weather_show_applet_indicatorIcon;
	gtk_image_set_from_pixbuf (_tmp4_, pbuf);
	_tmp5_ = weather_show_applet_templabel;
	_tmp6_ = _data2_->tempdisplay;
	_tmp7_ = g_strconcat (" ", _tmp6_, NULL);
	_tmp8_ = _tmp7_;
	_tmp9_ = g_strconcat (_tmp8_, " ", NULL);
	_tmp10_ = _tmp9_;
	gtk_label_set_text (_tmp5_, _tmp10_);
	_g_free0 (_tmp10_);
	_g_free0 (_tmp8_);
	result = FALSE;
	_g_object_unref0 (pbuf);
	return result;
}


static gboolean
____lambda4__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda4_ (self);
	return result;
}


static gchar*
_vala_g_strjoinv (const gchar* separator,
                  gchar** str_array,
                  int str_array_length1)
{
	gchar* result = NULL;
	gboolean _tmp0_ = FALSE;
	if (separator == NULL) {
		separator = "";
	}
	if (str_array != NULL) {
		gboolean _tmp1_ = FALSE;
		if (str_array_length1 > 0) {
			_tmp1_ = TRUE;
		} else {
			gboolean _tmp2_ = FALSE;
			if (str_array_length1 == -1) {
				const gchar* _tmp3_;
				_tmp3_ = str_array[0];
				_tmp2_ = _tmp3_ != NULL;
			} else {
				_tmp2_ = FALSE;
			}
			_tmp1_ = _tmp2_;
		}
		_tmp0_ = _tmp1_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		gint i = 0;
		gsize len = 0UL;
		gint _tmp20_;
		gint _tmp22_;
		gint _tmp23_;
		gsize _tmp24_;
		gint _tmp25_;
		gint _tmp26_;
		gint _tmp27_;
		const gchar* res = NULL;
		gsize _tmp28_;
		void* _tmp29_;
		void* ptr = NULL;
		const gchar* _tmp30_;
		const gchar* _tmp31_;
		void* _tmp32_;
		const gchar* _tmp45_;
		len = (gsize) 1;
		{
			gboolean _tmp4_ = FALSE;
			i = 0;
			_tmp4_ = TRUE;
			while (TRUE) {
				gboolean _tmp6_ = FALSE;
				gboolean _tmp7_ = FALSE;
				gint _tmp12_ = 0;
				gint _tmp13_;
				const gchar* _tmp14_;
				gsize _tmp19_;
				if (!_tmp4_) {
					gint _tmp5_;
					_tmp5_ = i;
					i = _tmp5_ + 1;
				}
				_tmp4_ = FALSE;
				if (str_array_length1 != -1) {
					gint _tmp8_;
					_tmp8_ = i;
					_tmp7_ = _tmp8_ < str_array_length1;
				} else {
					_tmp7_ = FALSE;
				}
				if (_tmp7_) {
					_tmp6_ = TRUE;
				} else {
					gboolean _tmp9_ = FALSE;
					if (str_array_length1 == -1) {
						gint _tmp10_;
						const gchar* _tmp11_;
						_tmp10_ = i;
						_tmp11_ = str_array[_tmp10_];
						_tmp9_ = _tmp11_ != NULL;
					} else {
						_tmp9_ = FALSE;
					}
					_tmp6_ = _tmp9_;
				}
				if (!_tmp6_) {
					break;
				}
				_tmp13_ = i;
				_tmp14_ = str_array[_tmp13_];
				if (_tmp14_ != NULL) {
					gint _tmp15_;
					const gchar* _tmp16_;
					gint _tmp17_;
					gint _tmp18_;
					_tmp15_ = i;
					_tmp16_ = str_array[_tmp15_];
					_tmp17_ = strlen ((const gchar*) _tmp16_);
					_tmp18_ = _tmp17_;
					_tmp12_ = _tmp18_;
				} else {
					_tmp12_ = 0;
				}
				_tmp19_ = len;
				len = _tmp19_ + _tmp12_;
			}
		}
		_tmp20_ = i;
		if (_tmp20_ == 0) {
			gchar* _tmp21_;
			_tmp21_ = g_strdup ("");
			result = _tmp21_;
			return result;
		}
		_tmp22_ = i;
		str_array_length1 = _tmp22_;
		_tmp23_ = str_array_length1;
		_tmp24_ = len;
		_tmp25_ = strlen ((const gchar*) separator);
		_tmp26_ = _tmp25_;
		_tmp27_ = i;
		len = _tmp24_ + (_tmp26_ * (_tmp27_ - 1));
		_tmp28_ = len;
		_tmp29_ = g_malloc (_tmp28_);
		res = _tmp29_;
		_tmp30_ = res;
		_tmp31_ = str_array[0];
		_tmp32_ = g_stpcpy ((void*) _tmp30_, (const gchar*) _tmp31_);
		ptr = _tmp32_;
		{
			gboolean _tmp33_ = FALSE;
			i = 1;
			_tmp33_ = TRUE;
			while (TRUE) {
				gint _tmp35_;
				void* _tmp36_;
				void* _tmp37_;
				const gchar* _tmp38_ = NULL;
				gint _tmp39_;
				const gchar* _tmp40_;
				void* _tmp43_;
				void* _tmp44_;
				if (!_tmp33_) {
					gint _tmp34_;
					_tmp34_ = i;
					i = _tmp34_ + 1;
				}
				_tmp33_ = FALSE;
				_tmp35_ = i;
				if (!(_tmp35_ < str_array_length1)) {
					break;
				}
				_tmp36_ = ptr;
				_tmp37_ = g_stpcpy (_tmp36_, (const gchar*) separator);
				ptr = _tmp37_;
				_tmp39_ = i;
				_tmp40_ = str_array[_tmp39_];
				if (_tmp40_ != NULL) {
					gint _tmp41_;
					const gchar* _tmp42_;
					_tmp41_ = i;
					_tmp42_ = str_array[_tmp41_];
					_tmp38_ = (const gchar*) _tmp42_;
				} else {
					_tmp38_ = "";
				}
				_tmp43_ = ptr;
				_tmp44_ = g_stpcpy (_tmp43_, _tmp38_);
				ptr = _tmp44_;
			}
		}
		_tmp45_ = res;
		res = NULL;
		result = (gchar*) _tmp45_;
		return result;
	} else {
		gchar* _tmp46_;
		_tmp46_ = g_strdup ("");
		result = _tmp46_;
		return result;
	}
}


static gchar*
weather_show_applet_get_weatherdata_getsnapshot (WeatherShowAppletGetWeatherdata* self,
                                                 const gchar* data)
{
	gchar* result = NULL;
	Block2Data* _data2_;
	JsonParser* parser = NULL;
	JsonParser* _tmp0_;
	JsonObject* root_object = NULL;
	JsonNode* _tmp1_;
	JsonObject* _tmp2_;
	JsonObject* _tmp3_;
	GeeHashMap* map = NULL;
	JsonObject* _tmp4_;
	GeeHashMap* _tmp5_;
	gchar* id = NULL;
	GeeHashMap* _tmp6_;
	gpointer _tmp7_;
	JsonObject* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* daynight = NULL;
	GeeHashMap* _tmp11_;
	gpointer _tmp12_;
	JsonObject* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	const gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* add_daytime = NULL;
	const gchar* _tmp19_;
	gchar* _tmp20_;
	gchar* city = NULL;
	JsonObject* _tmp21_;
	gchar* _tmp22_;
	gchar* country = NULL;
	GeeHashMap* _tmp23_;
	gpointer _tmp24_;
	JsonObject* _tmp25_;
	gchar* _tmp26_;
	gchar* _tmp27_;
	gchar* citydisplay = NULL;
	const gchar* _tmp28_;
	const gchar* _tmp29_;
	gchar* _tmp30_;
	gchar* skydisplay = NULL;
	GeeHashMap* _tmp31_;
	gpointer _tmp32_;
	JsonObject* _tmp33_;
	gchar* _tmp34_;
	gchar* _tmp35_;
	GeeHashMap* _tmp36_;
	gchar* _tmp37_;
	gchar* wspeeddisplay = NULL;
	GeeHashMap* _tmp38_;
	gchar* _tmp39_;
	gchar* wdirectiondisplay = NULL;
	GeeHashMap* _tmp40_;
	gchar* _tmp41_;
	gchar* humiddisplay = NULL;
	GeeHashMap* _tmp42_;
	gchar* _tmp43_;
	gchar** collected = NULL;
	const gchar* _tmp44_;
	gchar* _tmp45_;
	const gchar* _tmp46_;
	gchar* _tmp47_;
	const gchar* _tmp48_;
	gchar* _tmp49_;
	const gchar* _tmp50_;
	gchar* _tmp51_;
	const gchar* _tmp52_;
	gchar* _tmp53_;
	const gchar* _tmp54_;
	const gchar* _tmp55_;
	gchar* _tmp56_;
	const gchar* _tmp57_;
	gchar* _tmp58_;
	gchar** _tmp59_;
	gint collected_length1;
	gint _collected_size_;
	gboolean _tmp60_ = FALSE;
	gboolean _tmp61_;
	gchar* output = NULL;
	gchar** _tmp71_;
	gint _tmp71__length1;
	gchar* _tmp72_;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (data != NULL, NULL);
	_data2_ = g_slice_new0 (Block2Data);
	_data2_->_ref_count_ = 1;
	_data2_->self = weather_show_applet_get_weatherdata_ref (self);
	_tmp0_ = json_parser_new ();
	parser = _tmp0_;
	json_parser_load_from_data (parser, data, (gssize) -1, &_inner_error_);
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		_g_object_unref0 (parser);
		block2_data_unref (_data2_);
		_data2_ = NULL;
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
	_tmp1_ = json_parser_get_root (parser);
	_tmp2_ = json_node_get_object (_tmp1_);
	_tmp3_ = _json_object_ref0 (_tmp2_);
	root_object = _tmp3_;
	_tmp4_ = root_object;
	_tmp5_ = weather_show_applet_get_weatherdata_get_categories (self, _tmp4_);
	map = _tmp5_;
	_tmp6_ = map;
	_tmp7_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp6_, "weather");
	_tmp8_ = (JsonObject*) _tmp7_;
	_tmp9_ = g_strdup_printf ("%g", weather_show_applet_get_weatherdata_check_numvalue (self, _tmp8_, "id"));
	_tmp10_ = _tmp9_;
	_json_object_unref0 (_tmp8_);
	id = _tmp10_;
	_tmp11_ = map;
	_tmp12_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp11_, "weather");
	_tmp13_ = (JsonObject*) _tmp12_;
	_tmp14_ = weather_show_applet_get_weatherdata_check_stringvalue (self, _tmp13_, "icon");
	_tmp15_ = _tmp14_;
	_tmp16_ = string_to_string (_tmp15_);
	_tmp17_ = g_strdup (_tmp16_);
	_tmp18_ = _tmp17_;
	_g_free0 (_tmp15_);
	_json_object_unref0 (_tmp13_);
	daynight = _tmp18_;
	_tmp19_ = daynight;
	_tmp20_ = weather_show_applet_get_weatherdata_get_dayornight (self, _tmp19_);
	add_daytime = _tmp20_;
	_tmp21_ = root_object;
	_tmp22_ = weather_show_applet_get_weatherdata_check_stringvalue (self, _tmp21_, "name");
	city = _tmp22_;
	_tmp23_ = map;
	_tmp24_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp23_, "sys");
	_tmp25_ = (JsonObject*) _tmp24_;
	_tmp26_ = weather_show_applet_get_weatherdata_check_stringvalue (self, _tmp25_, "country");
	_tmp27_ = _tmp26_;
	_json_object_unref0 (_tmp25_);
	country = _tmp27_;
	_tmp28_ = city;
	_tmp29_ = country;
	_tmp30_ = g_strconcat (_tmp28_, ", ", _tmp29_, NULL);
	citydisplay = _tmp30_;
	_tmp31_ = map;
	_tmp32_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp31_, "weather");
	_tmp33_ = (JsonObject*) _tmp32_;
	_tmp34_ = weather_show_applet_get_weatherdata_check_stringvalue (self, _tmp33_, "description");
	_tmp35_ = _tmp34_;
	_json_object_unref0 (_tmp33_);
	skydisplay = _tmp35_;
	_tmp36_ = map;
	_tmp37_ = weather_show_applet_get_weatherdata_get_temperature (self, _tmp36_);
	_data2_->tempdisplay = _tmp37_;
	_tmp38_ = map;
	_tmp39_ = weather_show_applet_get_weatherdata_get_windspeed (self, _tmp38_);
	wspeeddisplay = _tmp39_;
	_tmp40_ = map;
	_tmp41_ = weather_show_applet_get_weatherdata_get_winddirection (self, _tmp40_);
	wdirectiondisplay = _tmp41_;
	_tmp42_ = map;
	_tmp43_ = weather_show_applet_get_weatherdata_get_humidity (self, _tmp42_);
	humiddisplay = _tmp43_;
	_tmp44_ = id;
	_tmp45_ = g_strdup (_tmp44_);
	_tmp46_ = add_daytime;
	_tmp47_ = g_strdup (_tmp46_);
	_tmp48_ = citydisplay;
	_tmp49_ = g_strdup (_tmp48_);
	_tmp50_ = skydisplay;
	_tmp51_ = g_strdup (_tmp50_);
	_tmp52_ = _data2_->tempdisplay;
	_tmp53_ = g_strdup (_tmp52_);
	_tmp54_ = wspeeddisplay;
	_tmp55_ = wdirectiondisplay;
	_tmp56_ = g_strconcat (_tmp54_, " ", _tmp55_, NULL);
	_tmp57_ = humiddisplay;
	_tmp58_ = g_strdup (_tmp57_);
	_tmp59_ = g_new0 (gchar*, 7 + 1);
	_tmp59_[0] = _tmp45_;
	_tmp59_[1] = _tmp47_;
	_tmp59_[2] = _tmp49_;
	_tmp59_[3] = _tmp51_;
	_tmp59_[4] = _tmp53_;
	_tmp59_[5] = _tmp56_;
	_tmp59_[6] = _tmp58_;
	collected = _tmp59_;
	collected_length1 = 7;
	_collected_size_ = collected_length1;
	_tmp61_ = weather_show_applet_dynamic_icon;
	if (_tmp61_ == TRUE) {
		const gchar* _tmp62_;
		_tmp62_ = id;
		_tmp60_ = g_strcmp0 (_tmp62_, "") != 0;
	} else {
		_tmp60_ = FALSE;
	}
	if (_tmp60_) {
		Block3Data* _data3_;
		gchar* mapped_id = NULL;
		const gchar* _tmp63_;
		gchar* _tmp64_;
		const gchar* _tmp65_;
		const gchar* _tmp66_;
		gchar* _tmp67_;
		gchar* _tmp68_;
		gchar** _tmp69_;
		gint _tmp69__length1;
		gint _tmp70_;
		_data3_ = g_slice_new0 (Block3Data);
		_data3_->_ref_count_ = 1;
		_data3_->_data2_ = block2_data_ref (_data2_);
		_tmp63_ = id;
		_tmp64_ = weather_show_functions_find_mappedid (_tmp63_);
		mapped_id = _tmp64_;
		_tmp65_ = mapped_id;
		_tmp66_ = add_daytime;
		_tmp67_ = g_strconcat (_tmp65_, _tmp66_, NULL);
		_tmp68_ = _tmp67_;
		_tmp69_ = weather_show_applet_iconnames;
		_tmp69__length1 = weather_show_applet_iconnames_length1;
		_tmp70_ = weather_show_functions_get_stringindex (_tmp68_, _tmp69_, _tmp69__length1);
		_g_free0 (_tmp68_);
		_data3_->icon_index = _tmp70_;
		g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ____lambda4__gsource_func, block3_data_ref (_data3_), block3_data_unref);
		_g_free0 (mapped_id);
		block3_data_unref (_data3_);
		_data3_ = NULL;
	} else {
		g_print ("no icon\n");
	}
	_tmp71_ = collected;
	_tmp71__length1 = collected_length1;
	_tmp72_ = _vala_g_strjoinv ("\n", _tmp71_, _tmp71__length1);
	output = _tmp72_;
	result = output;
	collected = (_vala_array_free (collected, collected_length1, (GDestroyNotify) g_free), NULL);
	_g_free0 (humiddisplay);
	_g_free0 (wdirectiondisplay);
	_g_free0 (wspeeddisplay);
	_g_free0 (skydisplay);
	_g_free0 (citydisplay);
	_g_free0 (country);
	_g_free0 (city);
	_g_free0 (add_daytime);
	_g_free0 (daynight);
	_g_free0 (id);
	_g_object_unref0 (map);
	_json_object_unref0 (root_object);
	_g_object_unref0 (parser);
	block2_data_unref (_data2_);
	_data2_ = NULL;
	return result;
}


gchar*
weather_show_applet_get_weatherdata_get_current (WeatherShowAppletGetWeatherdata* self)
{
	gchar* result = NULL;
	gchar* data = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = weather_show_applet_citycode;
	_tmp1_ = weather_show_applet_get_weatherdata_fetch_fromsite (self, "weather", _tmp0_);
	data = _tmp1_;
	_tmp2_ = data;
	if (g_strcmp0 (_tmp2_, "no data") != 0) {
		const gchar* _tmp3_;
		gchar* _tmp4_;
		_tmp3_ = data;
		_tmp4_ = weather_show_applet_get_weatherdata_getsnapshot (self, _tmp3_);
		result = _tmp4_;
		_g_free0 (data);
		return result;
	} else {
		gchar* _tmp5_;
		_tmp5_ = g_strdup ("");
		result = _tmp5_;
		_g_free0 (data);
		return result;
	}
	_g_free0 (data);
}


static gchar*
weather_show_applet_get_weatherdata_get_windspeed (WeatherShowAppletGetWeatherdata* self,
                                                   GeeHashMap* categories)
{
	gchar* result = NULL;
	gfloat wspeed = 0.0F;
	gpointer _tmp0_;
	JsonObject* _tmp1_;
	gfloat _tmp2_;
	gchar* wspeeddisplay = NULL;
	gfloat _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (categories != NULL, NULL);
	_tmp0_ = gee_abstract_map_get ((GeeAbstractMap*) categories, "wind");
	_tmp1_ = (JsonObject*) _tmp0_;
	_tmp2_ = weather_show_applet_get_weatherdata_check_numvalue (self, _tmp1_, "speed");
	_json_object_unref0 (_tmp1_);
	wspeed = _tmp2_;
	_tmp3_ = wspeed;
	if (_tmp3_ != ((gfloat) 1000)) {
		gfloat _tmp4_;
		gchar* _tmp5_;
		gchar* _tmp6_;
		gchar* _tmp7_;
		_tmp4_ = wspeed;
		_tmp5_ = g_strdup_printf ("%g", _tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = g_strconcat (_tmp6_, " m/sec", NULL);
		_g_free0 (wspeeddisplay);
		wspeeddisplay = _tmp7_;
		_g_free0 (_tmp6_);
	} else {
		gchar* _tmp8_;
		_tmp8_ = g_strdup ("");
		_g_free0 (wspeeddisplay);
		wspeeddisplay = _tmp8_;
	}
	result = wspeeddisplay;
	return result;
}


static gchar*
double_to_string (gdouble self)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gint _tmp1__length1;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	_tmp0_ = g_new0 (gchar, G_ASCII_DTOSTR_BUF_SIZE);
	_tmp1_ = _tmp0_;
	_tmp1__length1 = G_ASCII_DTOSTR_BUF_SIZE;
	_tmp2_ = g_ascii_dtostr (_tmp1_, G_ASCII_DTOSTR_BUF_SIZE, self);
	_tmp3_ = g_strdup (_tmp2_);
	_tmp4_ = _tmp3_;
	_tmp1_ = (g_free (_tmp1_), NULL);
	result = _tmp4_;
	return result;
}


static gchar*
weather_show_applet_get_weatherdata_get_temperature (WeatherShowAppletGetWeatherdata* self,
                                                     GeeHashMap* categories)
{
	gchar* result = NULL;
	gchar* tempdisplay = NULL;
	gfloat temp = 0.0F;
	gpointer _tmp0_;
	JsonObject* _tmp1_;
	gfloat _tmp2_;
	gfloat _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (categories != NULL, NULL);
	_tmp0_ = gee_abstract_map_get ((GeeAbstractMap*) categories, "main");
	_tmp1_ = (JsonObject*) _tmp0_;
	_tmp2_ = weather_show_applet_get_weatherdata_check_numvalue (self, _tmp1_, "temp");
	_json_object_unref0 (_tmp1_);
	temp = _tmp2_;
	_tmp3_ = temp;
	if (_tmp3_ != ((gfloat) 1000)) {
		gchar* dsp_unit = NULL;
		const gchar* _tmp4_;
		gdouble rounded_temp = 0.0;
		gfloat _tmp9_;
		gdouble _tmp10_;
		gchar* _tmp11_;
		gchar* _tmp12_;
		const gchar* _tmp13_;
		gchar* _tmp14_;
		_tmp4_ = weather_show_applet_tempunit;
		if (g_strcmp0 (_tmp4_, "Celsius") == 0) {
			gfloat _tmp5_;
			gchar* _tmp6_;
			_tmp5_ = temp;
			temp = _tmp5_ - ((gfloat) 273.15);
			_tmp6_ = g_strdup ("");
			_g_free0 (dsp_unit);
			dsp_unit = _tmp6_;
		} else {
			gfloat _tmp7_;
			gchar* _tmp8_;
			_tmp7_ = temp;
			temp = (_tmp7_ * ((gfloat) 1.80)) - ((gfloat) 459.67);
			_tmp8_ = g_strdup ("");
			_g_free0 (dsp_unit);
			dsp_unit = _tmp8_;
		}
		_tmp9_ = temp;
		rounded_temp = round ((gdouble) _tmp9_);
		_tmp10_ = rounded_temp;
		_tmp11_ = double_to_string (_tmp10_);
		_tmp12_ = _tmp11_;
		_tmp13_ = dsp_unit;
		_tmp14_ = g_strconcat (_tmp12_, _tmp13_, NULL);
		_g_free0 (tempdisplay);
		tempdisplay = _tmp14_;
		_g_free0 (_tmp12_);
		_g_free0 (dsp_unit);
	} else {
		gchar* _tmp15_;
		_tmp15_ = g_strdup ("");
		_g_free0 (tempdisplay);
		tempdisplay = _tmp15_;
	}
	result = tempdisplay;
	return result;
}


static gchar*
weather_show_applet_get_weatherdata_get_winddirection (WeatherShowAppletGetWeatherdata* self,
                                                       GeeHashMap* categories)
{
	gchar* result = NULL;
	gfloat wdirection = 0.0F;
	gpointer _tmp0_;
	JsonObject* _tmp1_;
	gfloat _tmp2_;
	gchar* wdirectiondisplay = NULL;
	gfloat _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (categories != NULL, NULL);
	_tmp0_ = gee_abstract_map_get ((GeeAbstractMap*) categories, "wind");
	_tmp1_ = (JsonObject*) _tmp0_;
	_tmp2_ = weather_show_applet_get_weatherdata_check_numvalue (self, _tmp1_, "deg");
	_json_object_unref0 (_tmp1_);
	wdirection = _tmp2_;
	_tmp3_ = wdirection;
	if (_tmp3_ != ((gfloat) 1000)) {
		gint iconindex = 0;
		gfloat _tmp4_;
		gchar** _tmp5_;
		gint _tmp5__length1;
		gint _tmp6_;
		const gchar* _tmp7_;
		gchar* _tmp8_;
		_tmp4_ = wdirection;
		iconindex = (gint) round ((gdouble) (_tmp4_ / 45));
		_tmp5_ = weather_show_applet_directions;
		_tmp5__length1 = weather_show_applet_directions_length1;
		_tmp6_ = iconindex;
		_tmp7_ = _tmp5_[_tmp6_];
		_tmp8_ = g_strdup (_tmp7_);
		_g_free0 (wdirectiondisplay);
		wdirectiondisplay = _tmp8_;
	} else {
		gchar* _tmp9_;
		_tmp9_ = g_strdup ("");
		_g_free0 (wdirectiondisplay);
		wdirectiondisplay = _tmp9_;
	}
	result = wdirectiondisplay;
	return result;
}


static gchar*
weather_show_applet_get_weatherdata_get_humidity (WeatherShowAppletGetWeatherdata* self,
                                                  GeeHashMap* categories)
{
	gchar* result = NULL;
	gchar* humiddisplay = NULL;
	gint humid = 0;
	gpointer _tmp0_;
	JsonObject* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (categories != NULL, NULL);
	_tmp0_ = gee_abstract_map_get ((GeeAbstractMap*) categories, "main");
	_tmp1_ = (JsonObject*) _tmp0_;
	_tmp2_ = (gint) weather_show_applet_get_weatherdata_check_numvalue (self, _tmp1_, "humidity");
	_json_object_unref0 (_tmp1_);
	humid = _tmp2_;
	_tmp3_ = humid;
	if (_tmp3_ != 1000) {
		gint _tmp4_;
		gchar* _tmp5_;
		gchar* _tmp6_;
		gchar* _tmp7_;
		_tmp4_ = humid;
		_tmp5_ = g_strdup_printf ("%i", _tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = g_strconcat (_tmp6_, "%", NULL);
		_g_free0 (humiddisplay);
		humiddisplay = _tmp7_;
		_g_free0 (_tmp6_);
	} else {
		gchar* _tmp8_;
		_tmp8_ = g_strdup ("");
		_g_free0 (humiddisplay);
		humiddisplay = _tmp8_;
	}
	result = humiddisplay;
	return result;
}


static gpointer
_json_array_ref0 (gpointer self)
{
	return self ? json_array_ref (self) : NULL;
}


static JsonNode*
_vala_JsonNode_copy (JsonNode* self)
{
	return g_boxed_copy (json_node_get_type (), self);
}


static gpointer
__vala_JsonNode_copy0 (gpointer self)
{
	return self ? _vala_JsonNode_copy (self) : NULL;
}


static void
_vala_JsonNode_free (JsonNode* self)
{
	g_boxed_free (json_node_get_type (), self);
}


static GeeHashMap*
weather_show_applet_get_weatherdata_getspan (WeatherShowAppletGetWeatherdata* self,
                                             const gchar* data)
{
	GeeHashMap* result = NULL;
	GeeHashMap* map = NULL;
	GeeHashMap* _tmp0_;
	JsonParser* parser = NULL;
	JsonParser* _tmp1_;
	JsonParser* _tmp2_;
	JsonObject* root_object = NULL;
	JsonParser* _tmp3_;
	JsonNode* _tmp4_;
	JsonObject* _tmp5_;
	JsonObject* _tmp6_;
	JsonArray* newroot = NULL;
	JsonObject* _tmp7_;
	JsonArray* _tmp8_;
	JsonArray* _tmp9_;
	GList* nodes = NULL;
	JsonArray* _tmp10_;
	GList* _tmp11_;
	gint n_snapshots = 0;
	GList* _tmp12_;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (data != NULL, NULL);
	_tmp0_ = gee_hash_map_new (G_TYPE_INT, NULL, NULL, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
	map = _tmp0_;
	_tmp1_ = json_parser_new ();
	parser = _tmp1_;
	_tmp2_ = parser;
	json_parser_load_from_data (_tmp2_, data, (gssize) -1, &_inner_error_);
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		_g_object_unref0 (parser);
		_g_object_unref0 (map);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
	_tmp3_ = parser;
	_tmp4_ = json_parser_get_root (_tmp3_);
	_tmp5_ = json_node_get_object (_tmp4_);
	_tmp6_ = _json_object_ref0 (_tmp5_);
	root_object = _tmp6_;
	_tmp7_ = root_object;
	_tmp8_ = json_object_get_array_member (_tmp7_, "list");
	_tmp9_ = _json_array_ref0 (_tmp8_);
	newroot = _tmp9_;
	_tmp10_ = newroot;
	_tmp11_ = json_array_get_elements (_tmp10_);
	nodes = _tmp11_;
	n_snapshots = 0;
	_tmp12_ = nodes;
	{
		GList* n_collection = NULL;
		GList* n_it = NULL;
		n_collection = _tmp12_;
		for (n_it = n_collection; n_it != NULL; n_it = n_it->next) {
			JsonNode* _tmp13_;
			JsonNode* n = NULL;
			_tmp13_ = __vala_JsonNode_copy0 ((JsonNode*) n_it->data);
			n = _tmp13_;
			{
				JsonObject* obj = NULL;
				JsonNode* _tmp14_;
				JsonObject* _tmp15_;
				JsonObject* _tmp16_;
				GeeHashMap* categories = NULL;
				JsonObject* _tmp17_;
				GeeHashMap* _tmp18_;
				gchar* id = NULL;
				GeeHashMap* _tmp19_;
				gpointer _tmp20_;
				JsonObject* _tmp21_;
				gchar* _tmp22_;
				gchar* _tmp23_;
				gchar* add_dn = NULL;
				GeeHashMap* _tmp24_;
				gpointer _tmp25_;
				JsonObject* _tmp26_;
				gchar* _tmp27_;
				gchar* _tmp28_;
				gchar* dayornight = NULL;
				const gchar* _tmp29_;
				gchar* _tmp30_;
				gint timestamp = 0;
				JsonObject* _tmp31_;
				gchar* skydisplay = NULL;
				GeeHashMap* _tmp32_;
				gpointer _tmp33_;
				JsonObject* _tmp34_;
				gchar* _tmp35_;
				gchar* _tmp36_;
				gchar* temp = NULL;
				GeeHashMap* _tmp37_;
				gchar* _tmp38_;
				gchar* wspeed = NULL;
				GeeHashMap* _tmp39_;
				gchar* _tmp40_;
				gchar* wind = NULL;
				GeeHashMap* _tmp41_;
				gchar* _tmp42_;
				gchar* _tmp43_;
				const gchar* _tmp44_;
				gchar* _tmp45_;
				gchar* _tmp46_;
				gchar* humidity = NULL;
				GeeHashMap* _tmp47_;
				gchar* _tmp48_;
				GeeHashMap* _tmp49_;
				gint _tmp50_;
				const gchar* _tmp51_;
				gchar* _tmp52_;
				const gchar* _tmp53_;
				gchar* _tmp54_;
				const gchar* _tmp55_;
				gchar* _tmp56_;
				const gchar* _tmp57_;
				gchar* _tmp58_;
				const gchar* _tmp59_;
				gchar* _tmp60_;
				const gchar* _tmp61_;
				gchar* _tmp62_;
				gchar** _tmp63_;
				gchar** _tmp64_;
				gint _tmp64__length1;
				gchar* _tmp65_;
				gchar* _tmp66_;
				gint _tmp67_;
				gint _tmp68_;
				_tmp14_ = n;
				_tmp15_ = json_node_get_object (_tmp14_);
				_tmp16_ = _json_object_ref0 (_tmp15_);
				obj = _tmp16_;
				_tmp17_ = obj;
				_tmp18_ = weather_show_applet_get_weatherdata_get_categories (self, _tmp17_);
				categories = _tmp18_;
				_tmp19_ = categories;
				_tmp20_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp19_, "weather");
				_tmp21_ = (JsonObject*) _tmp20_;
				_tmp22_ = g_strdup_printf ("%g", weather_show_applet_get_weatherdata_check_numvalue (self, _tmp21_, "id"));
				_tmp23_ = _tmp22_;
				_json_object_unref0 (_tmp21_);
				id = _tmp23_;
				_tmp24_ = categories;
				_tmp25_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp24_, "weather");
				_tmp26_ = (JsonObject*) _tmp25_;
				_tmp27_ = weather_show_applet_get_weatherdata_check_stringvalue (self, _tmp26_, "icon");
				_tmp28_ = _tmp27_;
				_json_object_unref0 (_tmp26_);
				add_dn = _tmp28_;
				_tmp29_ = add_dn;
				_tmp30_ = weather_show_applet_get_weatherdata_get_dayornight (self, _tmp29_);
				dayornight = _tmp30_;
				_tmp31_ = obj;
				timestamp = (gint) json_object_get_int_member (_tmp31_, "dt");
				_tmp32_ = categories;
				_tmp33_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp32_, "weather");
				_tmp34_ = (JsonObject*) _tmp33_;
				_tmp35_ = weather_show_applet_get_weatherdata_check_stringvalue (self, _tmp34_, "description");
				_tmp36_ = _tmp35_;
				_json_object_unref0 (_tmp34_);
				skydisplay = _tmp36_;
				_tmp37_ = categories;
				_tmp38_ = weather_show_applet_get_weatherdata_get_temperature (self, _tmp37_);
				temp = _tmp38_;
				_tmp39_ = categories;
				_tmp40_ = weather_show_applet_get_weatherdata_get_windspeed (self, _tmp39_);
				wspeed = _tmp40_;
				_tmp41_ = categories;
				_tmp42_ = weather_show_applet_get_weatherdata_get_winddirection (self, _tmp41_);
				_tmp43_ = _tmp42_;
				_tmp44_ = wspeed;
				_tmp45_ = g_strconcat (_tmp43_, " ", _tmp44_, NULL);
				_tmp46_ = _tmp45_;
				_g_free0 (_tmp43_);
				wind = _tmp46_;
				_tmp47_ = categories;
				_tmp48_ = weather_show_applet_get_weatherdata_get_humidity (self, _tmp47_);
				humidity = _tmp48_;
				_tmp49_ = map;
				_tmp50_ = timestamp;
				_tmp51_ = id;
				_tmp52_ = g_strdup (_tmp51_);
				_tmp53_ = dayornight;
				_tmp54_ = g_strdup (_tmp53_);
				_tmp55_ = skydisplay;
				_tmp56_ = g_strdup (_tmp55_);
				_tmp57_ = temp;
				_tmp58_ = g_strdup (_tmp57_);
				_tmp59_ = wind;
				_tmp60_ = g_strdup (_tmp59_);
				_tmp61_ = humidity;
				_tmp62_ = g_strdup (_tmp61_);
				_tmp63_ = g_new0 (gchar*, 6 + 1);
				_tmp63_[0] = _tmp52_;
				_tmp63_[1] = _tmp54_;
				_tmp63_[2] = _tmp56_;
				_tmp63_[3] = _tmp58_;
				_tmp63_[4] = _tmp60_;
				_tmp63_[5] = _tmp62_;
				_tmp64_ = _tmp63_;
				_tmp64__length1 = 6;
				_tmp65_ = _vala_g_strjoinv ("\n", _tmp64_, 6);
				_tmp66_ = _tmp65_;
				gee_abstract_map_set ((GeeAbstractMap*) _tmp49_, (gpointer) ((gintptr) _tmp50_), _tmp66_);
				_g_free0 (_tmp66_);
				_tmp64_ = (_vala_array_free (_tmp64_, _tmp64__length1, (GDestroyNotify) g_free), NULL);
				_tmp67_ = n_snapshots;
				n_snapshots = _tmp67_ + 1;
				_tmp68_ = n_snapshots;
				if (_tmp68_ == 16) {
					_g_free0 (humidity);
					_g_free0 (wind);
					_g_free0 (wspeed);
					_g_free0 (temp);
					_g_free0 (skydisplay);
					_g_free0 (dayornight);
					_g_free0 (add_dn);
					_g_free0 (id);
					_g_object_unref0 (categories);
					_json_object_unref0 (obj);
					__vala_JsonNode_free0 (n);
					break;
				}
				_g_free0 (humidity);
				_g_free0 (wind);
				_g_free0 (wspeed);
				_g_free0 (temp);
				_g_free0 (skydisplay);
				_g_free0 (dayornight);
				_g_free0 (add_dn);
				_g_free0 (id);
				_g_object_unref0 (categories);
				_json_object_unref0 (obj);
				__vala_JsonNode_free0 (n);
			}
		}
	}
	result = map;
	_g_list_free0 (nodes);
	_json_array_unref0 (newroot);
	_json_object_unref0 (root_object);
	_g_object_unref0 (parser);
	return result;
}


GeeHashMap*
weather_show_applet_get_weatherdata_get_forecast (WeatherShowAppletGetWeatherdata* self)
{
	GeeHashMap* result = NULL;
	gchar* data = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	GeeHashMap* map = NULL;
	GeeHashMap* _tmp2_;
	const gchar* _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = weather_show_applet_citycode;
	_tmp1_ = weather_show_applet_get_weatherdata_fetch_fromsite (self, "forecast", _tmp0_);
	data = _tmp1_;
	_tmp2_ = gee_hash_map_new (G_TYPE_INT, NULL, NULL, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
	map = _tmp2_;
	_tmp3_ = data;
	if (g_strcmp0 (_tmp3_, "no data") != 0) {
		const gchar* _tmp4_;
		GeeHashMap* _tmp5_;
		_tmp4_ = data;
		_tmp5_ = weather_show_applet_get_weatherdata_getspan (self, _tmp4_);
		_g_object_unref0 (map);
		map = _tmp5_;
	}
	result = map;
	_g_free0 (data);
	return result;
}


static gchar*
string_slice (const gchar* self,
              glong start,
              glong end)
{
	gchar* result = NULL;
	glong string_length = 0L;
	gint _tmp0_;
	gint _tmp1_;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp6_ = FALSE;
	gchar* _tmp8_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = strlen (self);
	_tmp1_ = _tmp0_;
	string_length = (glong) _tmp1_;
	if (start < ((glong) 0)) {
		glong _tmp2_;
		_tmp2_ = string_length;
		start = _tmp2_ + start;
	}
	if (end < ((glong) 0)) {
		glong _tmp3_;
		_tmp3_ = string_length;
		end = _tmp3_ + end;
	}
	if (start >= ((glong) 0)) {
		glong _tmp5_;
		_tmp5_ = string_length;
		_tmp4_ = start <= _tmp5_;
	} else {
		_tmp4_ = FALSE;
	}
	g_return_val_if_fail (_tmp4_, NULL);
	if (end >= ((glong) 0)) {
		glong _tmp7_;
		_tmp7_ = string_length;
		_tmp6_ = end <= _tmp7_;
	} else {
		_tmp6_ = FALSE;
	}
	g_return_val_if_fail (_tmp6_, NULL);
	g_return_val_if_fail (start <= end, NULL);
	_tmp8_ = g_strndup (((gchar*) self) + start, (gsize) (end - start));
	result = _tmp8_;
	return result;
}


static gchar*
weather_show_applet_get_weatherdata_get_dayornight (WeatherShowAppletGetWeatherdata* self,
                                                    const gchar* dn)
{
	gchar* result = NULL;
	gchar* _tmp5_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (dn != NULL, NULL);
	if (g_strcmp0 (dn, "") != 0) {
		gint len = 0;
		gint _tmp0_;
		gint _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		gchar* _tmp4_;
		_tmp0_ = strlen (dn);
		_tmp1_ = _tmp0_;
		len = _tmp1_;
		_tmp2_ = len;
		_tmp3_ = len;
		_tmp4_ = string_slice (dn, (glong) (_tmp2_ - 1), (glong) _tmp3_);
		result = _tmp4_;
		return result;
	}
	_tmp5_ = g_strdup ("d");
	result = _tmp5_;
	return result;
}


WeatherShowAppletGetWeatherdata*
weather_show_applet_get_weatherdata_construct (GType object_type)
{
	WeatherShowAppletGetWeatherdata* self = NULL;
	self = (WeatherShowAppletGetWeatherdata*) g_type_create_instance (object_type);
	return self;
}


WeatherShowAppletGetWeatherdata*
weather_show_applet_get_weatherdata_new (void)
{
	return weather_show_applet_get_weatherdata_construct (WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA);
}


static void
weather_show_applet_value_get_weatherdata_init (GValue* value)
{
	value->data[0].v_pointer = NULL;
}


static void
weather_show_applet_value_get_weatherdata_free_value (GValue* value)
{
	if (value->data[0].v_pointer) {
		weather_show_applet_get_weatherdata_unref (value->data[0].v_pointer);
	}
}


static void
weather_show_applet_value_get_weatherdata_copy_value (const GValue* src_value,
                                                      GValue* dest_value)
{
	if (src_value->data[0].v_pointer) {
		dest_value->data[0].v_pointer = weather_show_applet_get_weatherdata_ref (src_value->data[0].v_pointer);
	} else {
		dest_value->data[0].v_pointer = NULL;
	}
}


static gpointer
weather_show_applet_value_get_weatherdata_peek_pointer (const GValue* value)
{
	return value->data[0].v_pointer;
}


static gchar*
weather_show_applet_value_get_weatherdata_collect_value (GValue* value,
                                                         guint n_collect_values,
                                                         GTypeCValue* collect_values,
                                                         guint collect_flags)
{
	if (collect_values[0].v_pointer) {
		WeatherShowAppletGetWeatherdata * object;
		object = collect_values[0].v_pointer;
		if (object->parent_instance.g_class == NULL) {
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		}
		value->data[0].v_pointer = weather_show_applet_get_weatherdata_ref (object);
	} else {
		value->data[0].v_pointer = NULL;
	}
	return NULL;
}


static gchar*
weather_show_applet_value_get_weatherdata_lcopy_value (const GValue* value,
                                                       guint n_collect_values,
                                                       GTypeCValue* collect_values,
                                                       guint collect_flags)
{
	WeatherShowAppletGetWeatherdata ** object_p;
	object_p = collect_values[0].v_pointer;
	if (!object_p) {
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
	}
	if (!value->data[0].v_pointer) {
		*object_p = NULL;
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
		*object_p = value->data[0].v_pointer;
	} else {
		*object_p = weather_show_applet_get_weatherdata_ref (value->data[0].v_pointer);
	}
	return NULL;
}


GParamSpec*
weather_show_applet_param_spec_get_weatherdata (const gchar* name,
                                                const gchar* nick,
                                                const gchar* blurb,
                                                GType object_type,
                                                GParamFlags flags)
{
	WeatherShowAppletParamSpecGetWeatherdata* spec;
	g_return_val_if_fail (g_type_is_a (object_type, WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA), NULL);
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
	G_PARAM_SPEC (spec)->value_type = object_type;
	return G_PARAM_SPEC (spec);
}


gpointer
weather_show_applet_value_get_get_weatherdata (const GValue* value)
{
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA), NULL);
	return value->data[0].v_pointer;
}


void
weather_show_applet_value_set_get_weatherdata (GValue* value,
                                               gpointer v_object)
{
	WeatherShowAppletGetWeatherdata * old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
		weather_show_applet_get_weatherdata_ref (value->data[0].v_pointer);
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		weather_show_applet_get_weatherdata_unref (old);
	}
}


void
weather_show_applet_value_take_get_weatherdata (GValue* value,
                                                gpointer v_object)
{
	WeatherShowAppletGetWeatherdata * old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		weather_show_applet_get_weatherdata_unref (old);
	}
}


static void
weather_show_applet_get_weatherdata_class_init (WeatherShowAppletGetWeatherdataClass * klass)
{
	weather_show_applet_get_weatherdata_parent_class = g_type_class_peek_parent (klass);
	((WeatherShowAppletGetWeatherdataClass *) klass)->finalize = weather_show_applet_get_weatherdata_finalize;
}


static void
weather_show_applet_get_weatherdata_instance_init (WeatherShowAppletGetWeatherdata * self)
{
	self->ref_count = 1;
}


static void
weather_show_applet_get_weatherdata_finalize (WeatherShowAppletGetWeatherdata * obj)
{
	WeatherShowAppletGetWeatherdata * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, WEATHER_SHOW_APPLET_TYPE_GET_WEATHERDATA, WeatherShowAppletGetWeatherdata);
	g_signal_handlers_destroy (self);
}


GType
weather_show_applet_get_weatherdata_get_type (void)
{
	return weather_show_applet_get_weatherdata_type_id;
}


GType
weather_show_applet_get_weatherdata_register_type (GTypeModule * module)
{
	static const GTypeValueTable g_define_type_value_table = { weather_show_applet_value_get_weatherdata_init, weather_show_applet_value_get_weatherdata_free_value, weather_show_applet_value_get_weatherdata_copy_value, weather_show_applet_value_get_weatherdata_peek_pointer, "p", weather_show_applet_value_get_weatherdata_collect_value, "p", weather_show_applet_value_get_weatherdata_lcopy_value };
	static const GTypeInfo g_define_type_info = { sizeof (WeatherShowAppletGetWeatherdataClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) weather_show_applet_get_weatherdata_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (WeatherShowAppletGetWeatherdata), 0, (GInstanceInitFunc) weather_show_applet_get_weatherdata_instance_init, &g_define_type_value_table };
	static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
	weather_show_applet_get_weatherdata_type_id = g_type_register_fundamental (g_type_fundamental_next (), "WeatherShowAppletGetWeatherdata", &g_define_type_info, &g_define_type_fundamental_info, 0);
	return weather_show_applet_get_weatherdata_type_id;
}


gpointer
weather_show_applet_get_weatherdata_ref (gpointer instance)
{
	WeatherShowAppletGetWeatherdata * self;
	self = instance;
	g_atomic_int_inc (&self->ref_count);
	return instance;
}


void
weather_show_applet_get_weatherdata_unref (gpointer instance)
{
	WeatherShowAppletGetWeatherdata * self;
	self = instance;
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
		WEATHER_SHOW_APPLET_GET_WEATHERDATA_GET_CLASS (self)->finalize (self);
		g_type_free_instance ((GTypeInstance *) self);
	}
}


static void
_weather_show_applet_weather_show_settings_on_button_general_clicked_gtk_button_clicked (GtkButton* _sender,
                                                                                         gpointer self)
{
	weather_show_applet_weather_show_settings_on_button_general_clicked ((WeatherShowAppletWeatherShowSettings*) self, _sender);
}


static void
_weather_show_applet_weather_show_settings_on_button_desktop_clicked_gtk_button_clicked (GtkButton* _sender,
                                                                                         gpointer self)
{
	weather_show_applet_weather_show_settings_on_button_desktop_clicked ((WeatherShowAppletWeatherShowSettings*) self, _sender);
}


static void
_weather_show_applet_weather_show_settings_update_citylist_gtk_editable_changed (GtkEditable* _sender,
                                                                                 gpointer self)
{
	weather_show_applet_weather_show_settings_update_citylist ((WeatherShowAppletWeatherShowSettings*) self, _sender);
}


static gboolean
_weather_show_applet_weather_show_settings_update_langsetting_gtk_entry_completion_match_selected (GtkEntryCompletion* _sender,
                                                                                                   GtkTreeModel* model,
                                                                                                   GtkTreeIter* iter,
                                                                                                   gpointer self)
{
	gboolean result;
	result = weather_show_applet_weather_show_settings_update_langsetting ((WeatherShowAppletWeatherShowSettings*) self, _sender, model, iter);
	return result;
}


static void
_weather_show_applet_weather_show_settings_toggle_value_gtk_toggle_button_toggled (GtkToggleButton* _sender,
                                                                                   gpointer self)
{
	weather_show_applet_weather_show_settings_toggle_value ((WeatherShowAppletWeatherShowSettings*) self, _sender);
}


static void
_weather_show_applet_weather_show_settings_set_tempunit_gtk_toggle_button_toggled (GtkToggleButton* _sender,
                                                                                   gpointer self)
{
	weather_show_applet_weather_show_settings_set_tempunit ((WeatherShowAppletWeatherShowSettings*) self, _sender);
}


static void
_weather_show_applet_weather_show_settings_update_transparencysettings_gtk_range_value_changed (GtkRange* _sender,
                                                                                                gpointer self)
{
	weather_show_applet_weather_show_settings_update_transparencysettings ((WeatherShowAppletWeatherShowSettings*) self, _sender);
}


static void
_weather_show_applet_weather_show_settings_set_color_gtk_button_clicked (GtkButton* _sender,
                                                                         gpointer self)
{
	weather_show_applet_weather_show_settings_set_color ((WeatherShowAppletWeatherShowSettings*) self, _sender);
}


static void
_weather_show_applet_weather_show_settings_update_xysetting_gtk_button_clicked (GtkButton* _sender,
                                                                                gpointer self)
{
	weather_show_applet_weather_show_settings_update_xysetting ((WeatherShowAppletWeatherShowSettings*) self, _sender);
}


static void
__lambda6_ (WeatherShowAppletWeatherShowSettings* self)
{
	weather_show_applet_weather_show_settings_set_buttoncolor (self);
}


static void
___lambda6__g_settings_changed (GSettings* _sender,
                                const gchar* key,
                                gpointer self)
{
	__lambda6_ ((WeatherShowAppletWeatherShowSettings*) self);
}


WeatherShowAppletWeatherShowSettings*
weather_show_applet_weather_show_settings_construct (GType object_type,
                                                     GSettings* settings)
{
	WeatherShowAppletWeatherShowSettings * self = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	gchar* _tmp22_;
	gchar* _tmp23_;
	gchar* _tmp24_;
	gchar* _tmp25_;
	gchar* _tmp26_;
	gchar* _tmp27_;
	gchar* _tmp28_;
	gchar* _tmp29_;
	gchar* _tmp30_;
	gchar* _tmp31_;
	gchar* _tmp32_;
	gchar** _tmp33_;
	gchar* _tmp34_;
	gchar* _tmp35_;
	gchar* _tmp36_;
	gchar* _tmp37_;
	gchar* _tmp38_;
	gchar* _tmp39_;
	gchar* _tmp40_;
	gchar* _tmp41_;
	gchar* _tmp42_;
	gchar* _tmp43_;
	gchar* _tmp44_;
	gchar* _tmp45_;
	gchar* _tmp46_;
	gchar* _tmp47_;
	gchar* _tmp48_;
	gchar* _tmp49_;
	gchar* _tmp50_;
	gchar* _tmp51_;
	gchar* _tmp52_;
	gchar* _tmp53_;
	gchar* _tmp54_;
	gchar* _tmp55_;
	gchar* _tmp56_;
	gchar* _tmp57_;
	gchar* _tmp58_;
	gchar* _tmp59_;
	gchar* _tmp60_;
	gchar* _tmp61_;
	gchar* _tmp62_;
	gchar* _tmp63_;
	gchar* _tmp64_;
	gchar* _tmp65_;
	gchar* _tmp66_;
	gchar** _tmp67_;
	gchar* _tmp68_;
	GdkScreen* _tmp69_;
	GdkScreen* _tmp70_;
	GtkCssProvider* _tmp71_;
	GtkStack* _tmp72_;
	GtkStack* _tmp73_;
	GtkStack* _tmp74_;
	GtkStack* _tmp75_;
	GtkStack* _tmp76_;
	GtkLabel* header_space = NULL;
	GtkLabel* _tmp77_;
	GtkLabel* _tmp78_;
	GtkButton* _tmp79_;
	GtkButton* _tmp80_;
	GtkButton* _tmp81_;
	GtkButton* _tmp82_;
	GtkLabel* _tmp83_;
	GtkLabel* _tmp84_;
	GtkButton* _tmp85_;
	GtkButton* _tmp86_;
	GtkButton* _tmp87_;
	GtkButton* _tmp88_;
	GtkLabel* _tmp89_;
	GtkLabel* _tmp90_;
	GtkGrid* subgrid_general = NULL;
	GtkGrid* _tmp91_;
	GtkStack* _tmp92_;
	GtkGrid* _tmp93_;
	GtkGrid* subgrid_desktop = NULL;
	GtkGrid* _tmp94_;
	GtkStack* _tmp95_;
	GtkGrid* _tmp96_;
	GtkLabel* citylabel = NULL;
	GtkLabel* _tmp97_;
	GtkLabel* _tmp98_;
	GtkGrid* _tmp99_;
	GtkLabel* _tmp100_;
	GtkBox* citybox = NULL;
	GtkBox* _tmp101_;
	GtkGrid* _tmp102_;
	GtkBox* _tmp103_;
	GtkEntry* _tmp104_;
	gchar* initialcity = NULL;
	gchar* _tmp105_;
	GtkEntry* _tmp106_;
	const gchar* _tmp107_;
	GtkEntry* _tmp108_;
	GtkBox* _tmp109_;
	GtkEntry* _tmp110_;
	GtkMenuButton* _tmp111_;
	GtkImage* searchicon = NULL;
	GtkImage* _tmp112_;
	GtkMenuButton* _tmp113_;
	GtkImage* _tmp114_;
	GtkBox* _tmp115_;
	GtkMenuButton* _tmp116_;
	GtkMenu* _tmp117_;
	GtkLabel* spacelabel1 = NULL;
	GtkLabel* _tmp118_;
	GtkGrid* _tmp119_;
	GtkLabel* _tmp120_;
	GtkLabel* langlabel = NULL;
	GtkLabel* _tmp121_;
	GtkLabel* _tmp122_;
	GtkGrid* _tmp123_;
	GtkLabel* _tmp124_;
	GtkEntry* _tmp125_;
	GtkGrid* _tmp126_;
	GtkEntry* _tmp127_;
	GtkEntryCompletion* completion = NULL;
	GtkEntryCompletion* _tmp128_;
	GtkEntry* _tmp129_;
	GtkEntryCompletion* _tmp130_;
	GtkListStore* _tmp131_;
	GtkEntryCompletion* _tmp132_;
	GtkListStore* _tmp133_;
	GtkEntryCompletion* _tmp134_;
	GtkTreeIter iter = {0};
	gchar** _tmp135_;
	gint _tmp135__length1;
	GtkEntryCompletion* _tmp142_;
	GtkLabel* spacelabel2 = NULL;
	GtkLabel* _tmp143_;
	GtkGrid* _tmp144_;
	GtkCheckButton* ondesktop_checkbox = NULL;
	GtkCheckButton* _tmp145_;
	GtkGrid* _tmp146_;
	gboolean _tmp147_;
	GtkCheckButton* dynamicicon_checkbox = NULL;
	GtkCheckButton* _tmp148_;
	GtkGrid* _tmp149_;
	gboolean _tmp150_;
	GtkCheckButton* forecast_checkbox = NULL;
	GtkCheckButton* _tmp151_;
	GtkGrid* _tmp152_;
	gboolean _tmp153_;
	GtkLabel* spacelabel3 = NULL;
	GtkLabel* _tmp154_;
	GtkGrid* _tmp155_;
	GtkCheckButton* tempunit_checkbox = NULL;
	GtkCheckButton* _tmp156_;
	GtkGrid* _tmp157_;
	GtkLabel* spacelabel4 = NULL;
	GtkLabel* _tmp158_;
	GtkGrid* _tmp159_;
	GtkLabel* _tmp160_;
	GtkLabel* _tmp161_;
	GtkGrid* _tmp162_;
	GtkLabel* _tmp163_;
	GtkScale* _tmp164_;
	GtkGrid* _tmp165_;
	GtkScale* _tmp166_;
	GtkScale* _tmp167_;
	GtkLabel* spacelabel6 = NULL;
	GtkLabel* _tmp168_;
	GtkGrid* _tmp169_;
	GtkBox* colorbox = NULL;
	GtkBox* _tmp170_;
	GtkGrid* _tmp171_;
	GtkButton* _tmp172_;
	GtkButton* _tmp173_;
	GtkButton* _tmp174_;
	GtkButton* _tmp175_;
	gchar* _tmp176_;
	gchar* _tmp177_;
	GtkLabel* _tmp178_;
	GtkLabel* _tmp179_;
	GtkLabel* _tmp180_;
	GtkLabel* spacelabel7 = NULL;
	GtkLabel* _tmp181_;
	GtkGrid* _tmp182_;
	GtkCheckButton* _tmp183_;
	GtkGrid* _tmp184_;
	GtkCheckButton* _tmp185_;
	GtkCheckButton* _tmp186_;
	GtkBox* posholder = NULL;
	GtkBox* _tmp187_;
	GtkEntry* _tmp188_;
	GtkEntry* _tmp189_;
	GtkLabel* _tmp190_;
	GtkEntry* _tmp191_;
	GtkEntry* _tmp192_;
	GtkLabel* _tmp193_;
	GtkLabel* _tmp194_;
	GtkEntry* _tmp195_;
	GtkLabel* _tmp196_;
	GtkEntry* _tmp197_;
	GtkButton* _tmp198_;
	GtkButton* _tmp199_;
	GtkButton* _tmp200_;
	GtkGrid* _tmp201_;
	GtkButton* _tmp202_;
	gboolean _tmp203_;
	GtkCheckButton* _tmp204_;
	GtkCheckButton* _tmp205_;
	GtkCheckButton* _tmp206_;
	GtkCheckButton* _tmp207_;
	GtkCheckButton* _tmp208_;
	GtkCheckButton** _tmp209_;
	gchar* _tmp210_;
	gchar* _tmp211_;
	gchar* _tmp212_;
	gchar* _tmp213_;
	gchar** _tmp214_;
	GSettings* _tmp215_;
	self = (WeatherShowAppletWeatherShowSettings*) g_object_new (object_type, NULL);
	_tmp0_ = g_strdup ("Arabic");
	_tmp1_ = g_strdup ("Bulgarian");
	_tmp2_ = g_strdup ("Catalan");
	_tmp3_ = g_strdup ("Czech");
	_tmp4_ = g_strdup ("German");
	_tmp5_ = g_strdup ("Greek");
	_tmp6_ = g_strdup ("English");
	_tmp7_ = g_strdup ("Persian (Farsi)");
	_tmp8_ = g_strdup ("Finnish");
	_tmp9_ = g_strdup ("French");
	_tmp10_ = g_strdup ("Galician");
	_tmp11_ = g_strdup ("Croatian");
	_tmp12_ = g_strdup ("Hungarian");
	_tmp13_ = g_strdup ("Italian");
	_tmp14_ = g_strdup ("Japanese");
	_tmp15_ = g_strdup ("Korean");
	_tmp16_ = g_strdup ("Latvian");
	_tmp17_ = g_strdup ("Lithuanian");
	_tmp18_ = g_strdup ("Macedonian");
	_tmp19_ = g_strdup ("Dutch");
	_tmp20_ = g_strdup ("Polish");
	_tmp21_ = g_strdup ("Portuguese");
	_tmp22_ = g_strdup ("Romanian");
	_tmp23_ = g_strdup ("Russian");
	_tmp24_ = g_strdup ("Swedish");
	_tmp25_ = g_strdup ("Slovak");
	_tmp26_ = g_strdup ("Slovenian");
	_tmp27_ = g_strdup ("Spanish");
	_tmp28_ = g_strdup ("Turkish");
	_tmp29_ = g_strdup ("Ukrainian");
	_tmp30_ = g_strdup ("Vietnamese");
	_tmp31_ = g_strdup ("Chinese Simplified");
	_tmp32_ = g_strdup ("Chinese Traditional");
	_tmp33_ = g_new0 (gchar*, 33 + 1);
	_tmp33_[0] = _tmp0_;
	_tmp33_[1] = _tmp1_;
	_tmp33_[2] = _tmp2_;
	_tmp33_[3] = _tmp3_;
	_tmp33_[4] = _tmp4_;
	_tmp33_[5] = _tmp5_;
	_tmp33_[6] = _tmp6_;
	_tmp33_[7] = _tmp7_;
	_tmp33_[8] = _tmp8_;
	_tmp33_[9] = _tmp9_;
	_tmp33_[10] = _tmp10_;
	_tmp33_[11] = _tmp11_;
	_tmp33_[12] = _tmp12_;
	_tmp33_[13] = _tmp13_;
	_tmp33_[14] = _tmp14_;
	_tmp33_[15] = _tmp15_;
	_tmp33_[16] = _tmp16_;
	_tmp33_[17] = _tmp17_;
	_tmp33_[18] = _tmp18_;
	_tmp33_[19] = _tmp19_;
	_tmp33_[20] = _tmp20_;
	_tmp33_[21] = _tmp21_;
	_tmp33_[22] = _tmp22_;
	_tmp33_[23] = _tmp23_;
	_tmp33_[24] = _tmp24_;
	_tmp33_[25] = _tmp25_;
	_tmp33_[26] = _tmp26_;
	_tmp33_[27] = _tmp27_;
	_tmp33_[28] = _tmp28_;
	_tmp33_[29] = _tmp29_;
	_tmp33_[30] = _tmp30_;
	_tmp33_[31] = _tmp31_;
	_tmp33_[32] = _tmp32_;
	self->priv->langlist = (_vala_array_free (self->priv->langlist, self->priv->langlist_length1, (GDestroyNotify) g_free), NULL);
	self->priv->langlist = _tmp33_;
	self->priv->langlist_length1 = 33;
	self->priv->_langlist_size_ = self->priv->langlist_length1;
	_tmp34_ = g_strdup ("ar");
	_tmp35_ = g_strdup ("bg");
	_tmp36_ = g_strdup ("ca");
	_tmp37_ = g_strdup ("cz");
	_tmp38_ = g_strdup ("de");
	_tmp39_ = g_strdup ("el");
	_tmp40_ = g_strdup ("en");
	_tmp41_ = g_strdup ("fa");
	_tmp42_ = g_strdup ("fi");
	_tmp43_ = g_strdup ("fr");
	_tmp44_ = g_strdup ("gl");
	_tmp45_ = g_strdup ("hr");
	_tmp46_ = g_strdup ("hu");
	_tmp47_ = g_strdup ("it");
	_tmp48_ = g_strdup ("ja");
	_tmp49_ = g_strdup ("kr");
	_tmp50_ = g_strdup ("la");
	_tmp51_ = g_strdup ("lt");
	_tmp52_ = g_strdup ("mk");
	_tmp53_ = g_strdup ("nl");
	_tmp54_ = g_strdup ("pl");
	_tmp55_ = g_strdup ("pt");
	_tmp56_ = g_strdup ("ro");
	_tmp57_ = g_strdup ("ru");
	_tmp58_ = g_strdup ("se");
	_tmp59_ = g_strdup ("sk");
	_tmp60_ = g_strdup ("sl");
	_tmp61_ = g_strdup ("es");
	_tmp62_ = g_strdup ("tr");
	_tmp63_ = g_strdup ("ua");
	_tmp64_ = g_strdup ("vi");
	_tmp65_ = g_strdup ("zh_cn");
	_tmp66_ = g_strdup ("zh_tw");
	_tmp67_ = g_new0 (gchar*, 33 + 1);
	_tmp67_[0] = _tmp34_;
	_tmp67_[1] = _tmp35_;
	_tmp67_[2] = _tmp36_;
	_tmp67_[3] = _tmp37_;
	_tmp67_[4] = _tmp38_;
	_tmp67_[5] = _tmp39_;
	_tmp67_[6] = _tmp40_;
	_tmp67_[7] = _tmp41_;
	_tmp67_[8] = _tmp42_;
	_tmp67_[9] = _tmp43_;
	_tmp67_[10] = _tmp44_;
	_tmp67_[11] = _tmp45_;
	_tmp67_[12] = _tmp46_;
	_tmp67_[13] = _tmp47_;
	_tmp67_[14] = _tmp48_;
	_tmp67_[15] = _tmp49_;
	_tmp67_[16] = _tmp50_;
	_tmp67_[17] = _tmp51_;
	_tmp67_[18] = _tmp52_;
	_tmp67_[19] = _tmp53_;
	_tmp67_[20] = _tmp54_;
	_tmp67_[21] = _tmp55_;
	_tmp67_[22] = _tmp56_;
	_tmp67_[23] = _tmp57_;
	_tmp67_[24] = _tmp58_;
	_tmp67_[25] = _tmp59_;
	_tmp67_[26] = _tmp60_;
	_tmp67_[27] = _tmp61_;
	_tmp67_[28] = _tmp62_;
	_tmp67_[29] = _tmp63_;
	_tmp67_[30] = _tmp64_;
	_tmp67_[31] = _tmp65_;
	_tmp67_[32] = _tmp66_;
	self->priv->langcodes = (_vala_array_free (self->priv->langcodes, self->priv->langcodes_length1, (GDestroyNotify) g_free), NULL);
	self->priv->langcodes = _tmp67_;
	self->priv->langcodes_length1 = 33;
	self->priv->_langcodes_size_ = self->priv->langcodes_length1;
	_tmp68_ = g_strdup ("\n" \
"            .colorbutton {\n" \
"              border-color: transparent;\n" \
"              background-color: rgb(xxx, xxx, xxx);\n" \
"              padding: 0px;\n" \
"              border-width: 1px;\n" \
"              border-radius: 4px;\n" \
"            }\n" \
"            .activebutton {\n" \
"            }\n" \
"            ");
	_g_free0 (self->priv->css_template);
	self->priv->css_template = _tmp68_;
	_tmp69_ = gtk_widget_get_screen ((GtkWidget*) self);
	_tmp70_ = _g_object_ref0 (_tmp69_);
	_g_object_unref0 (self->priv->screen);
	self->priv->screen = _tmp70_;
	_tmp71_ = gtk_css_provider_new ();
	_g_object_unref0 (self->priv->css_provider);
	self->priv->css_provider = _tmp71_;
	_tmp72_ = (GtkStack*) gtk_stack_new ();
	g_object_ref_sink (_tmp72_);
	_g_object_unref0 (self->priv->stack);
	self->priv->stack = _tmp72_;
	_tmp73_ = self->priv->stack;
	gtk_stack_set_transition_type (_tmp73_, GTK_STACK_TRANSITION_TYPE_SLIDE_LEFT_RIGHT);
	_tmp74_ = self->priv->stack;
	gtk_widget_set_vexpand ((GtkWidget*) _tmp74_, TRUE);
	_tmp75_ = self->priv->stack;
	gtk_widget_set_hexpand ((GtkWidget*) _tmp75_, TRUE);
	_tmp76_ = self->priv->stack;
	gtk_grid_attach ((GtkGrid*) self, (GtkWidget*) _tmp76_, 0, 10, 2, 1);
	_tmp77_ = (GtkLabel*) gtk_label_new ("\n");
	g_object_ref_sink (_tmp77_);
	header_space = _tmp77_;
	_tmp78_ = header_space;
	gtk_grid_attach ((GtkGrid*) self, (GtkWidget*) _tmp78_, 0, 2, 1, 1);
	_tmp79_ = (GtkButton*) gtk_button_new_with_label (_ ("General"));
	g_object_ref_sink (_tmp79_);
	_g_object_unref0 (self->priv->button_general);
	self->priv->button_general = _tmp79_;
	_tmp80_ = self->priv->button_general;
	g_signal_connect_object (_tmp80_, "clicked", (GCallback) _weather_show_applet_weather_show_settings_on_button_general_clicked_gtk_button_clicked, self, 0);
	_tmp81_ = self->priv->button_general;
	gtk_widget_set_size_request ((GtkWidget*) _tmp81_, 100, 20);
	_tmp82_ = self->priv->button_general;
	gtk_grid_attach ((GtkGrid*) self, (GtkWidget*) _tmp82_, 0, 0, 1, 1);
	_tmp83_ = (GtkLabel*) gtk_label_new ("");
	g_object_ref_sink (_tmp83_);
	_g_object_unref0 (self->priv->currmarker_label1);
	self->priv->currmarker_label1 = _tmp83_;
	_tmp84_ = self->priv->currmarker_label1;
	gtk_grid_attach ((GtkGrid*) self, (GtkWidget*) _tmp84_, 0, 1, 1, 1);
	_tmp85_ = (GtkButton*) gtk_button_new_with_label (_ ("Desktop"));
	g_object_ref_sink (_tmp85_);
	_g_object_unref0 (self->priv->button_desktop);
	self->priv->button_desktop = _tmp85_;
	_tmp86_ = self->priv->button_desktop;
	g_signal_connect_object (_tmp86_, "clicked", (GCallback) _weather_show_applet_weather_show_settings_on_button_desktop_clicked_gtk_button_clicked, self, 0);
	_tmp87_ = self->priv->button_desktop;
	gtk_widget_set_size_request ((GtkWidget*) _tmp87_, 100, 20);
	_tmp88_ = self->priv->button_desktop;
	gtk_grid_attach ((GtkGrid*) self, (GtkWidget*) _tmp88_, 1, 0, 1, 1);
	_tmp89_ = (GtkLabel*) gtk_label_new ("");
	g_object_ref_sink (_tmp89_);
	_g_object_unref0 (self->priv->currmarker_label2);
	self->priv->currmarker_label2 = _tmp89_;
	_tmp90_ = self->priv->currmarker_label2;
	gtk_grid_attach ((GtkGrid*) self, (GtkWidget*) _tmp90_, 1, 1, 1, 1);
	_tmp91_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp91_);
	subgrid_general = _tmp91_;
	_tmp92_ = self->priv->stack;
	_tmp93_ = subgrid_general;
	gtk_stack_add_named (_tmp92_, (GtkWidget*) _tmp93_, "Page1");
	_tmp94_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp94_);
	subgrid_desktop = _tmp94_;
	_tmp95_ = self->priv->stack;
	_tmp96_ = subgrid_desktop;
	gtk_stack_add_named (_tmp95_, (GtkWidget*) _tmp96_, "Page2");
	self->priv->edit_citymenu = TRUE;
	_tmp97_ = (GtkLabel*) gtk_label_new (_ ("City"));
	g_object_ref_sink (_tmp97_);
	citylabel = _tmp97_;
	_tmp98_ = citylabel;
	gtk_label_set_xalign (_tmp98_, (gfloat) 0);
	_tmp99_ = subgrid_general;
	_tmp100_ = citylabel;
	gtk_grid_attach (_tmp99_, (GtkWidget*) _tmp100_, 0, 0, 1, 1);
	_tmp101_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp101_);
	citybox = _tmp101_;
	_tmp102_ = subgrid_general;
	_tmp103_ = citybox;
	gtk_grid_attach (_tmp102_, (GtkWidget*) _tmp103_, 0, 1, 1, 1);
	_tmp104_ = (GtkEntry*) gtk_entry_new ();
	g_object_ref_sink (_tmp104_);
	_g_object_unref0 (self->priv->cityentry);
	self->priv->cityentry = _tmp104_;
	_tmp105_ = weather_show_applet_weather_show_settings_set_initialcity (self);
	initialcity = _tmp105_;
	_tmp106_ = self->priv->cityentry;
	_tmp107_ = initialcity;
	gtk_entry_set_text (_tmp106_, _tmp107_);
	_tmp108_ = self->priv->cityentry;
	g_signal_connect_object ((GtkEditable*) _tmp108_, "changed", (GCallback) _weather_show_applet_weather_show_settings_update_citylist_gtk_editable_changed, self, 0);
	_tmp109_ = citybox;
	_tmp110_ = self->priv->cityentry;
	gtk_box_pack_start (_tmp109_, (GtkWidget*) _tmp110_, FALSE, FALSE, (guint) 0);
	_tmp111_ = (GtkMenuButton*) gtk_menu_button_new ();
	g_object_ref_sink (_tmp111_);
	_g_object_unref0 (self->priv->search_button);
	self->priv->search_button = _tmp111_;
	_tmp112_ = (GtkImage*) gtk_image_new_from_icon_name ("system-search-symbolic", (GtkIconSize) GTK_ICON_SIZE_DND);
	g_object_ref_sink (_tmp112_);
	searchicon = _tmp112_;
	_tmp113_ = self->priv->search_button;
	_tmp114_ = searchicon;
	gtk_button_set_image ((GtkButton*) _tmp113_, (GtkWidget*) _tmp114_);
	_tmp115_ = citybox;
	_tmp116_ = self->priv->search_button;
	gtk_box_pack_end (_tmp115_, (GtkWidget*) _tmp116_, FALSE, FALSE, (guint) 0);
	_tmp117_ = (GtkMenu*) gtk_menu_new ();
	g_object_ref_sink (_tmp117_);
	_g_object_unref0 (self->priv->citymenu);
	self->priv->citymenu = _tmp117_;
	_tmp118_ = (GtkLabel*) gtk_label_new ("");
	g_object_ref_sink (_tmp118_);
	spacelabel1 = _tmp118_;
	_tmp119_ = subgrid_general;
	_tmp120_ = spacelabel1;
	gtk_grid_attach (_tmp119_, (GtkWidget*) _tmp120_, 0, 2, 1, 1);
	_tmp121_ = (GtkLabel*) gtk_label_new (_ ("Interface language"));
	g_object_ref_sink (_tmp121_);
	langlabel = _tmp121_;
	_tmp122_ = langlabel;
	gtk_label_set_xalign (_tmp122_, (gfloat) 0);
	_tmp123_ = subgrid_general;
	_tmp124_ = langlabel;
	gtk_grid_attach (_tmp123_, (GtkWidget*) _tmp124_, 0, 3, 1, 1);
	_tmp125_ = (GtkEntry*) gtk_entry_new ();
	g_object_ref_sink (_tmp125_);
	_g_object_unref0 (self->priv->langentry);
	self->priv->langentry = _tmp125_;
	weather_show_applet_weather_show_settings_set_initiallang (self);
	_tmp126_ = subgrid_general;
	_tmp127_ = self->priv->langentry;
	gtk_grid_attach (_tmp126_, (GtkWidget*) _tmp127_, 0, 4, 1, 1);
	_tmp128_ = gtk_entry_completion_new ();
	completion = _tmp128_;
	_tmp129_ = self->priv->langentry;
	_tmp130_ = completion;
	gtk_entry_set_completion (_tmp129_, _tmp130_);
	_tmp131_ = gtk_list_store_new (1, G_TYPE_STRING, -1);
	_g_object_unref0 (self->priv->lang_liststore);
	self->priv->lang_liststore = _tmp131_;
	_tmp132_ = completion;
	_tmp133_ = self->priv->lang_liststore;
	gtk_entry_completion_set_model (_tmp132_, (GtkTreeModel*) _tmp133_);
	_tmp134_ = completion;
	gtk_entry_completion_set_text_column (_tmp134_, 0);
	_tmp135_ = self->priv->langlist;
	_tmp135__length1 = self->priv->langlist_length1;
	{
		gchar** lang_collection = NULL;
		gint lang_collection_length1 = 0;
		gint _lang_collection_size_ = 0;
		gint lang_it = 0;
		lang_collection = _tmp135_;
		lang_collection_length1 = _tmp135__length1;
		for (lang_it = 0; lang_it < _tmp135__length1; lang_it = lang_it + 1) {
			gchar* _tmp136_;
			gchar* lang = NULL;
			_tmp136_ = g_strdup (lang_collection[lang_it]);
			lang = _tmp136_;
			{
				GtkListStore* _tmp137_;
				GtkTreeIter _tmp138_ = {0};
				GtkListStore* _tmp139_;
				GtkTreeIter _tmp140_;
				const gchar* _tmp141_;
				_tmp137_ = self->priv->lang_liststore;
				gtk_list_store_append (_tmp137_, &_tmp138_);
				iter = _tmp138_;
				_tmp139_ = self->priv->lang_liststore;
				_tmp140_ = iter;
				_tmp141_ = lang;
				gtk_list_store_set (_tmp139_, &_tmp140_, 0, _tmp141_, -1);
				_g_free0 (lang);
			}
		}
	}
	_tmp142_ = completion;
	g_signal_connect_object (_tmp142_, "match-selected", (GCallback) _weather_show_applet_weather_show_settings_update_langsetting_gtk_entry_completion_match_selected, self, 0);
	_tmp143_ = (GtkLabel*) gtk_label_new ("");
	g_object_ref_sink (_tmp143_);
	spacelabel2 = _tmp143_;
	_tmp144_ = subgrid_general;
	gtk_grid_attach (_tmp144_, (GtkWidget*) spacelabel2, 0, 5, 1, 1);
	_tmp145_ = (GtkCheckButton*) gtk_check_button_new_with_label (_ ("Show on desktop"));
	g_object_ref_sink (_tmp145_);
	ondesktop_checkbox = _tmp145_;
	_tmp146_ = subgrid_general;
	gtk_grid_attach (_tmp146_, (GtkWidget*) ondesktop_checkbox, 0, 10, 1, 1);
	_tmp147_ = weather_show_applet_show_ondesktop;
	gtk_toggle_button_set_active ((GtkToggleButton*) ondesktop_checkbox, _tmp147_);
	g_signal_connect_object ((GtkToggleButton*) ondesktop_checkbox, "toggled", (GCallback) _weather_show_applet_weather_show_settings_toggle_value_gtk_toggle_button_toggled, self, 0);
	_tmp148_ = (GtkCheckButton*) gtk_check_button_new_with_label (_ ("Show dynamic panel icon"));
	g_object_ref_sink (_tmp148_);
	dynamicicon_checkbox = _tmp148_;
	_tmp149_ = subgrid_general;
	gtk_grid_attach (_tmp149_, (GtkWidget*) dynamicicon_checkbox, 0, 11, 1, 1);
	_tmp150_ = weather_show_applet_dynamic_icon;
	gtk_toggle_button_set_active ((GtkToggleButton*) dynamicicon_checkbox, _tmp150_);
	g_signal_connect_object ((GtkToggleButton*) dynamicicon_checkbox, "toggled", (GCallback) _weather_show_applet_weather_show_settings_toggle_value_gtk_toggle_button_toggled, self, 0);
	_tmp151_ = (GtkCheckButton*) gtk_check_button_new_with_label (_ ("Show forecast in popover"));
	g_object_ref_sink (_tmp151_);
	forecast_checkbox = _tmp151_;
	_tmp152_ = subgrid_general;
	gtk_grid_attach (_tmp152_, (GtkWidget*) forecast_checkbox, 0, 12, 1, 1);
	_tmp153_ = weather_show_applet_show_forecast;
	gtk_toggle_button_set_active ((GtkToggleButton*) forecast_checkbox, _tmp153_);
	g_signal_connect_object ((GtkToggleButton*) forecast_checkbox, "toggled", (GCallback) _weather_show_applet_weather_show_settings_toggle_value_gtk_toggle_button_toggled, self, 0);
	_tmp154_ = (GtkLabel*) gtk_label_new ("");
	g_object_ref_sink (_tmp154_);
	spacelabel3 = _tmp154_;
	_tmp155_ = subgrid_general;
	gtk_grid_attach (_tmp155_, (GtkWidget*) spacelabel3, 0, 13, 1, 1);
	_tmp156_ = (GtkCheckButton*) gtk_check_button_new_with_label (_ ("Use Fahrenheit"));
	g_object_ref_sink (_tmp156_);
	tempunit_checkbox = _tmp156_;
	_tmp157_ = subgrid_general;
	gtk_grid_attach (_tmp157_, (GtkWidget*) tempunit_checkbox, 0, 14, 1, 1);
	gtk_toggle_button_set_active ((GtkToggleButton*) tempunit_checkbox, weather_show_applet_weather_show_settings_get_tempstate (self));
	g_signal_connect_object ((GtkToggleButton*) tempunit_checkbox, "toggled", (GCallback) _weather_show_applet_weather_show_settings_set_tempunit_gtk_toggle_button_toggled, self, 0);
	_tmp158_ = (GtkLabel*) gtk_label_new ("");
	g_object_ref_sink (_tmp158_);
	spacelabel4 = _tmp158_;
	_tmp159_ = subgrid_general;
	gtk_grid_attach (_tmp159_, (GtkWidget*) spacelabel4, 0, 15, 1, 1);
	_tmp160_ = (GtkLabel*) gtk_label_new (_ ("Transparency"));
	g_object_ref_sink (_tmp160_);
	_g_object_unref0 (self->priv->transparency_label);
	self->priv->transparency_label = _tmp160_;
	_tmp161_ = self->priv->transparency_label;
	gtk_label_set_xalign (_tmp161_, (gfloat) 0);
	_tmp162_ = subgrid_desktop;
	_tmp163_ = self->priv->transparency_label;
	gtk_grid_attach (_tmp162_, (GtkWidget*) _tmp163_, 0, 22, 1, 1);
	_tmp164_ = (GtkScale*) gtk_scale_new_with_range (GTK_ORIENTATION_HORIZONTAL, (gdouble) 0, (gdouble) 100, (gdouble) 5);
	g_object_ref_sink (_tmp164_);
	_g_object_unref0 (self->priv->transparency_slider);
	self->priv->transparency_slider = _tmp164_;
	weather_show_applet_weather_show_settings_set_initialtransparency (self);
	_tmp165_ = subgrid_desktop;
	_tmp166_ = self->priv->transparency_slider;
	gtk_grid_attach (_tmp165_, (GtkWidget*) _tmp166_, 0, 23, 1, 1);
	_tmp167_ = self->priv->transparency_slider;
	g_signal_connect_object ((GtkRange*) _tmp167_, "value-changed", (GCallback) _weather_show_applet_weather_show_settings_update_transparencysettings_gtk_range_value_changed, self, 0);
	_tmp168_ = (GtkLabel*) gtk_label_new ("\n");
	g_object_ref_sink (_tmp168_);
	spacelabel6 = _tmp168_;
	_tmp169_ = subgrid_desktop;
	gtk_grid_attach (_tmp169_, (GtkWidget*) spacelabel6, 0, 24, 1, 1);
	_tmp170_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp170_);
	colorbox = _tmp170_;
	_tmp171_ = subgrid_desktop;
	gtk_grid_attach (_tmp171_, (GtkWidget*) colorbox, 0, 30, 1, 1);
	_tmp172_ = (GtkButton*) gtk_button_new ();
	g_object_ref_sink (_tmp172_);
	_g_object_unref0 (self->priv->colorbutton);
	self->priv->colorbutton = _tmp172_;
	weather_show_applet_weather_show_settings_set_buttoncolor (self);
	_tmp173_ = self->priv->colorbutton;
	gtk_widget_set_size_request ((GtkWidget*) _tmp173_, 10, 10);
	_tmp174_ = self->priv->colorbutton;
	g_signal_connect_object (_tmp174_, "clicked", (GCallback) _weather_show_applet_weather_show_settings_set_color_gtk_button_clicked, self, 0);
	_tmp175_ = self->priv->colorbutton;
	gtk_box_pack_start (colorbox, (GtkWidget*) _tmp175_, FALSE, FALSE, (guint) 0);
	_tmp176_ = g_strconcat ("\t", _ ("Set text color"), NULL);
	_tmp177_ = _tmp176_;
	_tmp178_ = (GtkLabel*) gtk_label_new (_tmp177_);
	g_object_ref_sink (_tmp178_);
	_g_object_unref0 (self->priv->colorlabel);
	self->priv->colorlabel = _tmp178_;
	_g_free0 (_tmp177_);
	_tmp179_ = self->priv->colorlabel;
	gtk_label_set_xalign (_tmp179_, (gfloat) 0);
	_tmp180_ = self->priv->colorlabel;
	gtk_box_pack_start (colorbox, (GtkWidget*) _tmp180_, FALSE, FALSE, (guint) 0);
	_tmp181_ = (GtkLabel*) gtk_label_new ("\n");
	g_object_ref_sink (_tmp181_);
	spacelabel7 = _tmp181_;
	_tmp182_ = subgrid_desktop;
	gtk_grid_attach (_tmp182_, (GtkWidget*) spacelabel7, 0, 31, 1, 1);
	_tmp183_ = (GtkCheckButton*) gtk_check_button_new_with_label (_ ("Set custom position (px)"));
	g_object_ref_sink (_tmp183_);
	_g_object_unref0 (self->priv->setposbutton);
	self->priv->setposbutton = _tmp183_;
	_tmp184_ = subgrid_desktop;
	_tmp185_ = self->priv->setposbutton;
	gtk_grid_attach (_tmp184_, (GtkWidget*) _tmp185_, 0, 50, 1, 1);
	_tmp186_ = self->priv->setposbutton;
	g_signal_connect_object ((GtkToggleButton*) _tmp186_, "toggled", (GCallback) _weather_show_applet_weather_show_settings_toggle_value_gtk_toggle_button_toggled, self, 0);
	_tmp187_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp187_);
	posholder = _tmp187_;
	_tmp188_ = (GtkEntry*) gtk_entry_new ();
	g_object_ref_sink (_tmp188_);
	_g_object_unref0 (self->priv->xpos);
	self->priv->xpos = _tmp188_;
	_tmp189_ = self->priv->xpos;
	gtk_entry_set_width_chars (_tmp189_, 4);
	_tmp190_ = (GtkLabel*) gtk_label_new ("x: ");
	g_object_ref_sink (_tmp190_);
	_g_object_unref0 (self->priv->xpos_label);
	self->priv->xpos_label = _tmp190_;
	_tmp191_ = (GtkEntry*) gtk_entry_new ();
	g_object_ref_sink (_tmp191_);
	_g_object_unref0 (self->priv->ypos);
	self->priv->ypos = _tmp191_;
	_tmp192_ = self->priv->ypos;
	gtk_entry_set_width_chars (_tmp192_, 4);
	_tmp193_ = (GtkLabel*) gtk_label_new (" y: ");
	g_object_ref_sink (_tmp193_);
	_g_object_unref0 (self->priv->ypos_label);
	self->priv->ypos_label = _tmp193_;
	_tmp194_ = self->priv->xpos_label;
	gtk_box_pack_start (posholder, (GtkWidget*) _tmp194_, FALSE, FALSE, (guint) 0);
	_tmp195_ = self->priv->xpos;
	gtk_box_pack_start (posholder, (GtkWidget*) _tmp195_, FALSE, FALSE, (guint) 0);
	_tmp196_ = self->priv->ypos_label;
	gtk_box_pack_start (posholder, (GtkWidget*) _tmp196_, FALSE, FALSE, (guint) 0);
	_tmp197_ = self->priv->ypos;
	gtk_box_pack_start (posholder, (GtkWidget*) _tmp197_, FALSE, FALSE, (guint) 0);
	_tmp198_ = (GtkButton*) gtk_button_new_with_label ("OK");
	g_object_ref_sink (_tmp198_);
	_g_object_unref0 (self->priv->apply);
	self->priv->apply = _tmp198_;
	_tmp199_ = self->priv->apply;
	g_signal_connect_object (_tmp199_, "clicked", (GCallback) _weather_show_applet_weather_show_settings_update_xysetting_gtk_button_clicked, self, 0);
	_tmp200_ = self->priv->apply;
	gtk_box_pack_end (posholder, (GtkWidget*) _tmp200_, FALSE, FALSE, (guint) 0);
	_tmp201_ = subgrid_desktop;
	gtk_grid_attach (_tmp201_, (GtkWidget*) posholder, 0, 51, 1, 1);
	_tmp202_ = self->priv->button_desktop;
	_tmp203_ = weather_show_applet_show_ondesktop;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp202_, _tmp203_);
	_tmp204_ = _g_object_ref0 (ondesktop_checkbox);
	_tmp205_ = _g_object_ref0 (dynamicicon_checkbox);
	_tmp206_ = _g_object_ref0 (forecast_checkbox);
	_tmp207_ = self->priv->setposbutton;
	_tmp208_ = _g_object_ref0 (_tmp207_);
	_tmp209_ = g_new0 (GtkCheckButton*, 4 + 1);
	_tmp209_[0] = _tmp204_;
	_tmp209_[1] = _tmp205_;
	_tmp209_[2] = _tmp206_;
	_tmp209_[3] = _tmp208_;
	self->priv->cbuttons = (_vala_array_free (self->priv->cbuttons, self->priv->cbuttons_length1, (GDestroyNotify) g_object_unref), NULL);
	self->priv->cbuttons = _tmp209_;
	self->priv->cbuttons_length1 = 4;
	self->priv->_cbuttons_size_ = self->priv->cbuttons_length1;
	_tmp210_ = g_strdup ("desktopweather");
	_tmp211_ = g_strdup ("dynamicicon");
	_tmp212_ = g_strdup ("forecast");
	_tmp213_ = g_strdup ("");
	_tmp214_ = g_new0 (gchar*, 4 + 1);
	_tmp214_[0] = _tmp210_;
	_tmp214_[1] = _tmp211_;
	_tmp214_[2] = _tmp212_;
	_tmp214_[3] = _tmp213_;
	self->priv->add_args = (_vala_array_free (self->priv->add_args, self->priv->add_args_length1, (GDestroyNotify) g_free), NULL);
	self->priv->add_args = _tmp214_;
	self->priv->add_args_length1 = 4;
	self->priv->_add_args_size_ = self->priv->add_args_length1;
	weather_show_applet_weather_show_settings_set_initialpos (self);
	weather_show_applet_weather_show_settings_set_buttoncolor (self);
	_tmp215_ = weather_show_applet_ws_settings;
	g_signal_connect_object (_tmp215_, "changed::textcolor", (GCallback) ___lambda6__g_settings_changed, self, 0);
	gtk_widget_show_all ((GtkWidget*) self);
	_g_object_unref0 (posholder);
	_g_object_unref0 (spacelabel7);
	_g_object_unref0 (colorbox);
	_g_object_unref0 (spacelabel6);
	_g_object_unref0 (spacelabel4);
	_g_object_unref0 (tempunit_checkbox);
	_g_object_unref0 (spacelabel3);
	_g_object_unref0 (forecast_checkbox);
	_g_object_unref0 (dynamicicon_checkbox);
	_g_object_unref0 (ondesktop_checkbox);
	_g_object_unref0 (spacelabel2);
	_g_object_unref0 (completion);
	_g_object_unref0 (langlabel);
	_g_object_unref0 (spacelabel1);
	_g_object_unref0 (searchicon);
	_g_free0 (initialcity);
	_g_object_unref0 (citybox);
	_g_object_unref0 (citylabel);
	_g_object_unref0 (subgrid_desktop);
	_g_object_unref0 (subgrid_general);
	_g_object_unref0 (header_space);
	return self;
}


WeatherShowAppletWeatherShowSettings*
weather_show_applet_weather_show_settings_new (GSettings* settings)
{
	return weather_show_applet_weather_show_settings_construct (WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_SETTINGS, settings);
}


static gchar*
weather_show_applet_weather_show_settings_set_initialcity (WeatherShowAppletWeatherShowSettings* self)
{
	gchar* result = NULL;
	gchar* initial_citycode = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	gchar** initline = NULL;
	gint _tmp2_;
	gchar** _tmp3_;
	gint initline_length1;
	gint _initline_size_;
	const gchar* _tmp4_;
	gchar** _tmp5_;
	gchar** _tmp6_;
	gchar** _tmp7_;
	gint _tmp7__length1;
	const gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = weather_show_applet_citycode;
	_tmp1_ = g_strdup (_tmp0_);
	initial_citycode = _tmp1_;
	_tmp3_ = weather_show_functions_get_matches (initial_citycode, &_tmp2_);
	initline = _tmp3_;
	initline_length1 = _tmp2_;
	_initline_size_ = initline_length1;
	_tmp4_ = initline[0];
	_tmp6_ = _tmp5_ = g_strsplit (_tmp4_, " ", 2);
	_tmp7_ = _tmp6_;
	_tmp7__length1 = _vala_array_length (_tmp5_);
	_tmp8_ = _tmp7_[1];
	_tmp9_ = g_strdup (_tmp8_);
	_tmp10_ = _tmp9_;
	_tmp7_ = (_vala_array_free (_tmp7_, _tmp7__length1, (GDestroyNotify) g_free), NULL);
	result = _tmp10_;
	initline = (_vala_array_free (initline, initline_length1, (GDestroyNotify) g_free), NULL);
	_g_free0 (initial_citycode);
	return result;
}


static void
weather_show_applet_weather_show_settings_set_initialpos (WeatherShowAppletWeatherShowSettings* self)
{
	gint set_xpos = 0;
	GSettings* _tmp0_;
	gint set_ypos = 0;
	GSettings* _tmp1_;
	gboolean currcustom = FALSE;
	gboolean _tmp2_ = FALSE;
	gint _tmp3_;
	GtkCheckButton* _tmp13_;
	gboolean _tmp14_;
	GtkEntry* _tmp15_;
	gboolean _tmp16_;
	GtkEntry* _tmp17_;
	gboolean _tmp18_;
	GtkButton* _tmp19_;
	gboolean _tmp20_;
	GtkLabel* _tmp21_;
	gboolean _tmp22_;
	GtkLabel* _tmp23_;
	gboolean _tmp24_;
	g_return_if_fail (self != NULL);
	_tmp0_ = weather_show_applet_ws_settings;
	set_xpos = g_settings_get_int (_tmp0_, "xposition");
	_tmp1_ = weather_show_applet_ws_settings;
	set_ypos = g_settings_get_int (_tmp1_, "yposition");
	_tmp3_ = set_xpos;
	if (_tmp3_ != 200) {
		_tmp2_ = TRUE;
	} else {
		gint _tmp4_;
		_tmp4_ = set_ypos;
		_tmp2_ = _tmp4_ != 200;
	}
	if (_tmp2_) {
		GtkEntry* _tmp5_;
		gint _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		GtkEntry* _tmp9_;
		gint _tmp10_;
		gchar* _tmp11_;
		gchar* _tmp12_;
		currcustom = TRUE;
		_tmp5_ = self->priv->xpos;
		_tmp6_ = set_xpos;
		_tmp7_ = g_strdup_printf ("%i", _tmp6_);
		_tmp8_ = _tmp7_;
		gtk_entry_set_text (_tmp5_, _tmp8_);
		_g_free0 (_tmp8_);
		_tmp9_ = self->priv->ypos;
		_tmp10_ = set_ypos;
		_tmp11_ = g_strdup_printf ("%i", _tmp10_);
		_tmp12_ = _tmp11_;
		gtk_entry_set_text (_tmp9_, _tmp12_);
		_g_free0 (_tmp12_);
	} else {
		currcustom = FALSE;
	}
	_tmp13_ = self->priv->setposbutton;
	_tmp14_ = currcustom;
	gtk_toggle_button_set_active ((GtkToggleButton*) _tmp13_, _tmp14_);
	_tmp15_ = self->priv->xpos;
	_tmp16_ = currcustom;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp15_, _tmp16_);
	_tmp17_ = self->priv->ypos;
	_tmp18_ = currcustom;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp17_, _tmp18_);
	_tmp19_ = self->priv->apply;
	_tmp20_ = currcustom;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp19_, _tmp20_);
	_tmp21_ = self->priv->xpos_label;
	_tmp22_ = currcustom;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp21_, _tmp22_);
	_tmp23_ = self->priv->ypos_label;
	_tmp24_ = currcustom;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp23_, _tmp24_);
}


static void
weather_show_applet_weather_show_settings_set_initiallang (WeatherShowAppletWeatherShowSettings* self)
{
	gchar* initial_lang = NULL;
	GSettings* _tmp0_;
	gchar* _tmp1_;
	gint index = 0;
	gchar** _tmp2_;
	gint _tmp2__length1;
	GtkEntry* _tmp3_;
	gchar** _tmp4_;
	gint _tmp4__length1;
	const gchar* _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp0_ = weather_show_applet_ws_settings;
	_tmp1_ = g_settings_get_string (_tmp0_, "language");
	initial_lang = _tmp1_;
	_tmp2_ = self->priv->langcodes;
	_tmp2__length1 = self->priv->langcodes_length1;
	index = weather_show_functions_get_stringindex (initial_lang, _tmp2_, _tmp2__length1);
	_tmp3_ = self->priv->langentry;
	_tmp4_ = self->priv->langlist;
	_tmp4__length1 = self->priv->langlist_length1;
	_tmp5_ = _tmp4_[index];
	gtk_entry_set_text (_tmp3_, _tmp5_);
	_g_free0 (initial_lang);
}


static void
weather_show_applet_weather_show_settings_update_xysetting (WeatherShowAppletWeatherShowSettings* self,
                                                            GtkButton* button)
{
	gchar* newxpos_str = NULL;
	GtkEntry* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	gint newx = 0;
	const gchar* _tmp3_;
	gchar* newypos_str = NULL;
	GtkEntry* _tmp4_;
	const gchar* _tmp5_;
	gchar* _tmp6_;
	gint newy = 0;
	const gchar* _tmp7_;
	gboolean _tmp8_ = FALSE;
	gint _tmp9_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (button != NULL);
	_tmp0_ = self->priv->xpos;
	_tmp1_ = gtk_entry_get_text (_tmp0_);
	_tmp2_ = g_strdup (_tmp1_);
	newxpos_str = _tmp2_;
	_tmp3_ = newxpos_str;
	newx = atoi (_tmp3_);
	_tmp4_ = self->priv->ypos;
	_tmp5_ = gtk_entry_get_text (_tmp4_);
	_tmp6_ = g_strdup (_tmp5_);
	newypos_str = _tmp6_;
	_tmp7_ = newypos_str;
	newy = atoi (_tmp7_);
	_tmp9_ = newx;
	if (_tmp9_ != 0) {
		gint _tmp10_;
		_tmp10_ = newy;
		_tmp8_ = _tmp10_ != 0;
	} else {
		_tmp8_ = FALSE;
	}
	if (_tmp8_) {
		GSettings* _tmp11_;
		gint _tmp12_;
		GSettings* _tmp13_;
		gint _tmp14_;
		_tmp11_ = weather_show_applet_ws_settings;
		_tmp12_ = newx;
		g_settings_set_int (_tmp11_, "xposition", _tmp12_);
		_tmp13_ = weather_show_applet_ws_settings;
		_tmp14_ = newy;
		g_settings_set_int (_tmp13_, "yposition", _tmp14_);
	} else {
		g_print ("incorrect input: no integer");
	}
	_g_free0 (newypos_str);
	_g_free0 (newxpos_str);
}


static gboolean
weather_show_applet_weather_show_settings_update_langsetting (WeatherShowAppletWeatherShowSettings* self,
                                                              GtkEntryCompletion* e,
                                                              GtkTreeModel* t,
                                                              GtkTreeIter* i)
{
	gboolean result = FALSE;
	gchar* match = NULL;
	GtkTreeIter _tmp0_;
	gint index = 0;
	gchar** _tmp1_;
	gint _tmp1__length1;
	GtkEntry* _tmp2_;
	gchar* newset_lang = NULL;
	gchar** _tmp3_;
	gint _tmp3__length1;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	GSettings* _tmp6_;
	gchar* _tmp7_;
	WeatherShowAppletGetWeatherdata* _tmp8_;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (e != NULL, FALSE);
	g_return_val_if_fail (t != NULL, FALSE);
	g_return_val_if_fail (i != NULL, FALSE);
	_tmp0_ = *i;
	gtk_tree_model_get (t, &_tmp0_, 0, &match, -1);
	_tmp1_ = self->priv->langlist;
	_tmp1__length1 = self->priv->langlist_length1;
	index = weather_show_functions_get_stringindex (match, _tmp1_, _tmp1__length1);
	_tmp2_ = self->priv->langentry;
	gtk_entry_set_text (_tmp2_, match);
	_tmp3_ = self->priv->langcodes;
	_tmp3__length1 = self->priv->langcodes_length1;
	_tmp4_ = _tmp3_[index];
	_tmp5_ = g_strdup (_tmp4_);
	newset_lang = _tmp5_;
	_tmp6_ = weather_show_applet_ws_settings;
	g_settings_set_string (_tmp6_, "language", newset_lang);
	_tmp7_ = g_strdup (newset_lang);
	_g_free0 (weather_show_applet_lang);
	weather_show_applet_lang = _tmp7_;
	_tmp8_ = weather_show_applet_weather_obj;
	weather_show_applet_get_weather (_tmp8_);
	result = TRUE;
	_g_free0 (newset_lang);
	_g_free0 (match);
	return result;
}


static void
weather_show_applet_weather_show_settings_update_citysettings (WeatherShowAppletWeatherShowSettings* self,
                                                               GtkMenuItem* m)
{
	gchar* newselect = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	gint index = 0;
	gchar** _tmp2_;
	gint _tmp2__length1;
	gchar* newcode = NULL;
	gchar** _tmp3_;
	gint _tmp3__length1;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	GSettings* _tmp6_;
	GtkEntry* _tmp7_;
	WeatherShowAppletGetWeatherdata* _tmp8_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (m != NULL);
	_tmp0_ = gtk_menu_item_get_label (m);
	_tmp1_ = g_strdup (_tmp0_);
	newselect = _tmp1_;
	_tmp2_ = self->priv->city_menurefs;
	_tmp2__length1 = self->priv->city_menurefs_length1;
	index = weather_show_functions_get_stringindex (newselect, _tmp2_, _tmp2__length1);
	_tmp3_ = self->priv->city_menucodes;
	_tmp3__length1 = self->priv->city_menucodes_length1;
	_tmp4_ = _tmp3_[index];
	_tmp5_ = g_strdup (_tmp4_);
	newcode = _tmp5_;
	_tmp6_ = weather_show_applet_ws_settings;
	g_settings_set_string (_tmp6_, "citycode", newcode);
	self->priv->edit_citymenu = FALSE;
	_tmp7_ = self->priv->cityentry;
	gtk_entry_set_text (_tmp7_, newselect);
	self->priv->edit_citymenu = TRUE;
	_tmp8_ = weather_show_applet_weather_obj;
	weather_show_applet_get_weather (_tmp8_);
	_g_free0 (newcode);
	_g_free0 (newselect);
}


void
weather_show_applet_weather_show_settings_update_transparencysettings (WeatherShowAppletWeatherShowSettings* self,
                                                                       GtkRange* slider)
{
	gint newval = 0;
	GSettings* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (slider != NULL);
	newval = (gint) gtk_range_get_value (slider);
	_tmp0_ = weather_show_applet_ws_settings;
	g_settings_set_int (_tmp0_, "transparency", newval);
}


void
weather_show_applet_weather_show_settings_set_initialtransparency (WeatherShowAppletWeatherShowSettings* self)
{
	gint intialsetting = 0;
	GSettings* _tmp0_;
	GtkScale* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = weather_show_applet_ws_settings;
	intialsetting = g_settings_get_int (_tmp0_, "transparency");
	_tmp1_ = self->priv->transparency_slider;
	gtk_range_set_value ((GtkRange*) _tmp1_, (gdouble) intialsetting);
}


static void
_vala_array_add4 (gchar** * array,
                  int* length,
                  int* size,
                  gchar* value)
{
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (gchar*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


static void
_vala_array_add5 (gchar** * array,
                  int* length,
                  int* size,
                  gchar* value)
{
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (gchar*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


static void
_weather_show_applet_weather_show_settings_update_citysettings_gtk_menu_item_activate (GtkMenuItem* _sender,
                                                                                       gpointer self)
{
	weather_show_applet_weather_show_settings_update_citysettings ((WeatherShowAppletWeatherShowSettings*) self, _sender);
}


static void
weather_show_applet_weather_show_settings_update_citylist (WeatherShowAppletWeatherShowSettings* self,
                                                           GtkEditable* entry)
{
	gchar** _tmp0_;
	gchar** _tmp1_;
	gchar* currentry = NULL;
	GtkEntry* _tmp2_;
	const gchar* _tmp3_;
	gchar* _tmp4_;
	GtkMenu* _tmp5_;
	GtkMenu* _tmp6_;
	gboolean _tmp7_ = FALSE;
	gboolean _tmp8_ = FALSE;
	const gchar* _tmp9_;
	GtkMenu* _tmp42_;
	GtkMenuButton* _tmp43_;
	GtkMenu* _tmp44_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (entry != NULL);
	_tmp0_ = g_new0 (gchar*, 0 + 1);
	self->priv->city_menurefs = (_vala_array_free (self->priv->city_menurefs, self->priv->city_menurefs_length1, (GDestroyNotify) g_free), NULL);
	self->priv->city_menurefs = _tmp0_;
	self->priv->city_menurefs_length1 = 0;
	self->priv->_city_menurefs_size_ = self->priv->city_menurefs_length1;
	_tmp1_ = g_new0 (gchar*, 0 + 1);
	self->priv->city_menucodes = (_vala_array_free (self->priv->city_menucodes, self->priv->city_menucodes_length1, (GDestroyNotify) g_free), NULL);
	self->priv->city_menucodes = _tmp1_;
	self->priv->city_menucodes_length1 = 0;
	self->priv->_city_menucodes_size_ = self->priv->city_menucodes_length1;
	_tmp2_ = self->priv->cityentry;
	_tmp3_ = gtk_entry_get_text (_tmp2_);
	_tmp4_ = g_strdup (_tmp3_);
	currentry = _tmp4_;
	_tmp5_ = self->priv->citymenu;
	gtk_widget_destroy ((GtkWidget*) _tmp5_);
	_tmp6_ = (GtkMenu*) gtk_menu_new ();
	g_object_ref_sink (_tmp6_);
	_g_object_unref0 (self->priv->citymenu);
	self->priv->citymenu = _tmp6_;
	_tmp9_ = currentry;
	if (g_utf8_strlen (_tmp9_, (gssize) -1) > 2) {
		gboolean _tmp10_;
		_tmp10_ = self->priv->edit_citymenu;
		_tmp8_ = _tmp10_ == TRUE;
	} else {
		_tmp8_ = FALSE;
	}
	if (_tmp8_) {
		_tmp7_ = entry != NULL;
	} else {
		_tmp7_ = FALSE;
	}
	if (_tmp7_) {
		gchar** matches = NULL;
		const gchar* _tmp11_;
		gint _tmp12_;
		gchar** _tmp13_;
		gint matches_length1;
		gint _matches_size_;
		gint n_matches = 0;
		gchar** _tmp14_;
		gint _tmp14__length1;
		gint _tmp15_;
		_tmp11_ = currentry;
		_tmp13_ = weather_show_functions_get_matches (_tmp11_, &_tmp12_);
		matches = _tmp13_;
		matches_length1 = _tmp12_;
		_matches_size_ = matches_length1;
		_tmp14_ = matches;
		_tmp14__length1 = matches_length1;
		n_matches = _tmp14__length1;
		_tmp15_ = n_matches;
		if (_tmp15_ > 0) {
			gchar** _tmp16_;
			gint _tmp16__length1;
			_tmp16_ = matches;
			_tmp16__length1 = matches_length1;
			{
				gchar** s_collection = NULL;
				gint s_collection_length1 = 0;
				gint _s_collection_size_ = 0;
				gint s_it = 0;
				s_collection = _tmp16_;
				s_collection_length1 = _tmp16__length1;
				for (s_it = 0; s_it < _tmp16__length1; s_it = s_it + 1) {
					gchar* _tmp17_;
					gchar* s = NULL;
					_tmp17_ = g_strdup (s_collection[s_it]);
					s = _tmp17_;
					{
						gchar** new_ref = NULL;
						const gchar* _tmp18_;
						gchar** _tmp19_;
						gchar** _tmp20_;
						gint new_ref_length1;
						gint _new_ref_size_;
						gchar* newref = NULL;
						gchar** _tmp21_;
						gint _tmp21__length1;
						const gchar* _tmp22_;
						gchar* _tmp23_;
						GtkMenuItem* newitem = NULL;
						const gchar* _tmp24_;
						GtkMenuItem* _tmp25_;
						gchar** _tmp26_;
						gint _tmp26__length1;
						const gchar* _tmp27_;
						gchar* _tmp28_;
						gchar** _tmp29_;
						gint _tmp29__length1;
						gchar** _tmp30_;
						gint _tmp30__length1;
						const gchar* _tmp31_;
						gchar* _tmp32_;
						GtkMenuItem* _tmp33_;
						GtkMenu* _tmp34_;
						GtkMenuItem* _tmp35_;
						_tmp18_ = s;
						_tmp20_ = _tmp19_ = g_strsplit (_tmp18_, " ", 2);
						new_ref = _tmp20_;
						new_ref_length1 = _vala_array_length (_tmp19_);
						_new_ref_size_ = new_ref_length1;
						_tmp21_ = new_ref;
						_tmp21__length1 = new_ref_length1;
						_tmp22_ = _tmp21_[1];
						_tmp23_ = g_strdup (_tmp22_);
						newref = _tmp23_;
						_tmp24_ = newref;
						_tmp25_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_tmp24_);
						g_object_ref_sink (_tmp25_);
						newitem = _tmp25_;
						_tmp26_ = self->priv->city_menurefs;
						_tmp26__length1 = self->priv->city_menurefs_length1;
						_tmp27_ = newref;
						_tmp28_ = g_strdup (_tmp27_);
						_vala_array_add4 (&self->priv->city_menurefs, &self->priv->city_menurefs_length1, &self->priv->_city_menurefs_size_, _tmp28_);
						_tmp29_ = self->priv->city_menucodes;
						_tmp29__length1 = self->priv->city_menucodes_length1;
						_tmp30_ = new_ref;
						_tmp30__length1 = new_ref_length1;
						_tmp31_ = _tmp30_[0];
						_tmp32_ = g_strdup (_tmp31_);
						_vala_array_add5 (&self->priv->city_menucodes, &self->priv->city_menucodes_length1, &self->priv->_city_menucodes_size_, _tmp32_);
						_tmp33_ = newitem;
						g_signal_connect_object (_tmp33_, "activate", (GCallback) _weather_show_applet_weather_show_settings_update_citysettings_gtk_menu_item_activate, self, 0);
						_tmp34_ = self->priv->citymenu;
						_tmp35_ = newitem;
						gtk_container_add ((GtkContainer*) _tmp34_, (GtkWidget*) _tmp35_);
						_g_object_unref0 (newitem);
						_g_free0 (newref);
						new_ref = (_vala_array_free (new_ref, new_ref_length1, (GDestroyNotify) g_free), NULL);
						_g_free0 (s);
					}
				}
			}
		} else {
			GtkMenuItem* newitem = NULL;
			GtkMenuItem* _tmp36_;
			GtkMenu* _tmp37_;
			GtkMenuItem* _tmp38_;
			_tmp36_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("No matches found");
			g_object_ref_sink (_tmp36_);
			newitem = _tmp36_;
			_tmp37_ = self->priv->citymenu;
			_tmp38_ = newitem;
			gtk_container_add ((GtkContainer*) _tmp37_, (GtkWidget*) _tmp38_);
			_g_object_unref0 (newitem);
		}
		matches = (_vala_array_free (matches, matches_length1, (GDestroyNotify) g_free), NULL);
	} else {
		GtkMenuItem* newitem = NULL;
		GtkMenuItem* _tmp39_;
		GtkMenu* _tmp40_;
		GtkMenuItem* _tmp41_;
		_tmp39_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("Please enter at least 3 characters"));
		g_object_ref_sink (_tmp39_);
		newitem = _tmp39_;
		_tmp40_ = self->priv->citymenu;
		_tmp41_ = newitem;
		gtk_container_add ((GtkContainer*) _tmp40_, (GtkWidget*) _tmp41_);
		_g_object_unref0 (newitem);
	}
	_tmp42_ = self->priv->citymenu;
	gtk_widget_show_all ((GtkWidget*) _tmp42_);
	_tmp43_ = self->priv->search_button;
	_tmp44_ = self->priv->citymenu;
	gtk_menu_button_set_popup (_tmp43_, (GtkWidget*) _tmp44_);
	_g_free0 (currentry);
}


static void
weather_show_applet_weather_show_settings_set_color (WeatherShowAppletWeatherShowSettings* self,
                                                     GtkButton* button)
{
	gchar* colorwin = NULL;
	gchar* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (button != NULL);
	_tmp0_ = g_strconcat ("/usr/lib/budgie-desktop/", "plugins/budgie-weathershow/get_color", NULL);
	colorwin = _tmp0_;
	weather_show_functions_open_window (colorwin);
	_g_free0 (colorwin);
}


static gchar*
string_replace (const gchar* self,
                const gchar* old,
                const gchar* replacement)
{
	gchar* result = NULL;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (old != NULL, NULL);
	g_return_val_if_fail (replacement != NULL, NULL);
	if ((*((gchar*) self)) == '\0') {
		_tmp1_ = TRUE;
	} else {
		_tmp1_ = (*((gchar*) old)) == '\0';
	}
	if (_tmp1_) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = g_strcmp0 (old, replacement) == 0;
	}
	if (_tmp0_) {
		gchar* _tmp2_;
		_tmp2_ = g_strdup (self);
		result = _tmp2_;
		return result;
	}
	{
		GRegex* regex = NULL;
		gchar* _tmp3_;
		gchar* _tmp4_;
		GRegex* _tmp5_;
		GRegex* _tmp6_;
		gchar* _tmp7_ = NULL;
		GRegex* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
		_tmp3_ = g_regex_escape_string (old, -1);
		_tmp4_ = _tmp3_;
		_tmp5_ = g_regex_new (_tmp4_, 0, 0, &_inner_error_);
		_tmp6_ = _tmp5_;
		_g_free0 (_tmp4_);
		regex = _tmp6_;
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			if (_inner_error_->domain == G_REGEX_ERROR) {
				goto __catch2_g_regex_error;
			}
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return NULL;
		}
		_tmp8_ = regex;
		_tmp9_ = g_regex_replace_literal (_tmp8_, self, (gssize) -1, 0, replacement, 0, &_inner_error_);
		_tmp7_ = _tmp9_;
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			_g_regex_unref0 (regex);
			if (_inner_error_->domain == G_REGEX_ERROR) {
				goto __catch2_g_regex_error;
			}
			_g_regex_unref0 (regex);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return NULL;
		}
		_tmp10_ = _tmp7_;
		_tmp7_ = NULL;
		result = _tmp10_;
		_g_free0 (_tmp7_);
		_g_regex_unref0 (regex);
		return result;
	}
	goto __finally2;
	__catch2_g_regex_error:
	{
		GError* e = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		g_assert_not_reached ();
		_g_error_free0 (e);
	}
	__finally2:
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
}


static void
weather_show_applet_weather_show_settings_set_buttoncolor (WeatherShowAppletWeatherShowSettings* self)
{
	gchar** readcolor = NULL;
	GSettings* _tmp0_;
	gchar** _tmp1_;
	gchar** _tmp2_;
	gint readcolor_length1;
	gint _readcolor_size_;
	gchar* newcsscolor = NULL;
	gchar* _tmp3_;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	GtkButton* _tmp6_;
	GtkStyleContext* _tmp7_;
	GtkCssProvider* _tmp8_;
	const gchar* _tmp9_;
	GdkScreen* _tmp10_;
	GtkCssProvider* _tmp11_;
	GtkButton* _tmp12_;
	GtkStyleContext* _tmp13_;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = weather_show_applet_ws_settings;
	_tmp2_ = _tmp1_ = g_settings_get_strv (_tmp0_, "textcolor");
	readcolor = _tmp2_;
	readcolor_length1 = _vala_array_length (_tmp1_);
	_readcolor_size_ = readcolor_length1;
	_tmp3_ = _vala_g_strjoinv (", ", readcolor, readcolor_length1);
	newcsscolor = _tmp3_;
	_tmp4_ = self->priv->css_template;
	_tmp5_ = string_replace (_tmp4_, "xxx, xxx, xxx", newcsscolor);
	_g_free0 (self->priv->css_data);
	self->priv->css_data = _tmp5_;
	_tmp6_ = self->priv->colorbutton;
	_tmp7_ = gtk_widget_get_style_context ((GtkWidget*) _tmp6_);
	gtk_style_context_remove_class (_tmp7_, "colorbutton");
	_tmp8_ = self->priv->css_provider;
	_tmp9_ = self->priv->css_data;
	gtk_css_provider_load_from_data (_tmp8_, _tmp9_, (gssize) -1, &_inner_error_);
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		_g_free0 (newcsscolor);
		readcolor = (_vala_array_free (readcolor, readcolor_length1, (GDestroyNotify) g_free), NULL);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
	_tmp10_ = self->priv->screen;
	_tmp11_ = self->priv->css_provider;
	gtk_style_context_add_provider_for_screen (_tmp10_, (GtkStyleProvider*) _tmp11_, (guint) GTK_STYLE_PROVIDER_PRIORITY_USER);
	_tmp12_ = self->priv->colorbutton;
	_tmp13_ = gtk_widget_get_style_context ((GtkWidget*) _tmp12_);
	gtk_style_context_add_class (_tmp13_, "colorbutton");
	gtk_widget_show_all ((GtkWidget*) self);
	_g_free0 (newcsscolor);
	readcolor = (_vala_array_free (readcolor, readcolor_length1, (GDestroyNotify) g_free), NULL);
}


static void
weather_show_applet_weather_show_settings_on_button_general_clicked (WeatherShowAppletWeatherShowSettings* self,
                                                                     GtkButton* button)
{
	GtkStack* _tmp0_;
	GtkLabel* _tmp1_;
	GtkLabel* _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (button != NULL);
	_tmp0_ = self->priv->stack;
	gtk_stack_set_visible_child_name (_tmp0_, "Page1");
	_tmp1_ = self->priv->currmarker_label1;
	gtk_label_set_text (_tmp1_, "");
	_tmp2_ = self->priv->currmarker_label2;
	gtk_label_set_text (_tmp2_, "");
}


static void
weather_show_applet_weather_show_settings_on_button_desktop_clicked (WeatherShowAppletWeatherShowSettings* self,
                                                                     GtkButton* button)
{
	GtkStack* _tmp0_;
	GtkLabel* _tmp1_;
	GtkLabel* _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (button != NULL);
	_tmp0_ = self->priv->stack;
	gtk_stack_set_visible_child_name (_tmp0_, "Page2");
	_tmp1_ = self->priv->currmarker_label2;
	gtk_label_set_text (_tmp1_, "");
	_tmp2_ = self->priv->currmarker_label1;
	gtk_label_set_text (_tmp2_, "");
}


static gint
weather_show_applet_weather_show_settings_get_buttonarg (WeatherShowAppletWeatherShowSettings* self,
                                                         GtkToggleButton* button)
{
	gint result = 0;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (button != NULL, 0);
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp0_ = FALSE;
			_tmp0_ = TRUE;
			while (TRUE) {
				gint _tmp2_;
				GtkCheckButton** _tmp3_;
				gint _tmp3__length1;
				GtkCheckButton** _tmp4_;
				gint _tmp4__length1;
				gint _tmp5_;
				GtkCheckButton* _tmp6_;
				if (!_tmp0_) {
					gint _tmp1_;
					_tmp1_ = i;
					i = _tmp1_ + 1;
				}
				_tmp0_ = FALSE;
				_tmp2_ = i;
				_tmp3_ = self->priv->cbuttons;
				_tmp3__length1 = self->priv->cbuttons_length1;
				if (!(_tmp2_ < _tmp3__length1)) {
					break;
				}
				_tmp4_ = self->priv->cbuttons;
				_tmp4__length1 = self->priv->cbuttons_length1;
				_tmp5_ = i;
				_tmp6_ = _tmp4_[_tmp5_];
				if (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, gtk_toggle_button_get_type (), GtkToggleButton) == button) {
					result = i;
					return result;
				}
			}
		}
	}
	result = -1;
	return result;
}


static gboolean
weather_show_applet_weather_show_settings_get_tempstate (WeatherShowAppletWeatherShowSettings* self)
{
	gboolean result = FALSE;
	const gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = weather_show_applet_tempunit;
	result = g_strcmp0 (_tmp0_, "Fahrenheit") == 0;
	return result;
}


static void
weather_show_applet_weather_show_settings_set_tempunit (WeatherShowAppletWeatherShowSettings* self,
                                                        GtkToggleButton* button)
{
	gboolean newsetting = FALSE;
	gboolean _tmp0_;
	WeatherShowAppletGetWeatherdata* _tmp3_;
	GSettings* _tmp4_;
	const gchar* _tmp5_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (button != NULL);
	newsetting = gtk_toggle_button_get_active (button);
	_tmp0_ = newsetting;
	if (_tmp0_ == TRUE) {
		gchar* _tmp1_;
		_tmp1_ = g_strdup ("Fahrenheit");
		_g_free0 (weather_show_applet_tempunit);
		weather_show_applet_tempunit = _tmp1_;
	} else {
		gchar* _tmp2_;
		_tmp2_ = g_strdup ("Celsius");
		_g_free0 (weather_show_applet_tempunit);
		weather_show_applet_tempunit = _tmp2_;
	}
	_tmp3_ = weather_show_applet_weather_obj;
	weather_show_applet_get_weather (_tmp3_);
	_tmp4_ = weather_show_applet_ws_settings;
	_tmp5_ = weather_show_applet_tempunit;
	g_settings_set_string (_tmp4_, "tempunit", _tmp5_);
}


static void
weather_show_applet_weather_show_settings_toggle_value (WeatherShowAppletWeatherShowSettings* self,
                                                        GtkToggleButton* button)
{
	gboolean newsetting = FALSE;
	gint val_index = 0;
	gchar* currsetting = NULL;
	gchar** _tmp0_;
	gint _tmp0__length1;
	gint _tmp1_;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	gint _tmp4_;
	gint _tmp8_;
	WeatherShowAppletGetWeatherdata* _tmp36_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (button != NULL);
	newsetting = gtk_toggle_button_get_active (button);
	val_index = weather_show_applet_weather_show_settings_get_buttonarg (self, button);
	_tmp0_ = self->priv->add_args;
	_tmp0__length1 = self->priv->add_args_length1;
	_tmp1_ = val_index;
	_tmp2_ = _tmp0_[_tmp1_];
	_tmp3_ = g_strdup (_tmp2_);
	currsetting = _tmp3_;
	_tmp4_ = val_index;
	if (_tmp4_ != 3) {
		GSettings* _tmp5_;
		const gchar* _tmp6_;
		gboolean _tmp7_;
		_tmp5_ = weather_show_applet_ws_settings;
		_tmp6_ = currsetting;
		_tmp7_ = newsetting;
		g_settings_set_boolean (_tmp5_, _tmp6_, _tmp7_);
	}
	_tmp8_ = val_index;
	if (_tmp8_ == 0) {
		GtkButton* _tmp9_;
		gboolean _tmp10_;
		gboolean _tmp11_;
		_tmp9_ = self->priv->button_desktop;
		_tmp10_ = newsetting;
		gtk_widget_set_sensitive ((GtkWidget*) _tmp9_, _tmp10_);
		_tmp11_ = newsetting;
		if (_tmp11_ == TRUE) {
			gchar* _tmp12_;
			gchar* _tmp13_;
			_tmp12_ = g_strconcat ("/usr/lib/budgie-desktop/plugins/", "budgie-weathershow/desktop_weather", NULL);
			_tmp13_ = _tmp12_;
			weather_show_functions_open_window (_tmp13_);
			_g_free0 (_tmp13_);
		}
	} else {
		gint _tmp14_;
		_tmp14_ = val_index;
		if (_tmp14_ == 3) {
			GtkLabel* _tmp15_;
			gboolean _tmp16_;
			GtkLabel* _tmp17_;
			gboolean _tmp18_;
			GtkEntry* _tmp19_;
			gboolean _tmp20_;
			GtkEntry* _tmp21_;
			gboolean _tmp22_;
			GtkButton* _tmp23_;
			gboolean _tmp24_;
			gboolean _tmp25_;
			_tmp15_ = self->priv->xpos_label;
			_tmp16_ = newsetting;
			gtk_widget_set_sensitive ((GtkWidget*) _tmp15_, _tmp16_);
			_tmp17_ = self->priv->ypos_label;
			_tmp18_ = newsetting;
			gtk_widget_set_sensitive ((GtkWidget*) _tmp17_, _tmp18_);
			_tmp19_ = self->priv->xpos;
			_tmp20_ = newsetting;
			gtk_widget_set_sensitive ((GtkWidget*) _tmp19_, _tmp20_);
			_tmp21_ = self->priv->ypos;
			_tmp22_ = newsetting;
			gtk_widget_set_sensitive ((GtkWidget*) _tmp21_, _tmp22_);
			_tmp23_ = self->priv->apply;
			_tmp24_ = newsetting;
			gtk_widget_set_sensitive ((GtkWidget*) _tmp23_, _tmp24_);
			_tmp25_ = newsetting;
			if (_tmp25_ == FALSE) {
				GtkEntry* _tmp26_;
				GtkEntry* _tmp27_;
				GSettings* _tmp28_;
				GSettings* _tmp29_;
				_tmp26_ = self->priv->xpos;
				gtk_entry_set_text (_tmp26_, "");
				_tmp27_ = self->priv->ypos;
				gtk_entry_set_text (_tmp27_, "");
				_tmp28_ = weather_show_applet_ws_settings;
				g_settings_set_int (_tmp28_, "xposition", 200);
				_tmp29_ = weather_show_applet_ws_settings;
				g_settings_set_int (_tmp29_, "yposition", 200);
			}
		} else {
			gboolean _tmp30_ = FALSE;
			gint _tmp31_;
			_tmp31_ = val_index;
			if (_tmp31_ == 1) {
				gboolean _tmp32_;
				_tmp32_ = newsetting;
				_tmp30_ = _tmp32_ == FALSE;
			} else {
				_tmp30_ = FALSE;
			}
			if (_tmp30_) {
				GtkImage* _tmp33_;
				GdkPixbuf* _tmp34_;
				GtkLabel* _tmp35_;
				_tmp33_ = weather_show_applet_indicatorIcon;
				_tmp34_ = weather_show_applet_default_icon;
				gtk_image_set_from_pixbuf (_tmp33_, _tmp34_);
				_tmp35_ = weather_show_applet_templabel;
				gtk_label_set_text (_tmp35_, "");
			}
		}
	}
	_tmp36_ = weather_show_applet_weather_obj;
	weather_show_applet_get_weather (_tmp36_);
	_g_free0 (currsetting);
}


static void
weather_show_applet_weather_show_settings_class_init (WeatherShowAppletWeatherShowSettingsClass * klass)
{
	weather_show_applet_weather_show_settings_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (WeatherShowAppletWeatherShowSettingsPrivate));
	G_OBJECT_CLASS (klass)->finalize = weather_show_applet_weather_show_settings_finalize;
}


static void
weather_show_applet_weather_show_settings_instance_init (WeatherShowAppletWeatherShowSettings * self)
{
	self->priv = WEATHER_SHOW_APPLET_WEATHER_SHOW_SETTINGS_GET_PRIVATE (self);
}


static void
weather_show_applet_weather_show_settings_finalize (GObject * obj)
{
	WeatherShowAppletWeatherShowSettings * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_SETTINGS, WeatherShowAppletWeatherShowSettings);
	self->priv->cbuttons = (_vala_array_free (self->priv->cbuttons, self->priv->cbuttons_length1, (GDestroyNotify) g_object_unref), NULL);
	self->priv->add_args = (_vala_array_free (self->priv->add_args, self->priv->add_args_length1, (GDestroyNotify) g_free), NULL);
	_g_free0 (self->priv->css_template);
	_g_free0 (self->priv->css_data);
	_g_object_unref0 (self->priv->transparency_slider);
	_g_object_unref0 (self->priv->colorbutton);
	_g_object_unref0 (self->priv->colorlabel);
	_g_object_unref0 (self->priv->setposbutton);
	_g_object_unref0 (self->priv->xpos);
	_g_object_unref0 (self->priv->ypos);
	_g_object_unref0 (self->priv->xpos_label);
	_g_object_unref0 (self->priv->ypos_label);
	_g_object_unref0 (self->priv->apply);
	_g_object_unref0 (self->priv->transparency_label);
	_g_object_unref0 (self->priv->stack);
	_g_object_unref0 (self->priv->button_desktop);
	_g_object_unref0 (self->priv->button_general);
	_g_object_unref0 (self->priv->currmarker_label1);
	_g_object_unref0 (self->priv->currmarker_label2);
	_g_object_unref0 (self->priv->css_provider);
	_g_object_unref0 (self->priv->cityentry);
	_g_object_unref0 (self->priv->citymenu);
	_g_object_unref0 (self->priv->screen);
	_g_object_unref0 (self->priv->langentry);
	self->priv->langlist = (_vala_array_free (self->priv->langlist, self->priv->langlist_length1, (GDestroyNotify) g_free), NULL);
	_g_object_unref0 (self->priv->lang_liststore);
	self->priv->langcodes = (_vala_array_free (self->priv->langcodes, self->priv->langcodes_length1, (GDestroyNotify) g_free), NULL);
	_g_object_unref0 (self->priv->search_button);
	self->priv->city_menurefs = (_vala_array_free (self->priv->city_menurefs, self->priv->city_menurefs_length1, (GDestroyNotify) g_free), NULL);
	self->priv->city_menucodes = (_vala_array_free (self->priv->city_menucodes, self->priv->city_menucodes_length1, (GDestroyNotify) g_free), NULL);
	G_OBJECT_CLASS (weather_show_applet_weather_show_settings_parent_class)->finalize (obj);
}


GType
weather_show_applet_weather_show_settings_get_type (void)
{
	return weather_show_applet_weather_show_settings_type_id;
}


GType
weather_show_applet_weather_show_settings_register_type (GTypeModule * module)
{
	static const GTypeInfo g_define_type_info = { sizeof (WeatherShowAppletWeatherShowSettingsClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) weather_show_applet_weather_show_settings_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (WeatherShowAppletWeatherShowSettings), 0, (GInstanceInitFunc) weather_show_applet_weather_show_settings_instance_init, NULL };
	weather_show_applet_weather_show_settings_type_id = g_type_module_register_type (module, gtk_grid_get_type (), "WeatherShowAppletWeatherShowSettings", &g_define_type_info, 0);
	return weather_show_applet_weather_show_settings_type_id;
}


static BudgieApplet*
weather_show_applet_plugin_real_get_panel_widget (BudgiePlugin* base,
                                                  const gchar* uuid)
{
	WeatherShowAppletPlugin * self;
	BudgieApplet* result = NULL;
	WeatherShowAppletApplet* _tmp0_;
	self = (WeatherShowAppletPlugin*) base;
	g_return_val_if_fail (uuid != NULL, NULL);
	_tmp0_ = weather_show_applet_applet_new ();
	g_object_ref_sink (_tmp0_);
	result = (BudgieApplet*) _tmp0_;
	return result;
}


WeatherShowAppletPlugin*
weather_show_applet_plugin_construct (GType object_type)
{
	WeatherShowAppletPlugin * self = NULL;
	self = (WeatherShowAppletPlugin*) g_object_new (object_type, NULL);
	return self;
}


WeatherShowAppletPlugin*
weather_show_applet_plugin_new (void)
{
	return weather_show_applet_plugin_construct (WEATHER_SHOW_APPLET_TYPE_PLUGIN);
}


static void
weather_show_applet_plugin_class_init (WeatherShowAppletPluginClass * klass)
{
	weather_show_applet_plugin_parent_class = g_type_class_peek_parent (klass);
}


static void
weather_show_applet_plugin_budgie_plugin_interface_init (BudgiePluginIface * iface)
{
	weather_show_applet_plugin_budgie_plugin_parent_iface = g_type_interface_peek_parent (iface);
	iface->get_panel_widget = (BudgieApplet* (*) (BudgiePlugin *, const gchar*)) weather_show_applet_plugin_real_get_panel_widget;
}


static void
weather_show_applet_plugin_instance_init (WeatherShowAppletPlugin * self)
{
}


GType
weather_show_applet_plugin_get_type (void)
{
	return weather_show_applet_plugin_type_id;
}


GType
weather_show_applet_plugin_register_type (GTypeModule * module)
{
	static const GTypeInfo g_define_type_info = { sizeof (WeatherShowAppletPluginClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) weather_show_applet_plugin_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (WeatherShowAppletPlugin), 0, (GInstanceInitFunc) weather_show_applet_plugin_instance_init, NULL };
	static const GInterfaceInfo budgie_plugin_info = { (GInterfaceInitFunc) weather_show_applet_plugin_budgie_plugin_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
	weather_show_applet_plugin_type_id = g_type_module_register_type (module, peas_extension_base_get_type (), "WeatherShowAppletPlugin", &g_define_type_info, 0);
	g_type_module_add_interface (module, weather_show_applet_plugin_type_id, budgie_plugin_get_type (), &budgie_plugin_info);
	return weather_show_applet_plugin_type_id;
}


static void
_weather_show_applet_weather_show_popover_previous_stack_gtk_button_clicked (GtkButton* _sender,
                                                                             gpointer self)
{
	weather_show_applet_weather_show_popover_previous_stack ((WeatherShowAppletWeatherShowPopover*) self, _sender);
}


static void
_weather_show_applet_weather_show_popover_next_stack_gtk_button_clicked (GtkButton* _sender,
                                                                         gpointer self)
{
	weather_show_applet_weather_show_popover_next_stack ((WeatherShowAppletWeatherShowPopover*) self, _sender);
}


WeatherShowAppletWeatherShowPopover*
weather_show_applet_weather_show_popover_construct (GType object_type,
                                                    GtkEventBox* indicatorBox)
{
	WeatherShowAppletWeatherShowPopover * self = NULL;
	GtkEventBox* _tmp0_;
	GtkImage* _tmp1_;
	GtkImage* _tmp2_;
	GdkPixbuf* _tmp3_;
	GtkLabel* _tmp4_;
	GtkBox* _tmp5_;
	GtkImage* _tmp6_;
	GtkBox* _tmp7_;
	GtkLabel* _tmp8_;
	GtkGrid* _tmp9_;
	GtkGrid* _tmp10_;
	GtkBox* leftbox = NULL;
	GtkBox* _tmp11_;
	GtkButton* browseleft = NULL;
	GtkButton* _tmp12_;
	GtkBox* rightbox = NULL;
	GtkBox* _tmp13_;
	GtkButton* browseright = NULL;
	GtkButton* _tmp14_;
	GtkGrid* _tmp15_;
	GtkGrid* _tmp16_;
	GtkGrid* _tmp17_;
	g_return_val_if_fail (indicatorBox != NULL, NULL);
	self = (WeatherShowAppletWeatherShowPopover*) g_object_new (object_type, "relative-to", indicatorBox, NULL);
	_tmp0_ = _g_object_ref0 (indicatorBox);
	_g_object_unref0 (self->priv->indicatorBox);
	self->priv->indicatorBox = _tmp0_;
	_tmp1_ = (GtkImage*) gtk_image_new ();
	g_object_ref_sink (_tmp1_);
	_g_object_unref0 (weather_show_applet_indicatorIcon);
	weather_show_applet_indicatorIcon = _tmp1_;
	_tmp2_ = weather_show_applet_indicatorIcon;
	_tmp3_ = weather_show_applet_default_icon;
	gtk_image_set_from_pixbuf (_tmp2_, _tmp3_);
	_tmp4_ = (GtkLabel*) gtk_label_new ("");
	g_object_ref_sink (_tmp4_);
	_g_object_unref0 (weather_show_applet_templabel);
	weather_show_applet_templabel = _tmp4_;
	_tmp5_ = weather_show_applet_container;
	_tmp6_ = weather_show_applet_indicatorIcon;
	gtk_box_pack_start (_tmp5_, (GtkWidget*) _tmp6_, FALSE, FALSE, (guint) 0);
	_tmp7_ = weather_show_applet_container;
	_tmp8_ = weather_show_applet_templabel;
	gtk_box_pack_end (_tmp7_, (GtkWidget*) _tmp8_, FALSE, FALSE, (guint) 0);
	_tmp9_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp9_);
	_g_object_unref0 (weather_show_applet_popover_mastergrid);
	weather_show_applet_popover_mastergrid = _tmp9_;
	_tmp10_ = weather_show_applet_popover_mastergrid;
	gtk_grid_set_column_spacing (_tmp10_, (guint) 30);
	_tmp11_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
	g_object_ref_sink (_tmp11_);
	leftbox = _tmp11_;
	_tmp12_ = (GtkButton*) gtk_button_new_from_icon_name ("go-previous-symbolic", (GtkIconSize) GTK_ICON_SIZE_BUTTON);
	g_object_ref_sink (_tmp12_);
	browseleft = _tmp12_;
	gtk_widget_set_size_request ((GtkWidget*) browseleft, 10, 10);
	gtk_button_set_relief (browseleft, GTK_RELIEF_NONE);
	g_signal_connect_object (browseleft, "clicked", (GCallback) _weather_show_applet_weather_show_popover_previous_stack_gtk_button_clicked, self, 0);
	gtk_box_pack_end (leftbox, (GtkWidget*) browseleft, FALSE, FALSE, (guint) 0);
	_tmp13_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
	g_object_ref_sink (_tmp13_);
	rightbox = _tmp13_;
	_tmp14_ = (GtkButton*) gtk_button_new_from_icon_name ("go-next-symbolic", (GtkIconSize) GTK_ICON_SIZE_BUTTON);
	g_object_ref_sink (_tmp14_);
	browseright = _tmp14_;
	gtk_widget_set_size_request ((GtkWidget*) browseright, 10, 10);
	gtk_button_set_relief (browseright, GTK_RELIEF_NONE);
	g_signal_connect_object (browseright, "clicked", (GCallback) _weather_show_applet_weather_show_popover_next_stack_gtk_button_clicked, self, 0);
	gtk_box_pack_end (rightbox, (GtkWidget*) browseright, FALSE, FALSE, (guint) 0);
	_tmp15_ = weather_show_applet_popover_mastergrid;
	gtk_grid_attach (_tmp15_, (GtkWidget*) leftbox, 0, 0, 1, 1);
	_tmp16_ = weather_show_applet_popover_mastergrid;
	gtk_grid_attach (_tmp16_, (GtkWidget*) rightbox, 2, 0, 1, 1);
	_tmp17_ = weather_show_applet_popover_mastergrid;
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp17_);
	_g_object_unref0 (browseright);
	_g_object_unref0 (rightbox);
	_g_object_unref0 (browseleft);
	_g_object_unref0 (leftbox);
	return self;
}


WeatherShowAppletWeatherShowPopover*
weather_show_applet_weather_show_popover_new (GtkEventBox* indicatorBox)
{
	return weather_show_applet_weather_show_popover_construct (WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_POPOVER, indicatorBox);
}


static void
weather_show_applet_weather_show_popover_next_stack (WeatherShowAppletWeatherShowPopover* self,
                                                     GtkButton* button)
{
	gint _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (button != NULL);
	_tmp0_ = weather_show_applet_fc_stackindex;
	if (_tmp0_ != 3) {
		gint newindex = 0;
		gint _tmp1_;
		GtkStack* _tmp2_;
		gchar** _tmp3_;
		gint _tmp3__length1;
		gint _tmp4_;
		const gchar* _tmp5_;
		gint _tmp6_;
		_tmp1_ = weather_show_applet_fc_stackindex;
		newindex = _tmp1_ + 1;
		_tmp2_ = weather_show_applet_popoverstack;
		_tmp3_ = weather_show_applet_fc_stacknames;
		_tmp3__length1 = weather_show_applet_fc_stacknames_length1;
		_tmp4_ = newindex;
		_tmp5_ = _tmp3_[_tmp4_];
		gtk_stack_set_visible_child_name (_tmp2_, _tmp5_);
		_tmp6_ = newindex;
		weather_show_applet_fc_stackindex = _tmp6_;
	}
}


static void
weather_show_applet_weather_show_popover_previous_stack (WeatherShowAppletWeatherShowPopover* self,
                                                         GtkButton* button)
{
	gint _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (button != NULL);
	_tmp0_ = weather_show_applet_fc_stackindex;
	if (_tmp0_ != 0) {
		gint newindex = 0;
		gint _tmp1_;
		GtkStack* _tmp2_;
		gchar** _tmp3_;
		gint _tmp3__length1;
		gint _tmp4_;
		const gchar* _tmp5_;
		gint _tmp6_;
		_tmp1_ = weather_show_applet_fc_stackindex;
		newindex = _tmp1_ - 1;
		_tmp2_ = weather_show_applet_popoverstack;
		_tmp3_ = weather_show_applet_fc_stacknames;
		_tmp3__length1 = weather_show_applet_fc_stacknames_length1;
		_tmp4_ = newindex;
		_tmp5_ = _tmp3_[_tmp4_];
		gtk_stack_set_visible_child_name (_tmp2_, _tmp5_);
		_tmp6_ = newindex;
		weather_show_applet_fc_stackindex = _tmp6_;
	}
}


static void
weather_show_applet_weather_show_popover_class_init (WeatherShowAppletWeatherShowPopoverClass * klass)
{
	weather_show_applet_weather_show_popover_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (WeatherShowAppletWeatherShowPopoverPrivate));
	G_OBJECT_CLASS (klass)->finalize = weather_show_applet_weather_show_popover_finalize;
}


static void
weather_show_applet_weather_show_popover_instance_init (WeatherShowAppletWeatherShowPopover * self)
{
	self->priv = WEATHER_SHOW_APPLET_WEATHER_SHOW_POPOVER_GET_PRIVATE (self);
}


static void
weather_show_applet_weather_show_popover_finalize (GObject * obj)
{
	WeatherShowAppletWeatherShowPopover * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, WEATHER_SHOW_APPLET_TYPE_WEATHER_SHOW_POPOVER, WeatherShowAppletWeatherShowPopover);
	_g_object_unref0 (self->priv->indicatorBox);
	G_OBJECT_CLASS (weather_show_applet_weather_show_popover_parent_class)->finalize (obj);
}


GType
weather_show_applet_weather_show_popover_get_type (void)
{
	return weather_show_applet_weather_show_popover_type_id;
}


GType
weather_show_applet_weather_show_popover_register_type (GTypeModule * module)
{
	static const GTypeInfo g_define_type_info = { sizeof (WeatherShowAppletWeatherShowPopoverClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) weather_show_applet_weather_show_popover_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (WeatherShowAppletWeatherShowPopover), 0, (GInstanceInitFunc) weather_show_applet_weather_show_popover_instance_init, NULL };
	weather_show_applet_weather_show_popover_type_id = g_type_module_register_type (module, budgie_popover_get_type (), "WeatherShowAppletWeatherShowPopover", &g_define_type_info, 0);
	return weather_show_applet_weather_show_popover_type_id;
}


static gboolean
weather_show_applet_applet_real_supports_settings (BudgieApplet* base)
{
	WeatherShowAppletApplet * self;
	gboolean result = FALSE;
	self = (WeatherShowAppletApplet*) base;
	result = TRUE;
	return result;
}


static GtkWidget*
weather_show_applet_applet_real_get_settings_ui (BudgieApplet* base)
{
	WeatherShowAppletApplet * self;
	GtkWidget* result = NULL;
	const gchar* _tmp0_;
	GSettings* _tmp1_;
	GSettings* _tmp2_;
	WeatherShowAppletWeatherShowSettings* _tmp3_;
	GtkWidget* _tmp4_;
	self = (WeatherShowAppletApplet*) base;
	_tmp0_ = self->priv->_uuid;
	_tmp1_ = budgie_applet_get_applet_settings ((BudgieApplet*) self, _tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = weather_show_applet_weather_show_settings_new (_tmp2_);
	g_object_ref_sink (_tmp3_);
	_tmp4_ = (GtkWidget*) _tmp3_;
	_g_object_unref0 (_tmp2_);
	result = _tmp4_;
	return result;
}


static void
__lambda7_ (WeatherShowAppletApplet* self)
{
	GSettings* _tmp0_;
	gchar* _tmp1_;
	_tmp0_ = weather_show_applet_ws_settings;
	_tmp1_ = g_settings_get_string (_tmp0_, "tempunit");
	_g_free0 (weather_show_applet_tempunit);
	weather_show_applet_tempunit = _tmp1_;
}


static void
___lambda7__g_settings_changed (GSettings* _sender,
                                const gchar* key,
                                gpointer self)
{
	__lambda7_ ((WeatherShowAppletApplet*) self);
}


static void
__lambda8_ (WeatherShowAppletApplet* self)
{
	GSettings* _tmp0_;
	_tmp0_ = weather_show_applet_ws_settings;
	weather_show_applet_show_ondesktop = g_settings_get_boolean (_tmp0_, "desktopweather");
}


static void
___lambda8__g_settings_changed (GSettings* _sender,
                                const gchar* key,
                                gpointer self)
{
	__lambda8_ ((WeatherShowAppletApplet*) self);
}


static void
__lambda9_ (WeatherShowAppletApplet* self)
{
	GSettings* _tmp0_;
	gchar* _tmp1_;
	_tmp0_ = weather_show_applet_ws_settings;
	_tmp1_ = g_settings_get_string (_tmp0_, "citycode");
	_g_free0 (weather_show_applet_citycode);
	weather_show_applet_citycode = _tmp1_;
}


static void
___lambda9__g_settings_changed (GSettings* _sender,
                                const gchar* key,
                                gpointer self)
{
	__lambda9_ ((WeatherShowAppletApplet*) self);
}


static void
__lambda10_ (WeatherShowAppletApplet* self)
{
	GSettings* _tmp0_;
	_tmp0_ = weather_show_applet_ws_settings;
	weather_show_applet_dynamic_icon = g_settings_get_boolean (_tmp0_, "dynamicicon");
}


static void
___lambda10__g_settings_changed (GSettings* _sender,
                                 const gchar* key,
                                 gpointer self)
{
	__lambda10_ ((WeatherShowAppletApplet*) self);
}


static void
__lambda11_ (WeatherShowAppletApplet* self)
{
	GSettings* _tmp0_;
	_tmp0_ = weather_show_applet_ws_settings;
	weather_show_applet_show_forecast = g_settings_get_boolean (_tmp0_, "forecast");
}


static void
___lambda11__g_settings_changed (GSettings* _sender,
                                 const gchar* key,
                                 gpointer self)
{
	__lambda11_ ((WeatherShowAppletApplet*) self);
}


static gboolean
__lambda12_ (WeatherShowAppletApplet* self,
             GdkEventButton* e)
{
	gboolean result = FALSE;
	gboolean _tmp0_;
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp0_ = weather_show_applet_show_forecast;
	if (_tmp0_ == TRUE) {
		guint _tmp1_;
		WeatherShowAppletWeatherShowPopover* _tmp2_;
		_tmp1_ = e->button;
		if (_tmp1_ != ((guint) 1)) {
			result = GDK_EVENT_PROPAGATE;
			return result;
		}
		_tmp2_ = self->priv->popover;
		if (gtk_widget_get_visible ((GtkWidget*) _tmp2_)) {
			WeatherShowAppletWeatherShowPopover* _tmp3_;
			_tmp3_ = self->priv->popover;
			gtk_widget_hide ((GtkWidget*) _tmp3_);
		} else {
			BudgiePopoverManager* _tmp4_;
			GtkEventBox* _tmp5_;
			_tmp4_ = self->priv->manager;
			_tmp5_ = self->priv->indicatorBox;
			budgie_popover_manager_show_popover (_tmp4_, (GtkWidget*) _tmp5_);
		}
		result = GDK_EVENT_STOP;
		return result;
	}
	result = FALSE;
	return result;
}


static gboolean
___lambda12__gtk_widget_button_press_event (GtkWidget* _sender,
                                            GdkEventButton* event,
                                            gpointer self)
{
	gboolean result;
	result = __lambda12_ ((WeatherShowAppletApplet*) self, event);
	return result;
}


static gboolean
__lambda13_ (WeatherShowAppletApplet* self)
{
	gboolean result = FALSE;
	WeatherShowAppletGetWeatherdata* _tmp0_;
	_tmp0_ = weather_show_applet_weather_obj;
	weather_show_applet_get_weather (_tmp0_);
	result = TRUE;
	return result;
}


static gboolean
___lambda13__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda13_ ((WeatherShowAppletApplet*) self);
	return result;
}


WeatherShowAppletApplet*
weather_show_applet_applet_construct (GType object_type)
{
	WeatherShowAppletApplet * self = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gchar** _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar** _tmp14_;
	GdkPixbuf* _tmp15_ = NULL;
	GdkPixbuf* _tmp16_;
	GdkPixbuf* _tmp17_;
	GSettings* _tmp18_;
	GSettings* _tmp19_;
	gchar* _tmp20_;
	GSettings* _tmp21_;
	GSettings* _tmp22_;
	gchar* _tmp23_;
	GSettings* _tmp24_;
	gchar* _tmp25_;
	GSettings* _tmp26_;
	GSettings* _tmp27_;
	GSettings* _tmp28_;
	gchar* _tmp29_;
	GSettings* _tmp30_;
	GSettings* _tmp31_;
	GSettings* _tmp32_;
	GSettings* _tmp33_;
	GSettings* _tmp34_;
	gboolean _tmp35_;
	GtkEventBox* _tmp36_;
	GtkBox* _tmp37_;
	GtkEventBox* _tmp38_;
	GtkBox* _tmp39_;
	GtkEventBox* _tmp40_;
	GtkEventBox* _tmp41_;
	WeatherShowAppletWeatherShowPopover* _tmp42_;
	GtkEventBox* _tmp43_;
	WeatherShowAppletWeatherShowPopover* _tmp44_;
	GtkWidget* _tmp45_;
	WeatherShowAppletGetWeatherdata* _tmp46_;
	WeatherShowAppletGetWeatherdata* _tmp47_;
	GError * _inner_error_ = NULL;
	self = (WeatherShowAppletApplet*) g_object_new (object_type, NULL);
	_tmp0_ = g_strdup ("");
	_tmp1_ = g_strdup ("");
	_tmp2_ = g_strdup ("");
	_tmp3_ = g_strdup ("");
	_tmp4_ = g_strdup ("");
	_tmp5_ = g_strdup ("");
	_tmp6_ = g_strdup ("");
	_tmp7_ = g_strdup ("");
	_tmp8_ = g_strdup ("");
	_tmp9_ = g_new0 (gchar*, 9 + 1);
	_tmp9_[0] = _tmp0_;
	_tmp9_[1] = _tmp1_;
	_tmp9_[2] = _tmp2_;
	_tmp9_[3] = _tmp3_;
	_tmp9_[4] = _tmp4_;
	_tmp9_[5] = _tmp5_;
	_tmp9_[6] = _tmp6_;
	_tmp9_[7] = _tmp7_;
	_tmp9_[8] = _tmp8_;
	weather_show_applet_directions = (_vala_array_free (weather_show_applet_directions, weather_show_applet_directions_length1, (GDestroyNotify) g_free), NULL);
	weather_show_applet_directions = _tmp9_;
	weather_show_applet_directions_length1 = 9;
	_weather_show_applet_directions_size_ = weather_show_applet_directions_length1;
	_tmp10_ = g_strdup ("forecast0");
	_tmp11_ = g_strdup ("forecast1");
	_tmp12_ = g_strdup ("forecast2");
	_tmp13_ = g_strdup ("forecast3");
	_tmp14_ = g_new0 (gchar*, 4 + 1);
	_tmp14_[0] = _tmp10_;
	_tmp14_[1] = _tmp11_;
	_tmp14_[2] = _tmp12_;
	_tmp14_[3] = _tmp13_;
	weather_show_applet_fc_stacknames = (_vala_array_free (weather_show_applet_fc_stacknames, weather_show_applet_fc_stacknames_length1, (GDestroyNotify) g_free), NULL);
	weather_show_applet_fc_stacknames = _tmp14_;
	weather_show_applet_fc_stacknames_length1 = 4;
	_weather_show_applet_fc_stacknames_size_ = weather_show_applet_fc_stacknames_length1;
	weather_show_applet_applet_get_icondata (self);
	_tmp16_ = gdk_pixbuf_new_from_file_at_size ("/usr/share/pixmaps/budgie-wticon-symbolic.svg", 22, 22, &_inner_error_);
	_tmp15_ = _tmp16_;
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
	_tmp17_ = _tmp15_;
	_tmp15_ = NULL;
	_g_object_unref0 (weather_show_applet_default_icon);
	weather_show_applet_default_icon = _tmp17_;
	_tmp18_ = weather_show_functions_get_settings ("org.ubuntubudgie.plugins.weathershow");
	_g_object_unref0 (weather_show_applet_ws_settings);
	weather_show_applet_ws_settings = _tmp18_;
	_tmp19_ = weather_show_applet_ws_settings;
	_tmp20_ = g_settings_get_string (_tmp19_, "tempunit");
	_g_free0 (weather_show_applet_tempunit);
	weather_show_applet_tempunit = _tmp20_;
	_tmp21_ = weather_show_applet_ws_settings;
	g_signal_connect_object (_tmp21_, "changed::tempunit", (GCallback) ___lambda7__g_settings_changed, self, 0);
	_tmp22_ = weather_show_applet_ws_settings;
	_tmp23_ = g_settings_get_string (_tmp22_, "language");
	_g_free0 (weather_show_applet_lang);
	weather_show_applet_lang = _tmp23_;
	_tmp24_ = weather_show_applet_ws_settings;
	_tmp25_ = g_settings_get_string (_tmp24_, "key");
	_g_free0 (weather_show_applet_key);
	weather_show_applet_key = _tmp25_;
	_tmp26_ = weather_show_applet_ws_settings;
	weather_show_applet_show_ondesktop = g_settings_get_boolean (_tmp26_, "desktopweather");
	_tmp27_ = weather_show_applet_ws_settings;
	g_signal_connect_object (_tmp27_, "changed::desktopweather", (GCallback) ___lambda8__g_settings_changed, self, 0);
	_tmp28_ = weather_show_applet_ws_settings;
	_tmp29_ = g_settings_get_string (_tmp28_, "citycode");
	_g_free0 (weather_show_applet_citycode);
	weather_show_applet_citycode = _tmp29_;
	_tmp30_ = weather_show_applet_ws_settings;
	g_signal_connect_object (_tmp30_, "changed::citycode", (GCallback) ___lambda9__g_settings_changed, self, 0);
	_tmp31_ = weather_show_applet_ws_settings;
	weather_show_applet_dynamic_icon = g_settings_get_boolean (_tmp31_, "dynamicicon");
	_tmp32_ = weather_show_applet_ws_settings;
	g_signal_connect_object (_tmp32_, "changed::dynamicicon", (GCallback) ___lambda10__g_settings_changed, self, 0);
	_tmp33_ = weather_show_applet_ws_settings;
	weather_show_applet_show_forecast = g_settings_get_boolean (_tmp33_, "forecast");
	_tmp34_ = weather_show_applet_ws_settings;
	g_signal_connect_object (_tmp34_, "changed::forecast", (GCallback) ___lambda11__g_settings_changed, self, 0);
	_tmp35_ = weather_show_applet_show_ondesktop;
	if (_tmp35_ == TRUE) {
		weather_show_functions_open_window ("/home/jacob/Desktop/experim/WeatherShowII_underconstruction/drafts/des" \
"ktop_weather");
	}
	weather_show_applet_applet_initialiseLocaleLanguageSupport (self);
	_tmp36_ = (GtkEventBox*) gtk_event_box_new ();
	g_object_ref_sink (_tmp36_);
	_g_object_unref0 (self->priv->indicatorBox);
	self->priv->indicatorBox = _tmp36_;
	_tmp37_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp37_);
	_g_object_unref0 (weather_show_applet_container);
	weather_show_applet_container = _tmp37_;
	_tmp38_ = self->priv->indicatorBox;
	_tmp39_ = weather_show_applet_container;
	gtk_container_add ((GtkContainer*) _tmp38_, (GtkWidget*) _tmp39_);
	_tmp40_ = self->priv->indicatorBox;
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp40_);
	_tmp41_ = self->priv->indicatorBox;
	_tmp42_ = weather_show_applet_weather_show_popover_new (_tmp41_);
	g_object_ref_sink (_tmp42_);
	_g_object_unref0 (self->priv->popover);
	self->priv->popover = _tmp42_;
	_tmp43_ = self->priv->indicatorBox;
	g_signal_connect_object ((GtkWidget*) _tmp43_, "button-press-event", (GCallback) ___lambda12__gtk_widget_button_press_event, self, 0);
	_tmp44_ = self->priv->popover;
	_tmp45_ = gtk_bin_get_child ((GtkBin*) _tmp44_);
	gtk_widget_show_all (_tmp45_);
	gtk_widget_show_all ((GtkWidget*) self);
	_tmp46_ = weather_show_applet_get_weatherdata_new ();
	_weather_show_applet_get_weatherdata_unref0 (weather_show_applet_weather_obj);
	weather_show_applet_weather_obj = _tmp46_;
	_tmp47_ = weather_show_applet_weather_obj;
	weather_show_applet_get_weather (_tmp47_);
	g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) 60000, ___lambda13__gsource_func, g_object_ref (self), g_object_unref);
	_g_object_unref0 (_tmp15_);
	return self;
}


WeatherShowAppletApplet*
weather_show_applet_applet_new (void)
{
	return weather_show_applet_applet_construct (WEATHER_SHOW_APPLET_TYPE_APPLET);
}


static void
_vala_array_add6 (gchar** * array,
                  int* length,
                  int* size,
                  gchar* value)
{
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (gchar*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


static void
_vala_array_add7 (GdkPixbuf** * array,
                  int* length,
                  int* size,
                  GdkPixbuf* value)
{
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (GdkPixbuf*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


static void
_vala_array_add8 (GdkPixbuf** * array,
                  int* length,
                  int* size,
                  GdkPixbuf* value)
{
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (GdkPixbuf*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


static void
weather_show_applet_applet_get_icondata (WeatherShowAppletApplet* self)
{
	gchar* icondir = NULL;
	gchar* _tmp0_;
	gchar** _tmp1_;
	GdkPixbuf** _tmp2_;
	GdkPixbuf** _tmp3_;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = g_strconcat ("/", "usr/lib/budgie-desktop/plugins", "/budgie-weathershow/weather_icons", NULL);
	icondir = _tmp0_;
	_tmp1_ = g_new0 (gchar*, 0 + 1);
	weather_show_applet_iconnames = (_vala_array_free (weather_show_applet_iconnames, weather_show_applet_iconnames_length1, (GDestroyNotify) g_free), NULL);
	weather_show_applet_iconnames = _tmp1_;
	weather_show_applet_iconnames_length1 = 0;
	_weather_show_applet_iconnames_size_ = weather_show_applet_iconnames_length1;
	_tmp2_ = g_new0 (GdkPixbuf*, 0 + 1);
	weather_show_applet_iconpixbufs = (_vala_array_free (weather_show_applet_iconpixbufs, weather_show_applet_iconpixbufs_length1, (GDestroyNotify) g_object_unref), NULL);
	weather_show_applet_iconpixbufs = _tmp2_;
	weather_show_applet_iconpixbufs_length1 = 0;
	_weather_show_applet_iconpixbufs_size_ = weather_show_applet_iconpixbufs_length1;
	_tmp3_ = g_new0 (GdkPixbuf*, 0 + 1);
	weather_show_applet_iconpixbufs_large = (_vala_array_free (weather_show_applet_iconpixbufs_large, weather_show_applet_iconpixbufs_large_length1, (GDestroyNotify) g_object_unref), NULL);
	weather_show_applet_iconpixbufs_large = _tmp3_;
	weather_show_applet_iconpixbufs_large_length1 = 0;
	_weather_show_applet_iconpixbufs_large_size_ = weather_show_applet_iconpixbufs_large_length1;
	{
		GDir* dr = NULL;
		const gchar* _tmp4_;
		GDir* _tmp5_;
		gchar* filename = NULL;
		_tmp4_ = icondir;
		_tmp5_ = g_dir_open (_tmp4_, (guint) 0, &_inner_error_);
		dr = _tmp5_;
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			if (_inner_error_->domain == G_FILE_ERROR) {
				goto __catch3_g_file_error;
			}
			_g_free0 (icondir);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
		filename = NULL;
		while (TRUE) {
			GDir* _tmp6_;
			const gchar* _tmp7_;
			gchar* _tmp8_;
			const gchar* _tmp9_;
			gchar** _tmp10_;
			gint _tmp10__length1;
			const gchar* _tmp11_;
			gchar* _tmp12_;
			gchar* iconpath = NULL;
			const gchar* _tmp13_;
			const gchar* _tmp14_;
			gchar* _tmp15_;
			GdkPixbuf* _tmp16_ = NULL;
			const gchar* _tmp17_;
			GdkPixbuf* _tmp18_;
			GdkPixbuf** _tmp19_;
			gint _tmp19__length1;
			GdkPixbuf* _tmp20_;
			GdkPixbuf* _tmp21_ = NULL;
			const gchar* _tmp22_;
			GdkPixbuf* _tmp23_;
			GdkPixbuf** _tmp24_;
			gint _tmp24__length1;
			GdkPixbuf* _tmp25_;
			_tmp6_ = dr;
			_tmp7_ = g_dir_read_name (_tmp6_);
			_tmp8_ = g_strdup (_tmp7_);
			_g_free0 (filename);
			filename = _tmp8_;
			_tmp9_ = filename;
			if (!(_tmp9_ != NULL)) {
				break;
			}
			_tmp10_ = weather_show_applet_iconnames;
			_tmp10__length1 = weather_show_applet_iconnames_length1;
			_tmp11_ = filename;
			_tmp12_ = string_slice (_tmp11_, (glong) 0, (glong) 4);
			_vala_array_add6 (&weather_show_applet_iconnames, &weather_show_applet_iconnames_length1, &_weather_show_applet_iconnames_size_, _tmp12_);
			_tmp13_ = icondir;
			_tmp14_ = filename;
			_tmp15_ = g_build_filename (_tmp13_, _tmp14_, NULL);
			iconpath = _tmp15_;
			_tmp17_ = iconpath;
			_tmp18_ = gdk_pixbuf_new_from_file_at_size (_tmp17_, 22, 22, &_inner_error_);
			_tmp16_ = _tmp18_;
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				_g_free0 (iconpath);
				_g_free0 (filename);
				_g_dir_close0 (dr);
				if (_inner_error_->domain == G_FILE_ERROR) {
					goto __catch3_g_file_error;
				}
				goto __finally3;
			}
			_tmp19_ = weather_show_applet_iconpixbufs;
			_tmp19__length1 = weather_show_applet_iconpixbufs_length1;
			_tmp20_ = _tmp16_;
			_tmp16_ = NULL;
			_vala_array_add7 (&weather_show_applet_iconpixbufs, &weather_show_applet_iconpixbufs_length1, &_weather_show_applet_iconpixbufs_size_, _tmp20_);
			_tmp22_ = iconpath;
			_tmp23_ = gdk_pixbuf_new_from_file_at_size (_tmp22_, 65, 65, &_inner_error_);
			_tmp21_ = _tmp23_;
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				_g_object_unref0 (_tmp16_);
				_g_free0 (iconpath);
				_g_free0 (filename);
				_g_dir_close0 (dr);
				if (_inner_error_->domain == G_FILE_ERROR) {
					goto __catch3_g_file_error;
				}
				goto __finally3;
			}
			_tmp24_ = weather_show_applet_iconpixbufs_large;
			_tmp24__length1 = weather_show_applet_iconpixbufs_large_length1;
			_tmp25_ = _tmp21_;
			_tmp21_ = NULL;
			_vala_array_add8 (&weather_show_applet_iconpixbufs_large, &weather_show_applet_iconpixbufs_large_length1, &_weather_show_applet_iconpixbufs_large_size_, _tmp25_);
			_g_object_unref0 (_tmp21_);
			_g_object_unref0 (_tmp16_);
			_g_free0 (iconpath);
		}
		_g_free0 (filename);
		_g_dir_close0 (dr);
	}
	goto __finally3;
	__catch3_g_file_error:
	{
		GError* err = NULL;
		err = _inner_error_;
		_inner_error_ = NULL;
		g_print ("Something went wrong loading the icons");
		_g_error_free0 (err);
	}
	__finally3:
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		_g_free0 (icondir);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
	_g_free0 (icondir);
}


static void
weather_show_applet_applet_real_update_popovers (BudgieApplet* base,
                                                 BudgiePopoverManager* manager)
{
	WeatherShowAppletApplet * self;
	GtkEventBox* _tmp0_;
	WeatherShowAppletWeatherShowPopover* _tmp1_;
	self = (WeatherShowAppletApplet*) base;
	self->priv->manager = manager;
	_tmp0_ = self->priv->indicatorBox;
	_tmp1_ = self->priv->popover;
	budgie_popover_manager_register_popover (manager, (GtkWidget*) _tmp0_, (BudgiePopover*) _tmp1_);
}


void
weather_show_applet_applet_initialiseLocaleLanguageSupport (WeatherShowAppletApplet* self)
{
	g_return_if_fail (self != NULL);
	setlocale (LC_ALL, "");
	bindtextdomain (GETTEXT_PACKAGE, PACKAGE_LOCALEDIR);
	bind_textdomain_codeset (GETTEXT_PACKAGE, "UTF-8");
	textdomain (GETTEXT_PACKAGE);
}


const gchar*
weather_show_applet_applet_get_uuid (WeatherShowAppletApplet* self)
{
	const gchar* result;
	const gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_uuid;
	result = _tmp0_;
	return result;
}


void
weather_show_applet_applet_set_uuid (WeatherShowAppletApplet* self,
                                     const gchar* value)
{
	g_return_if_fail (self != NULL);
	if (g_strcmp0 (value, weather_show_applet_applet_get_uuid (self)) != 0) {
		gchar* _tmp0_;
		_tmp0_ = g_strdup (value);
		_g_free0 (self->priv->_uuid);
		self->priv->_uuid = _tmp0_;
		g_object_notify_by_pspec ((GObject *) self, weather_show_applet_applet_properties[WEATHER_SHOW_APPLET_APPLET_UUID_PROPERTY]);
	}
}


static void
weather_show_applet_applet_class_init (WeatherShowAppletAppletClass * klass)
{
	weather_show_applet_applet_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (WeatherShowAppletAppletPrivate));
	((BudgieAppletClass *) klass)->supports_settings = (gboolean (*) (BudgieApplet *)) weather_show_applet_applet_real_supports_settings;
	((BudgieAppletClass *) klass)->get_settings_ui = (GtkWidget* (*) (BudgieApplet *)) weather_show_applet_applet_real_get_settings_ui;
	((BudgieAppletClass *) klass)->update_popovers = (void (*) (BudgieApplet *, BudgiePopoverManager*)) weather_show_applet_applet_real_update_popovers;
	G_OBJECT_CLASS (klass)->get_property = _vala_weather_show_applet_applet_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_weather_show_applet_applet_set_property;
	G_OBJECT_CLASS (klass)->finalize = weather_show_applet_applet_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), WEATHER_SHOW_APPLET_APPLET_UUID_PROPERTY, weather_show_applet_applet_properties[WEATHER_SHOW_APPLET_APPLET_UUID_PROPERTY] = g_param_spec_string ("uuid", "uuid", "uuid", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
}


static void
weather_show_applet_applet_instance_init (WeatherShowAppletApplet * self)
{
	self->priv = WEATHER_SHOW_APPLET_APPLET_GET_PRIVATE (self);
	self->priv->popover = NULL;
	self->priv->manager = NULL;
}


static void
weather_show_applet_applet_finalize (GObject * obj)
{
	WeatherShowAppletApplet * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, WEATHER_SHOW_APPLET_TYPE_APPLET, WeatherShowAppletApplet);
	_g_object_unref0 (self->priv->indicatorBox);
	_g_object_unref0 (self->priv->popover);
	_g_free0 (self->priv->_uuid);
	G_OBJECT_CLASS (weather_show_applet_applet_parent_class)->finalize (obj);
}


GType
weather_show_applet_applet_get_type (void)
{
	return weather_show_applet_applet_type_id;
}


GType
weather_show_applet_applet_register_type (GTypeModule * module)
{
	static const GTypeInfo g_define_type_info = { sizeof (WeatherShowAppletAppletClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) weather_show_applet_applet_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (WeatherShowAppletApplet), 0, (GInstanceInitFunc) weather_show_applet_applet_instance_init, NULL };
	weather_show_applet_applet_type_id = g_type_module_register_type (module, budgie_applet_get_type (), "WeatherShowAppletApplet", &g_define_type_info, 0);
	return weather_show_applet_applet_type_id;
}


static void
_vala_weather_show_applet_applet_get_property (GObject * object,
                                               guint property_id,
                                               GValue * value,
                                               GParamSpec * pspec)
{
	WeatherShowAppletApplet * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, WEATHER_SHOW_APPLET_TYPE_APPLET, WeatherShowAppletApplet);
	switch (property_id) {
		case WEATHER_SHOW_APPLET_APPLET_UUID_PROPERTY:
		g_value_set_string (value, weather_show_applet_applet_get_uuid (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void
_vala_weather_show_applet_applet_set_property (GObject * object,
                                               guint property_id,
                                               const GValue * value,
                                               GParamSpec * pspec)
{
	WeatherShowAppletApplet * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, WEATHER_SHOW_APPLET_TYPE_APPLET, WeatherShowAppletApplet);
	switch (property_id) {
		case WEATHER_SHOW_APPLET_APPLET_UUID_PROPERTY:
		weather_show_applet_applet_set_uuid (self, g_value_get_string (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


void
peas_register_types (GTypeModule* module)
{
	PeasObjectModule* objmodule = NULL;
	PeasObjectModule* _tmp0_;
	g_return_if_fail (module != NULL);
	weather_show_applet_get_weatherdata_register_type (module);
	weather_show_applet_weather_show_settings_register_type (module);
	weather_show_applet_plugin_register_type (module);
	weather_show_applet_weather_show_popover_register_type (module);
	weather_show_applet_applet_register_type (module);
	_tmp0_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (module, peas_object_module_get_type ()) ? ((PeasObjectModule*) module) : NULL);
	objmodule = _tmp0_;
	peas_object_module_register_extension_type (objmodule, budgie_plugin_get_type (), WEATHER_SHOW_APPLET_TYPE_PLUGIN);
	_g_object_unref0 (objmodule);
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint
_vala_array_length (gpointer array)
{
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



